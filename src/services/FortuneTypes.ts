/**
 * 다양한 운세 종류 생성기
 * 각 운세는 출처가 명확한 전통 자료를 기반으로 합니다.
 */

// ============================================
// 공통: 용신 기반 행운 정보 (하도낙서 河圖洛書 기반)
// ============================================

// 오행별 행운 숫자 (하도낙서 기반)
const ELEMENT_LUCKY_NUMBERS: Record<string, string> = {
  '목': '3, 8',
  '화': '2, 7',
  '토': '5, 10',
  '금': '4, 9',
  '수': '1, 6',
};

// 오행별 행운 색상
const ELEMENT_LUCKY_COLORS: Record<string, string> = {
  '목': '초록색',
  '화': '빨간색',
  '토': '노란색',
  '금': '흰색',
  '수': '검은색',
};

// 오행별 행운 방향
const ELEMENT_LUCKY_DIRECTIONS: Record<string, string> = {
  '목': '동쪽',
  '화': '남쪽',
  '토': '중앙',
  '금': '서쪽',
  '수': '북쪽',
};

// 천간에서 오행 추출
const STEM_TO_ELEMENT: Record<string, string> = {
  '갑': '목', '을': '목', '병': '화', '정': '화', '무': '토',
  '기': '토', '경': '금', '신': '금', '임': '수', '계': '수',
};

// 오행 상생 관계
const FIVE_ELEMENTS_GENERATES: Record<string, string> = {
  '목': '화', '화': '토', '토': '금', '금': '수', '수': '목',
};

/**
 * 일간(dayMaster)에서 용신을 계산하고 해당 오행의 행운 정보 반환
 * 억부용신(抑扶用神) 간소화 버전: 일간이 강하면 설기, 약하면 생조
 */
export function getYongsinBasedLuckyInfo(dayMaster: string): {
  yongsinElement: string;
  number: string;
  color: string;
  direction: string;
} {
  const dayMasterElement = STEM_TO_ELEMENT[dayMaster] || '목';

  // 간소화된 용신 결정: 일간 오행을 생해주는 오행이 용신 (생조 방식)
  // 실제로는 사주 전체 분석이 필요하지만, 여기서는 일관성을 위해 생조 방식 사용
  const generatesMe = Object.keys(FIVE_ELEMENTS_GENERATES).find(
    k => FIVE_ELEMENTS_GENERATES[k] === dayMasterElement
  ) || '수';

  return {
    yongsinElement: generatesMe,
    number: ELEMENT_LUCKY_NUMBERS[generatesMe] || '5, 10',
    color: ELEMENT_LUCKY_COLORS[generatesMe] || '노란색',
    direction: ELEMENT_LUCKY_DIRECTIONS[generatesMe] || '중앙',
  };
}

// ============================================
// 신년운세 (명리학 대운/세운론 기반)
// ============================================

// 60갑자 천간지지 순환 (년도 계산용)
const HEAVENLY_STEMS_CYCLE = ['갑', '을', '병', '정', '무', '기', '경', '신', '임', '계'];
const EARTHLY_BRANCHES_CYCLE = ['자', '축', '인', '묘', '진', '사', '오', '미', '신', '유', '술', '해'];
const BRANCH_ANIMALS = ['쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양', '원숭이', '닭', '개', '돼지'];
const BRANCH_HANJA = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥'];
const STEM_HANJA = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸'];

// 현재 연도의 천간지지 계산
function getYearGanji(year: number): { stem: string; branch: string; stemHanja: string; branchHanja: string; animal: string } {
  const stemIndex = (year - 4) % 10;
  const branchIndex = (year - 4) % 12;
  return {
    stem: HEAVENLY_STEMS_CYCLE[stemIndex],
    branch: EARTHLY_BRANCHES_CYCLE[branchIndex],
    stemHanja: STEM_HANJA[stemIndex],
    branchHanja: BRANCH_HANJA[branchIndex],
    animal: BRANCH_ANIMALS[branchIndex],
  };
}

// 천간 오행
const STEM_ELEMENTS: Record<string, string> = {
  '갑': '목', '을': '목', '병': '화', '정': '화', '무': '토',
  '기': '토', '경': '금', '신': '금', '임': '수', '계': '수',
};

// 십신 관계 계산
function getTenGodRelation(myStem: string, yearStem: string): string {
  const myElement = STEM_ELEMENTS[myStem];
  const yearElement = STEM_ELEMENTS[yearStem];

  const generates: Record<string, string> = { '목': '화', '화': '토', '토': '금', '금': '수', '수': '목' };
  const controls: Record<string, string> = { '목': '토', '토': '수', '수': '화', '화': '금', '금': '목' };

  const myYin = ['을', '정', '기', '신', '계'].includes(myStem);
  const yearYin = ['을', '정', '기', '신', '계'].includes(yearStem);
  const samePolarity = myYin === yearYin;

  if (myElement === yearElement) return samePolarity ? '비견' : '겁재';
  if (generates[myElement] === yearElement) return samePolarity ? '식신' : '상관';
  if (generates[yearElement] === myElement) return samePolarity ? '정인' : '편인';
  if (controls[myElement] === yearElement) return samePolarity ? '정재' : '편재';
  if (controls[yearElement] === myElement) return samePolarity ? '정관' : '편관';
  return '비견';
}

// 십신별 운세 해석 (대폭 확장)
const TEN_GOD_FORTUNES: Record<string, {
  summary: string;
  score: number;
  advice: string;
  detailed: {
    overall: string;
    wealth: string;
    career: string;
    love: string;
    health: string;
    relationships: string;
    caution: string;
  };
  luckyMonths: number[];
  cautionMonths: number[];
}> = {
  '비견': {
    summary: '동료나 형제와의 협력이 중요한 해입니다. 비견은 나와 같은 오행으로, 경쟁자이자 동반자의 기운을 의미합니다.',
    score: 75,
    advice: '혼자서 무리하기보다 주변의 도움을 받으세요. 협력이 경쟁보다 더 큰 성과를 가져옵니다.',
    detailed: {
      overall: '올해는 나와 비슷한 성향의 사람들과의 인연이 많아지는 해입니다. 형제자매, 동료, 친구와의 관계가 중요해지며, 함께 협력하면 혼자서는 이루지 못할 큰 일을 성취할 수 있습니다. 다만 같은 것을 두고 경쟁하는 상황도 생길 수 있으니 조율 능력이 필요합니다.',
      wealth: '재물운은 보통입니다. 큰 횡재보다는 꾸준한 수입이 예상됩니다. 동업이나 공동 투자는 신중하게 판단해야 합니다. 파트너와의 이익 분배 문제로 갈등이 생길 수 있으니 처음부터 명확히 정하세요.',
      career: '직장에서 동료들과의 팀워크가 중요합니다. 혼자만의 성과보다 팀 전체의 성공에 기여할 때 오히려 더 큰 인정을 받게 됩니다. 경쟁자가 나타날 수 있지만, 적대시하기보다 건전한 경쟁으로 함께 성장하세요.',
      love: '비슷한 취미나 관심사를 가진 사람과의 인연이 생길 수 있습니다. 같은 목표를 향해 함께 나아가는 동반자적 관계가 좋습니다. 기존 연인과는 친구 같은 편안함이 깊어집니다.',
      health: '건강은 전반적으로 양호하나, 과로에 주의하세요. 동료들과 함께하는 운동이나 단체 활동이 건강에 도움이 됩니다.',
      relationships: '형제자매나 절친한 친구와의 관계가 깊어집니다. 다만 이해관계가 얽힌 상황에서는 갈등이 생길 수 있으니 미리 조율하세요.',
      caution: '지나친 자존심이나 고집은 갈등의 원인이 됩니다. 때로는 양보하는 것이 더 현명합니다.',
    },
    luckyMonths: [3, 6, 9],
    cautionMonths: [4, 10],
  },
  '겁재': {
    summary: '경쟁과 도전의 해입니다. 겁재는 나의 재물을 빼앗는 기운으로, 강한 경쟁심과 추진력을 상징합니다.',
    score: 72,
    advice: '과한 경쟁심은 줄이고 협력을 모색하세요. 지는 것이 이기는 것일 때도 있습니다.',
    detailed: {
      overall: '올해는 경쟁이 치열해지고 도전 과제가 많아지는 해입니다. 겁재의 기운은 강한 추진력과 승부욕을 불러일으키지만, 동시에 손실이나 갈등의 위험도 있습니다. 큰 욕심을 부리기보다 현실적인 목표를 세우고 한 발씩 나아가세요.',
      wealth: '재물의 변동이 큰 해입니다. 뜻하지 않게 돈이 나갈 일이 생기거나, 투자에서 손실을 볼 수 있습니다. 보증이나 대출은 절대 피하세요. 특히 친한 사람과의 금전 거래는 관계를 해칠 수 있으니 삼가세요.',
      career: '직장에서 경쟁자가 나타나거나 압박감이 커질 수 있습니다. 하지만 이를 자극제로 삼아 더 열심히 노력하면 오히려 성장의 기회가 됩니다. 무리하게 성과를 내려 하기보다 실력을 쌓는 데 집중하세요.',
      love: '연애에서도 경쟁 상황이 생길 수 있습니다. 삼각관계나 라이벌의 등장에 주의하세요. 기존 연인과는 사소한 일로 다툼이 생기기 쉬우니 양보하는 마음이 필요합니다.',
      health: '스트레스로 인한 건강 악화에 주의하세요. 경쟁심이 과하면 심장, 혈압에 무리가 갈 수 있습니다. 이완과 휴식을 통해 마음의 여유를 찾으세요.',
      relationships: '친구나 동료와의 관계에서 갈등이 생기기 쉽습니다. 같은 것을 두고 경쟁하는 상황을 피하고, 서로 다른 영역을 추구하세요.',
      caution: '욕심을 버리세요. 지나친 욕심은 손실을 부르고, 무리한 도전은 실패를 초래합니다.',
    },
    luckyMonths: [2, 5],
    cautionMonths: [1, 7, 11],
  },
  '식신': {
    summary: '건강운과 식복이 좋은 해입니다. 식신은 먹는 복과 표현력, 창조력을 상징하는 길한 별입니다.',
    score: 83,
    advice: '건강관리에 투자하면 좋은 결과가 있습니다. 맛있는 음식과 좋은 사람들과 함께하세요.',
    detailed: {
      overall: '올해는 식복이 풍성하고 건강운이 좋은 대길한 해입니다. 식신은 명리학에서 가장 온화하고 길한 별 중 하나로, 먹는 것에 복이 있고 표현력과 재능이 발휘됩니다. 여유롭고 풍요로운 한 해가 예상되며, 정신적으로도 안정됩니다.',
      wealth: '안정적인 수입이 예상됩니다. 음식, 요식업, 콘텐츠, 교육 관련 분야에서 특히 좋은 성과가 있습니다. 큰 투기보다는 꾸준한 저축과 안정적인 투자가 좋습니다.',
      career: '창의적인 일이나 사람을 가르치는 일에서 빛을 발합니다. 직장에서는 원만한 인간관계를 유지하며 순탄하게 업무를 처리할 수 있습니다. 새로운 아이디어나 기획이 좋은 평가를 받습니다.',
      love: '연애운이 좋습니다. 함께 맛있는 음식을 먹고 여유로운 시간을 보내면 관계가 더욱 깊어집니다. 새로운 인연도 음식점, 문화 행사 등에서 만날 수 있습니다.',
      health: '식신의 해에는 먹는 것과 소화기 건강이 중요합니다. 맛있는 것을 많이 먹게 되지만, 과식은 피하세요. 규칙적인 식사와 가벼운 운동이 건강의 비결입니다.',
      relationships: '대인관계가 원만하고 사람들과의 교류가 즐겁습니다. 모임이나 파티에서 좋은 시간을 보내게 됩니다.',
      caution: '게으름에 빠지기 쉬운 해이기도 합니다. 너무 편안함에 안주하면 성장이 멈출 수 있습니다.',
    },
    luckyMonths: [1, 4, 7, 10],
    cautionMonths: [6],
  },
  '상관': {
    summary: '표현력이 좋아지며 예술이나 창작 활동에 좋은 해입니다. 상관은 파격과 자유, 독창성을 상징합니다.',
    score: 78,
    advice: '긍정적인 표현으로 좋은 인연을 만드세요. 말조심은 필수입니다.',
    detailed: {
      overall: '올해는 표현력이 극대화되고 창의성이 폭발하는 해입니다. 상관은 기존의 틀을 깨고 새로운 것을 창조하는 힘을 가지고 있습니다. 예술, 글쓰기, 공연, 디자인 등 창작 분야에서 뛰어난 성과를 낼 수 있습니다. 다만 입이 가벼워지기 쉬우니 말조심이 필요합니다.',
      wealth: '창의적인 활동을 통해 수입을 올릴 수 있습니다. 프리랜서, 크리에이터, 예술가에게 좋은 해입니다. 다만 충동적인 지출에 주의하세요. 기분에 따라 돈을 쓰면 나중에 후회할 수 있습니다.',
      career: '직장에서는 독창적인 아이디어로 주목받을 수 있습니다. 하지만 상사나 기존 체계와 마찰이 생길 수도 있습니다. 새로운 것을 제안할 때는 방법을 신중하게 선택하세요. 이직이나 독립을 고려해 볼 수 있는 시기입니다.',
      love: '매력이 빛나는 해입니다. 자유분방하고 재미있는 모습이 이성에게 어필합니다. 다만 가벼운 말이 오해를 불러올 수 있으니 진심은 진지하게 전하세요.',
      health: '정신적 스트레스가 신체에 영향을 줄 수 있습니다. 특히 호흡기, 피부에 주의하세요. 예술 활동이나 표현을 통해 스트레스를 해소하면 좋습니다.',
      relationships: '솔직한 표현이 장점이지만, 지나치면 관계를 해칠 수 있습니다. 특히 윗사람에게는 언행을 조심하세요.',
      caution: '말 한마디가 큰 파장을 일으킬 수 있는 해입니다. 생각한 것의 절반만 말하고, 그것도 한 번 더 생각한 후에 말하세요.',
    },
    luckyMonths: [3, 8, 11],
    cautionMonths: [2, 5, 9],
  },
  '정재': {
    summary: '재물운이 좋으며 투자나 사업에서 좋은 성과가 기대됩니다. 정재는 정당한 노력의 대가, 안정적인 수입을 상징합니다.',
    score: 90,
    advice: '안정적인 투자가 큰 수익으로 돌아옵니다. 정도를 걸으면 복이 옵니다.',
    detailed: {
      overall: '올해는 재물운이 크게 상승하는 대길한 해입니다. 정재는 명리학에서 가장 길한 재물의 별로, 정당한 노력으로 얻는 안정적인 수입을 의미합니다. 꾸준히 해온 일에서 결실을 거두고, 재물이 모이는 좋은 시기입니다.',
      wealth: '재물운이 매우 좋습니다. 월급, 사업 수익, 투자 수익 등 정당한 방법으로 돈이 들어옵니다. 저축, 부동산, 장기 투자에 좋은 시기입니다. 다만 욕심을 부리지 말고 안정적으로 운용하세요.',
      career: '직장에서 인정받고 보상을 받습니다. 승진이나 성과급의 기회가 있으며, 사업자는 안정적인 거래처가 생기거나 매출이 증가합니다. 성실한 자세가 좋은 결과를 가져옵니다.',
      love: '경제적으로 안정되면서 연애나 결혼에도 긍정적인 영향을 미칩니다. 결혼을 고려하거나 가정을 꾸리기에 좋은 시기입니다. 물질적 여유가 관계의 안정으로 이어집니다.',
      health: '마음의 여유가 건강에도 좋은 영향을 줍니다. 건강 관리에 투자하면 효과가 배가됩니다. 건강검진, 운동, 좋은 음식에 돈을 쓰세요.',
      relationships: '주변 사람들에게 베풀 수 있는 여유가 생깁니다. 관계가 더욱 풍성해지고, 귀인이 나타날 수 있습니다.',
      caution: '재물이 들어오는 해일수록 겸손해야 합니다. 자만하거나 과시하면 시기를 받을 수 있습니다.',
    },
    luckyMonths: [1, 5, 9, 12],
    cautionMonths: [7],
  },
  '편재': {
    summary: '부수입이나 부업에서 좋은 성과가 있을 수 있습니다. 편재는 횡재, 투기, 비정기적 수입을 상징합니다.',
    score: 82,
    advice: '새로운 수입원을 적극적으로 모색하세요. 다만 도박은 금물입니다.',
    detailed: {
      overall: '올해는 예상치 못한 수입이나 부수입의 기회가 있는 해입니다. 편재는 정기적인 월급 외에 부업, 투자, 횡재 등을 의미합니다. 기회를 잘 잡으면 큰 수익을 올릴 수 있지만, 변동성도 크니 주의가 필요합니다.',
      wealth: '본업 외에 부수입을 올릴 기회가 많습니다. 부업, 투자, 재테크에 관심을 가져보세요. 다만 투기성이 강한 것은 피하고, 분산 투자로 위험을 줄이세요. 도박이나 무리한 투자는 절대 금물입니다.',
      career: '직장 외에 다른 일을 병행하거나 새로운 사업 아이템을 발견할 수 있습니다. 활동적이고 다재다능한 면이 빛을 발합니다. 다만 본업에 소홀하지 않도록 주의하세요.',
      love: '자유롭고 활동적인 연애를 즐기게 됩니다. 여러 사람을 만나며 인연을 탐색할 수 있습니다. 다만 너무 많은 이성과 교류하면 복잡해질 수 있으니 적절히 정리하세요.',
      health: '활동량이 많아지면서 체력 소모에 주의하세요. 불규칙한 생활 패턴이 건강에 영향을 줄 수 있습니다.',
      relationships: '다양한 사람들과 인연을 맺게 됩니다. 사교성이 좋아지고 네트워크가 넓어집니다.',
      caution: '편재는 들어오는 것만큼 나가는 것도 많을 수 있습니다. 들어온 돈을 쓰기 전에 일부는 반드시 저축하세요.',
    },
    luckyMonths: [2, 6, 10],
    cautionMonths: [4, 8],
  },
  '정관': {
    summary: '직장운이 좋으며 승진이나 취업에 유리한 해입니다. 정관은 명예, 지위, 정당한 권위를 상징합니다.',
    score: 88,
    advice: '책임감 있는 자세가 좋은 결과를 가져옵니다. 규칙을 지키면 복이 옵니다.',
    detailed: {
      overall: '올해는 사회적 지위가 높아지고 명예가 상승하는 대길한 해입니다. 정관은 정당한 권위와 직장, 승진, 합격을 상징합니다. 시험, 취업, 승진에서 좋은 결과가 기대되며, 사회적으로 인정받는 시기입니다.',
      wealth: '안정적인 수입이 예상됩니다. 직장에서의 보상이나 성과급이 있을 수 있습니다. 무리한 투자보다 안정적인 저축이 좋습니다.',
      career: '직장에서 인정받고 승진할 기회가 있습니다. 취업 준비생은 좋은 회사에 합격할 가능성이 높습니다. 공무원, 대기업, 전문직 등 안정적인 직업에 유리합니다. 책임감 있는 자세가 중요합니다.',
      love: '결혼을 고려하거나 진지한 관계로 발전하기 좋은 시기입니다. 상대방이나 상대방 가족에게 좋은 인상을 줄 수 있습니다. 품격 있는 행동이 매력으로 작용합니다.',
      health: '규칙적인 생활이 건강에 도움이 됩니다. 스트레스 관리에 신경 쓰고, 정기 검진을 받으세요.',
      relationships: '윗사람이나 권위자와의 관계가 좋아집니다. 귀인을 만나 도움을 받을 수 있습니다.',
      caution: '규칙을 어기거나 탈법적인 행동은 큰 화를 부릅니다. 정도를 걷는 것이 가장 안전합니다.',
    },
    luckyMonths: [1, 3, 7, 11],
    cautionMonths: [5],
  },
  '편관': {
    summary: '변화와 도약의 기회가 있는 해입니다. 편관(칠살)은 도전, 압박, 변혁을 상징합니다.',
    score: 72,
    advice: '변화를 기회로 삼아 적극적으로 도전하세요. 준비된 자에게는 비상의 기회입니다.',
    detailed: {
      overall: '올해는 변화와 도전이 많은 해입니다. 편관(칠살)은 강한 압박과 경쟁, 그리고 그것을 뚫고 나가는 변혁의 힘을 상징합니다. 힘든 상황이 생길 수 있지만, 이를 극복하면 크게 성장합니다. 준비되지 않으면 힘든 해가 될 수 있으니 마음의 준비를 하세요.',
      wealth: '재물의 변동이 있을 수 있습니다. 예상치 못한 지출이나 투자 손실에 주의하세요. 안정적인 것을 지키는 데 집중하고, 새로운 투자는 신중하게 하세요.',
      career: '직장에서 압박감이 커지거나 도전적인 업무가 주어질 수 있습니다. 하지만 이를 잘 해내면 크게 인정받습니다. 이직이나 전직의 기회가 생길 수도 있으니 준비해두세요.',
      love: '연애에서 갈등이 생기기 쉽습니다. 서로의 의견 차이로 다툼이 있을 수 있으니 인내심이 필요합니다. 너무 강하게 밀어붙이면 역효과가 납니다.',
      health: '스트레스로 인한 건강 문제에 주의하세요. 특히 심장, 혈압, 근육에 무리가 갈 수 있습니다. 격한 운동보다 이완 운동이 좋습니다.',
      relationships: '주변에서 압박을 받거나 경쟁자가 나타날 수 있습니다. 감정적으로 대응하지 말고 이성적으로 판단하세요.',
      caution: '올해는 몸을 사리고 무리하지 않는 것이 중요합니다. 위험한 일, 모험적인 투자는 피하세요.',
    },
    luckyMonths: [4, 8],
    cautionMonths: [1, 3, 6, 10, 12],
  },
  '정인': {
    summary: '학업운과 학습운이 좋으며 자격증이나 공부에 좋은 시기입니다. 정인은 학문, 어머니, 보호자를 상징합니다.',
    score: 85,
    advice: '배움에 투자하면 좋은 결실을 맺을 수 있습니다. 공부하기 최적의 해입니다.',
    detailed: {
      overall: '올해는 학업과 자기계발에 최적의 해입니다. 정인은 어머니의 보살핌처럼 당신을 보호하고 지원해주는 기운입니다. 새로운 것을 배우고 지식을 쌓기에 좋으며, 시험이나 자격증 취득에도 좋은 결과가 있습니다.',
      wealth: '직접적인 재물보다 지식과 능력 향상을 통해 장기적인 부를 쌓는 해입니다. 교육이나 자기계발에 투자하면 나중에 큰 수익으로 돌아옵니다.',
      career: '학습이 필요한 직종에서 성과가 좋습니다. 자격증, 승진 시험, 전문 교육 등에서 좋은 결과가 있습니다. 멘토나 귀인의 도움을 받기 쉽습니다.',
      love: '정신적인 교감이 깊어지는 해입니다. 지적인 대화나 함께 공부하는 활동이 관계를 돈독하게 합니다. 어머니 같은 따뜻한 사람과 인연이 생길 수 있습니다.',
      health: '정신적으로 안정되고 여유가 생깁니다. 마음이 편안하면 몸도 건강해집니다. 명상, 독서, 산책 등이 도움이 됩니다.',
      relationships: '어머니나 여성 어른과의 관계가 좋아집니다. 스승이나 멘토를 만나 배움을 얻을 수 있습니다.',
      caution: '너무 책만 보고 세상과 동떨어지지 않도록 주의하세요. 이론과 실천의 균형이 필요합니다.',
    },
    luckyMonths: [2, 5, 8, 11],
    cautionMonths: [7],
  },
  '편인': {
    summary: '창의적인 아이디어가 빛나는 해로 예술과 문화 분야에서 좋은 성과가 기대됩니다. 편인은 독창성과 직관을 상징합니다.',
    score: 80,
    advice: '새로운 분야에 도전해보세요. 남들과 다른 방식이 성공의 열쇠입니다.',
    detailed: {
      overall: '올해는 독창적인 생각과 창의성이 빛을 발하는 해입니다. 편인은 정통적인 학문보다 비주류, 대안, 창작, 영적인 분야를 상징합니다. 예술, 철학, 심리학, 점술, 대체 의학 등에 관심이 생기고 재능을 발휘할 수 있습니다.',
      wealth: '정통적인 방법보다 창의적이고 독특한 방법으로 수익을 올릴 수 있습니다. 예술 작품, 특허, 콘텐츠 등에서 가능성이 있습니다. 다만 안정적인 수입보다 변동이 있을 수 있습니다.',
      career: '창의적인 직종에서 빛을 발합니다. 예술가, 작가, 디자이너, 상담사, 대안 분야 전문가 등에게 좋은 해입니다. 직장에서는 색다른 아이디어로 주목받을 수 있습니다.',
      love: '독특한 사람에게 끌리거나 특별한 방식의 연애를 하게 될 수 있습니다. 정신적 교감이 중요하며, 평범한 데이트보다 특별한 경험을 함께 나누면 좋습니다.',
      health: '정신 건강에 신경 쓰세요. 창의적 활동이 스트레스 해소에 도움이 됩니다. 명상, 요가, 예술 치료 등이 좋습니다.',
      relationships: '독특하거나 예술적인 사람들과 인연이 생깁니다. 주류보다 비주류 그룹에서 좋은 인연을 만날 수 있습니다.',
      caution: '현실과 동떨어지지 않도록 주의하세요. 너무 이상에 치우치면 생활 기반이 흔들릴 수 있습니다.',
    },
    luckyMonths: [3, 6, 9, 12],
    cautionMonths: [1, 4],
  },
};

// 월별 운세 생성 (12운성/절기 기반 상세 풀이)
function generateMonthlyFortune(): Array<{month: number; content: string; luck: 'good' | 'normal' | 'bad'}> {
  const monthlyHints = [
    {
      luck: 'good' as const,
      content: `【1월 운세 - 인월(寅月), 새해의 시작】
새해 첫 달인 1월은 입춘(立春)의 기운이 시작되는 시기로, 만물이 소생하는 목(木)의 기운이 싹트기 시작합니다. 이 달은 새로운 시작과 계획을 세우기에 가장 좋은 시기입니다.

• 사업/직장운: 연초 사업계획이나 새로운 프로젝트 시작에 길(吉)합니다. 특히 상반기 중장기 목표를 세우면 좋은 결실을 볼 수 있습니다.
• 재물운: 큰 투자보다는 종잣돈을 모으는 데 집중하세요. 불필요한 지출을 줄이고 저축 습관을 들이면 연말에 풍요로운 결과를 얻습니다.
• 건강운: 겨울철 면역력 관리가 중요합니다. 충분한 수면과 영양 섭취로 체력을 비축하세요.
• 조언: "일년지계재어춘(一年之計在於春)" - 일년의 계획은 봄에 있습니다. 올해의 큰 그림을 그리세요.`
    },
    {
      luck: 'normal' as const,
      content: `【2월 운세 - 묘월(卯月), 경칩의 기운】
2월은 경칩(驚蟄)을 지나며 동면하던 벌레들이 깨어나듯, 그동안 준비해온 일들이 서서히 결실을 보이기 시작하는 시기입니다. 목(木) 기운이 본격적으로 활성화됩니다.

• 사업/직장운: 1월에 세운 계획을 차근차근 실행에 옮기세요. 급하게 추진하기보다 내실을 다지는 것이 중요합니다.
• 재물운: 안정적인 현금 흐름을 유지하세요. 새로운 수입원이 생길 수 있으나, 검증 없이 뛰어들지 마세요.
• 인간관계: 오랜 인연이 다시 연결될 수 있습니다. 과거의 동료나 친구에게 먼저 연락해 보세요.
• 건강운: 환절기 감기와 알레르기에 주의하세요. 비타민C 섭취와 충분한 수분 보충이 도움됩니다.
• 조언: 조급함을 버리고 천천히, 그러나 꾸준히 나아가세요.`
    },
    {
      luck: 'good' as const,
      content: `【3월 운세 - 진월(辰月), 청명의 기운】
3월은 청명(淸明)과 곡우(穀雨)가 있는 달로, 봄기운이 절정에 달합니다. 토(土)와 목(木)의 기운이 조화를 이루어 인간관계와 사회적 활동에 매우 좋은 시기입니다.

• 사업/직장운: 협력 사업이나 파트너십 체결에 가장 좋은 달입니다. 새로운 거래처 발굴, 계약 체결에 길(吉)합니다.
• 재물운: 공동투자나 협업을 통한 수익이 기대됩니다. 단독 투자보다 동업자와 함께하는 것이 유리합니다.
• 인간관계: 네트워킹이 활발해집니다. 모임이나 행사 참석을 통해 귀인을 만날 수 있습니다.
• 연애운: 싱글이라면 새로운 만남의 기회가 있습니다. 소개팅이나 모임에 적극 참여하세요.
• 건강운: 활동량 증가로 체력 소모가 클 수 있습니다. 규칙적인 운동으로 스태미나를 관리하세요.
• 조언: 사람과의 인연을 소중히 여기세요. 이 달에 맺는 인연이 올해의 귀인이 될 수 있습니다.`
    },
    {
      luck: 'normal' as const,
      content: `【4월 운세 - 사월(巳月), 입하의 기운】
4월은 입하(立夏)를 맞이하며 봄에서 여름으로 넘어가는 전환기입니다. 화(火) 기운이 서서히 강해지며, 안정과 충전이 필요한 시기입니다.

• 사업/직장운: 새로운 도전보다는 진행 중인 업무에 집중하세요. 큰 변화를 시도하면 예상치 못한 어려움이 있을 수 있습니다.
• 재물운: 수입과 지출의 균형을 맞추세요. 충동적인 소비를 자제하고, 비상금을 확보해 두세요.
• 인간관계: 가까운 사람들과 갈등이 생길 수 있습니다. 말조심하고 역지사지의 마음으로 소통하세요.
• 건강운: 과로와 스트레스가 누적되기 쉬운 시기입니다. 취미활동이나 휴식으로 리프레시하세요.
• 조언: "정중동(靜中動)" - 고요함 속에서 움직임을 찾으세요. 외부 활동보다 내면의 충전에 집중하는 것이 좋습니다.`
    },
    {
      luck: 'good' as const,
      content: `【5월 운세 - 오월(午月), 망종의 기운】
5월은 망종(芒種)과 하지(夏至)가 있는 달로, 화(火) 기운이 절정에 달합니다. 태양의 기운이 가장 강해 재물운과 사업운이 크게 상승하는 시기입니다.

• 사업/직장운: 연중 가장 좋은 사업운입니다! 승진, 이직, 사업 확장에 대길(大吉)합니다. 과감한 결단이 좋은 결과로 이어집니다.
• 재물운: 투자 수익이 기대됩니다. 그동안 눈여겨봤던 투자처에 적극적으로 투자해 보세요. 부수입이나 보너스 가능성도 높습니다.
• 인간관계: 사회적 인정과 명예가 따릅니다. 자신감 있게 의견을 표현하세요.
• 건강운: 화(火) 기운이 강해 심장과 혈압 관리가 필요합니다. 과도한 음주와 자극적인 음식을 피하세요.
• 조언: "철은 뜨거울 때 두드려라" - 기회가 왔을 때 주저하지 말고 행동하세요. 이 달을 놓치지 마세요!`
    },
    {
      luck: 'bad' as const,
      content: `【6월 운세 - 미월(未月), 소서의 기운】
6월은 소서(小暑)와 대서(大暑)가 있는 무더운 시기로, 토(土)와 화(火)의 기운이 충돌합니다. 주의와 신중함이 필요한 달입니다.

• 사업/직장운: 중요한 결정은 가능하면 7월 이후로 미루세요. 예상치 못한 변수가 생길 수 있으며, 서두르면 손해를 볼 수 있습니다.
• 재물운: 재물의 유출이 있을 수 있습니다. 큰 지출이나 투자를 삼가고, 보수적인 재정 관리가 필요합니다.
• 건강운: 식중독, 위장 질환, 피부 트러블에 주의하세요. 더위에 몸이 약해지기 쉬우니 충분히 쉬세요.
• 인간관계: 오해와 갈등이 생기기 쉽습니다. 감정적인 대응을 피하고, 중요한 대화는 가능하면 미루세요.
• 조언: "여름에 땀 흘리면 겨울에 눈물 흘리지 않는다" - 어려운 시기지만 묵묵히 최선을 다하세요. 고생 끝에 낙이 옵니다.`
    },
    {
      luck: 'good' as const,
      content: `【7월 운세 - 신월(申月), 입추의 기운】
7월은 입추(立秋)를 맞이하며 금(金) 기운이 시작됩니다. 수확과 결실의 기운이 감돌아 그동안의 노력이 빛을 발하는 시기입니다.

• 사업/직장운: 상반기 노력의 결실이 나타납니다! 승진, 성과급, 프로젝트 성공 등 좋은 소식이 기대됩니다. 새로운 기회도 찾아옵니다.
• 재물운: 예상치 못한 소득이 생길 수 있습니다. 그동안 투자했던 것에서 수익이 발생하거나, 부수입이 생깁니다.
• 인간관계: 윗사람의 도움이나 후원을 받습니다. 멘토나 귀인을 만날 수 있으니 겸손한 자세를 유지하세요.
• 건강운: 기력이 회복됩니다. 규칙적인 생활과 가벼운 운동으로 체력을 보강하세요.
• 조언: "가을 추수는 봄 씨앗에서 시작된다" - 지금의 성공은 과거 노력의 결과입니다. 감사하는 마음을 가지세요.`
    },
    {
      luck: 'normal' as const,
      content: `【8월 운세 - 유월(酉月), 백로의 기운】
8월은 백로(白露)와 추분(秋分)이 있는 달로, 금(金) 기운이 강해집니다. 가족과 함께하며 내적 평화를 찾는 시기입니다.

• 사업/직장운: 안정적인 시기입니다. 새로운 도전보다는 현재 업무에 충실하세요. 연말을 향한 중간 점검의 시간으로 삼으세요.
• 재물운: 평균적인 재물운입니다. 큰 지출이 예상된다면 미리 계획하고 준비하세요.
• 인간관계: 가족과의 시간이 중요합니다. 추석 연휴를 활용해 오랫동안 보지 못한 가족과 화합하세요.
• 건강운: 환절기 건강관리에 신경 쓰세요. 호흡기 질환과 건조함으로 인한 피부 트러블에 주의하세요.
• 조언: "가화만사성(家和萬事成)" - 가정이 화목해야 만사가 성합니다. 가족과의 유대를 강화하세요.`
    },
    {
      luck: 'good' as const,
      content: `【9월 운세 - 술월(戌月), 한로의 기운】
9월은 한로(寒露)와 상강(霜降)이 있는 달로, 토(土)와 금(金)의 조화가 이루어집니다. 학업과 자기계발에 최적의 시기입니다.

• 사업/직장운: 새로운 기술이나 지식 습득에 좋습니다. 자격증 시험, 교육 프로그램 참여가 커리어에 도움이 됩니다.
• 재물운: 자기투자가 미래의 재물을 가져옵니다. 교육비나 자기계발 비용은 아끼지 마세요.
• 학업운: 대길(大吉)! 시험 합격, 학업 성취에 좋습니다. 집중력이 높아져 공부 효율이 극대화됩니다.
• 건강운: 정신적으로 명료해지는 시기입니다. 명상이나 독서로 마음을 수양하세요.
• 조언: "배움에는 때가 없다(學無止境)" - 끊임없이 배우고 성장하세요. 이 달의 배움이 내년의 성공을 만듭니다.`
    },
    {
      luck: 'bad' as const,
      content: `【10월 운세 - 해월(亥月), 입동의 기운】
10월은 입동(立冬)을 맞이하며 수(水) 기운이 시작됩니다. 언행에 주의가 필요하고, 말로 인한 문제가 생기기 쉬운 시기입니다.

• 사업/직장운: 구설수(口舌數)에 주의하세요! 불필요한 말, 험담, 비밀 누설이 문제를 일으킬 수 있습니다. 중요한 계약이나 협상은 신중하게 진행하세요.
• 재물운: 사기나 금전 분쟁에 주의하세요. 달콤한 투자 제안에 현혹되지 마시고, 보증이나 대출을 삼가세요.
• 인간관계: 오해가 생기기 쉽습니다. 명확하게 의사소통하고, 감정적인 표현을 자제하세요.
• 건강운: 신장, 방광 등 비뇨기 계통 건강에 주의하세요. 수분 섭취를 충분히 하고 몸을 따뜻하게 유지하세요.
• 조언: "말 한마디로 천 냥 빚을 갚는다" - 말의 무게를 알고 신중하게 행동하세요. 침묵이 금인 시기입니다.`
    },
    {
      luck: 'good' as const,
      content: `【11월 운세 - 자월(子月), 대설의 기운】
11월은 대설(大雪)과 동지(冬至)가 있는 달로, 수(水) 기운이 절정에 달합니다. 한 해를 마무리하고 성과를 정리하기 좋은 시기입니다.

• 사업/직장운: 연말 마무리에 좋습니다! 올해 진행한 프로젝트를 깔끔하게 정리하세요. 연말 평가에서 좋은 결과가 기대됩니다.
• 재물운: 연말 보너스나 성과급이 기대됩니다. 다만 연말 지출이 많아질 수 있으니 예산을 잘 관리하세요.
• 인간관계: 송년회나 모임이 많아집니다. 네트워킹을 통해 내년에 도움 될 인연을 만들 수 있습니다.
• 건강운: 겨울철 건강관리가 중요합니다. 규칙적인 생활과 적절한 휴식으로 체력을 유지하세요.
• 조언: "유종의 미(有終之美)를 거두라" - 시작이 좋았으면 끝도 좋아야 합니다. 마지막까지 최선을 다하세요.`
    },
    {
      luck: 'normal' as const,
      content: `【12월 운세 - 축월(丑月), 소한의 기운】
12월은 소한(小寒)과 대한(大寒)이 있는 한 해의 마지막 달로, 토(土)와 수(水)의 기운이 어우러집니다. 새해를 준비하고 계획을 세우는 시기입니다.

• 사업/직장운: 내년 사업 계획을 세우세요. 올해의 성과와 실패를 분석하고, 개선점을 찾는 것이 중요합니다.
• 재물운: 연말 정산과 재정 점검에 좋습니다. 불필요한 구독 서비스나 지출을 정리하고, 내년 재정 목표를 설정하세요.
• 인간관계: 감사의 마음을 표현하세요. 올 한 해 도움 준 사람들에게 연말 인사를 전하면 관계가 더욱 돈독해집니다.
• 건강운: 혹한에 대비해 면역력을 높이세요. 충분한 수면과 따뜻한 음식으로 체온을 유지하세요.
• 조언: "온고지신(溫故知新)" - 옛것을 익히고 새것을 알아가세요. 지난 한 해를 돌아보며 내년의 성장을 준비하세요.`
    },
  ];

  return monthlyHints.map((hint, index) => ({
    month: index + 1,
    ...hint,
  }));
}

export function generateYearlyFortune(birthDate: string, dayMaster: string, targetDate: Date = new Date()) {
  const currentYear = targetDate.getFullYear();
  const yearInfo = getYearGanji(currentYear);
  const yearName = `${yearInfo.stem}${yearInfo.branch}년(${yearInfo.stemHanja}${yearInfo.branchHanja}年)`;
  const animalName = `${yearInfo.animal}띠 해`;

  // 십신 관계 계산
  const tenGod = getTenGodRelation(dayMaster, yearInfo.stem);
  const fortune = TEN_GOD_FORTUNES[tenGod] || TEN_GOD_FORTUNES['비견'];

  // 지지 오행 (올해 띠의 오행)
  const branchElements: Record<string, string> = {
    '자': '수', '축': '토', '인': '목', '묘': '목', '진': '토', '사': '화',
    '오': '화', '미': '토', '신': '금', '유': '금', '술': '토', '해': '수',
  };
  const yearElement = branchElements[yearInfo.branch] || '토';
  const elementNames: Record<string, string> = { '목': '木', '화': '火', '토': '土', '금': '金', '수': '水' };

  // 용신 색상
  const elementColors: Record<string, string> = { '목': '초록색', '화': '빨간색', '토': '노란색', '금': '흰색', '수': '검은색' };
  const elementNumbers: Record<string, string> = { '목': '3, 8', '화': '2, 7', '토': '5, 10', '금': '4, 9', '수': '1, 6' };
  const elementDirections: Record<string, string> = { '목': '동쪽', '화': '남쪽', '토': '중앙', '금': '서쪽', '수': '북쪽' };
  const elementItems: Record<string, string> = { '목': '식물', '화': '조명', '토': '도자기', '금': '금속 장신구', '수': '수정' };

  // 십신별 상세 재물운 풀이
  const wealthFortunes: Record<string, string> = {
    '정재': `【정재(正財)의 해 - 재물 대길】

${currentYear}년 ${yearName}은 당신에게 정재(正財)의 해입니다. 정재는 정당한 노력으로 얻는 재물을 상징하며, 올해는 재물운이 크게 상승합니다.

• 급여 인상이나 보너스 가능성이 높습니다
• 부동산, 저축, 안정적인 투자에서 좋은 성과가 기대됩니다
• 부업이나 추가 수입원이 생길 수 있습니다
• 지출을 관리하면 목돈을 모을 수 있는 해입니다

재물을 얻되 베푸는 마음을 가지면 복이 배가 됩니다. 투자는 안정적인 것 위주로 하시고, 도박이나 투기는 피하세요.`,

    '편재': `【편재(偏財)의 해 - 횡재와 변동】

${currentYear}년 ${yearName}은 당신에게 편재(偏財)의 해입니다. 편재는 예상치 못한 재물, 투자 수익, 사업 이익을 상징합니다.

• 투자나 사업에서 큰 수익이 기대됩니다
• 복권, 경품 등 횡재수가 있을 수 있습니다
• 부동산이나 주식에서 시세 차익을 볼 수 있습니다
• 새로운 사업 기회가 찾아올 수 있습니다

다만 재물의 변동도 크므로 큰 이익이 있으면 일부는 저축하세요. 과욕을 부리면 오히려 손실이 생길 수 있으니 적당한 선에서 만족하는 지혜가 필요합니다.`,

    '비견': `【비견(比肩)의 해 - 경쟁과 분리】

${currentYear}년 ${yearName}은 당신에게 비견(比肩)의 해입니다. 비견은 나와 같은 오행으로, 경쟁자나 동료를 의미합니다.

• 재물에 경쟁이 생길 수 있습니다
• 동업이나 투자에서 의견 충돌이 있을 수 있습니다
• 보증이나 금전 거래에 주의가 필요합니다
• 혼자서 하는 것보다 협력이 유리할 수 있습니다

재물을 나누어야 할 일이 생기거나, 예상치 못한 지출이 있을 수 있습니다. 공동 사업이나 투자는 서면으로 명확히 하고, 보증은 가급적 피하세요.`,

    '겁재': `【겁재(劫財)의 해 - 손재수 주의】

${currentYear}년 ${yearName}은 당신에게 겁재(劫財)의 해입니다. 겁재는 재물의 손실이나 예기치 않은 지출을 암시합니다.

• 보증, 대출, 투자 손실에 주의하세요
• 친구나 가족에게 금전적 도움을 줄 일이 생길 수 있습니다
• 충동적인 소비를 삼가고 예산을 철저히 관리하세요
• 도박이나 투기는 절대 금물입니다

이 해에는 재물을 지키는 것이 버는 것만큼 중요합니다. 비상금을 확보하고, 모든 금전 거래는 서면으로 남기세요.`,

    '식신': `【식신(食神)의 해 - 안정적 풍요】

${currentYear}년 ${yearName}은 당신에게 식신(食神)의 해입니다. 식신은 먹거리와 풍요를 상징하며, 안정적인 재물 증가가 기대됩니다.

• 꾸준한 수입이 이어지며 생활이 풍요로워집니다
• 맛있는 음식을 즐기고 건강도 좋아집니다
• 재능을 활용한 부수입이 생길 수 있습니다
• 저축과 투자 모두 안정적으로 성장합니다

여유 있는 마음으로 재물을 관리하면 자연스럽게 모이는 해입니다. 급하게 불리려 하지 말고 천천히 쌓아가세요.`,

    '상관': `【상관(傷官)의 해 - 창의적 수입】

${currentYear}년 ${yearName}은 당신에게 상관(傷官)의 해입니다. 상관은 창의력과 표현력을 상징하며, 새로운 방식으로 재물을 얻을 수 있습니다.

• 창의적인 아이디어로 수익을 올릴 수 있습니다
• 프리랜서나 자유 직업에서 좋은 성과가 기대됩니다
• 투자보다 실력으로 버는 수입이 유리합니다
• 지출이 다소 늘 수 있으니 관리가 필요합니다

다만 상관은 기존 질서를 깨는 힘이므로, 안정적인 수입원을 유지하면서 새로운 시도를 하는 것이 좋습니다.`,

    '정관': `【정관(正官)의 해 - 직위 상승과 재물】

${currentYear}년 ${yearName}은 당신에게 정관(正官)의 해입니다. 정관은 명예와 지위를 상징하며, 승진이나 직책에 따른 재물 증가가 기대됩니다.

• 승진이나 직책 상승으로 급여가 오를 수 있습니다
• 사회적 지위 향상에 따른 수입 증가가 있습니다
• 안정적이고 체계적인 재정 관리가 유리합니다
• 명예나 지위를 위한 투자는 좋은 결과를 가져옵니다

정관의 해에는 정도(正道)를 걷는 것이 중요합니다. 편법이나 불법적인 재테크는 피하고, 정당한 방법으로 재물을 모으세요.`,

    '편관': `【편관(偏官/七殺)의 해 - 도전과 성취】

${currentYear}년 ${yearName}은 당신에게 편관(偏官)의 해입니다. 편관은 도전과 압박을 상징하며, 어려움을 극복하면 큰 성취가 있습니다.

• 경쟁에서 이기면 큰 보상이 따릅니다
• 어려운 프로젝트 성공 시 상당한 대가가 있습니다
• 리스크가 있는 투자는 신중하게 판단하세요
• 스트레스로 인한 지출이 늘 수 있습니다

편관의 해는 쉽지 않지만, 이겨내면 크게 성장합니다. 무리한 투자나 도박은 피하고, 실력으로 승부하세요.`,

    '정인': `【정인(正印)의 해 - 학업과 부동산】

${currentYear}년 ${yearName}은 당신에게 정인(正印)의 해입니다. 정인은 학문과 부동산을 상징하며, 관련 분야에서 재물운이 좋습니다.

• 자격증이나 학위 취득이 수입 증가로 이어집니다
• 부동산 거래나 임대 수입에 좋은 시기입니다
• 어른의 도움이나 유산 관련 이익이 있을 수 있습니다
• 안정적이고 보수적인 재테크가 유리합니다

정인은 지혜를 상징하므로, 급하게 불리려 하지 말고 장기적인 관점에서 재물을 관리하세요.`,

    '편인': `【편인(偏印)의 해 - 변화와 기회】

${currentYear}년 ${yearName}은 당신에게 편인(偏印)의 해입니다. 편인은 변화와 특수한 재능을 상징하며, 색다른 방식으로 재물이 들어올 수 있습니다.

• 특별한 재능이나 기술로 수입을 얻을 수 있습니다
• 예술, IT, 특수 분야에서 기회가 있습니다
• 갑작스러운 직업 변화가 오히려 기회가 될 수 있습니다
• 안정적 수입보다 변동성 있는 수입이 예상됩니다

편인은 변화를 의미하므로, 유연하게 대처하면 좋은 기회를 잡을 수 있습니다. 다만 지나친 변화는 피하세요.`,
  };

  // 십신별 상세 직장/사업운 풀이
  const careerFortunes: Record<string, string> = {
    '정관': `【정관(正官)의 해 - 승진과 인정】

${currentYear}년은 직장인에게 가장 좋은 해 중 하나입니다. 정관은 직장, 명예, 사회적 지위를 상징합니다.

• 승진, 진급의 기회가 크게 높아집니다
• 상사나 윗사람의 인정과 신뢰를 얻습니다
• 중요한 프로젝트나 직책을 맡게 됩니다
• 이직을 원한다면 더 좋은 조건으로 옮길 수 있습니다
• 공무원, 대기업, 안정적 직장에 입사 기회가 있습니다

정관의 해에는 성실하고 책임감 있는 모습을 보이세요. 원칙을 지키고 정도를 걸으면 반드시 인정받습니다.`,

    '편관': `【편관(偏官/七殺)의 해 - 도전과 경쟁】

${currentYear}년은 도전과 경쟁이 있는 해입니다. 편관은 압박과 경쟁, 그리고 그것을 이겨낼 때의 큰 성취를 상징합니다.

• 업무 압박이 커지지만 이겨내면 크게 인정받습니다
• 경쟁자와의 경합에서 승리할 수 있습니다
• 어려운 프로젝트를 맡게 되지만 성공 가능성이 높습니다
• 창업이나 독립을 고려한다면 과감하게 도전하세요
• 스트레스 관리가 중요합니다

편관의 해는 쉽지 않지만, "고생 끝에 낙이 온다"는 말처럼 노력한 만큼 보상이 따릅니다.`,

    '정재': `【정재(正財)의 해 - 안정과 성장】

${currentYear}년은 직장에서 안정적인 성장이 기대되는 해입니다. 정재는 꾸준한 노력의 결실을 상징합니다.

• 맡은 업무에서 좋은 성과를 거둡니다
• 실적이 인정받아 보상이 따릅니다
• 안정적인 직장 생활이 이어집니다
• 새로운 업무나 역할이 주어질 수 있습니다
• 사업자는 매출이 꾸준히 성장합니다

정재의 해에는 묵묵히 맡은 일에 최선을 다하세요. 화려한 성과보다 꾸준한 실력이 인정받는 해입니다.`,

    '편재': `【편재(偏財)의 해 - 사업과 기회】

${currentYear}년은 사업이나 새로운 도전에 유리한 해입니다. 편재는 사업 수완과 재테크 능력을 상징합니다.

• 사업 확장이나 새로운 사업 기회가 있습니다
• 영업, 마케팅 분야에서 좋은 성과가 기대됩니다
• 프리랜서나 자영업자에게 유리한 해입니다
• 부업이나 사이드 프로젝트가 성공할 수 있습니다
• 이직보다 현 직장에서 새로운 시도가 좋습니다

편재의 해에는 적극적으로 기회를 찾으세요. 다만 무리한 확장은 피하고 리스크를 관리하세요.`,

    '식신': `【식신(食神)의 해 - 창의력과 표현】

${currentYear}년은 당신의 재능이 빛나는 해입니다. 식신은 창의력, 표현력, 기술을 상징합니다.

• 창의적인 아이디어가 인정받습니다
• 기술직이나 전문직에서 좋은 성과가 기대됩니다
• 프레젠테이션이나 발표에서 좋은 결과를 얻습니다
• 음식, 예술, 콘텐츠 관련 분야에서 기회가 있습니다
• 스트레스 없이 즐겁게 일할 수 있는 해입니다

식신의 해에는 당신의 재능을 마음껏 펼치세요. 여유 있는 마음으로 일하면 더 좋은 결과가 따릅니다.`,

    '상관': `【상관(傷官)의 해 - 변화와 혁신】

${currentYear}년은 변화와 혁신의 해입니다. 상관은 기존 틀을 깨고 새로운 것을 창조하는 힘을 상징합니다.

• 새로운 방식으로 업무를 개선할 수 있습니다
• 상사나 기존 시스템과 갈등이 있을 수 있습니다
• 창의적 분야, 프리랜서, 예술 분야에서 기회가 있습니다
• 이직이나 전직을 고려할 수 있는 시기입니다
• 억눌렀던 자기표현 욕구가 분출될 수 있습니다

상관의 해에는 지혜롭게 변화를 추구하세요. 무조건적인 반항보다 건설적인 제안이 인정받습니다.`,

    '비견': `【비견(比肩)의 해 - 협력과 경쟁】

${currentYear}년은 동료와의 관계가 중요한 해입니다. 비견은 같은 위치의 동료, 경쟁자를 상징합니다.

• 팀워크가 중요한 프로젝트를 맡게 됩니다
• 동료와의 협력이 성공의 열쇠입니다
• 경쟁자가 나타날 수 있지만 선의의 경쟁이 됩니다
• 혼자보다 함께 할 때 더 좋은 성과를 거둡니다
• 네트워킹이 새로운 기회를 가져옵니다

비견의 해에는 협력의 자세가 중요합니다. 혼자 독식하려 하지 말고 나누는 마음을 가지세요.`,

    '겁재': `【겁재(劫財)의 해 - 주의와 인내】

${currentYear}년은 직장에서 주의가 필요한 해입니다. 겁재는 경쟁, 분쟁, 손실의 가능성을 암시합니다.

• 동료나 경쟁자와의 갈등이 있을 수 있습니다
• 중요한 기회를 놓칠 수 있으니 방심하지 마세요
• 이직은 신중하게 결정하세요
• 인내심을 가지고 현재 위치를 지키는 것이 유리합니다
• 과도한 업무로 스트레스가 쌓일 수 있습니다

겁재의 해에는 참을 인(忍)자가 중요합니다. 급하게 움직이지 말고 때를 기다리세요.`,

    '정인': `【정인(正印)의 해 - 학습과 성장】

${currentYear}년은 배움과 성장의 해입니다. 정인은 학문, 자격증, 스승을 상징합니다.

• 자격증 취득이나 승진 시험에 좋은 시기입니다
• 새로운 기술이나 지식 습득이 유리합니다
• 멘토나 귀인의 도움을 받을 수 있습니다
• 교육, 연구, 컨설팅 분야에서 기회가 있습니다
• 직장 내 교육 프로그램 참여가 도움됩니다

정인의 해에는 배움에 투자하세요. 지금의 학습이 미래의 성공으로 이어집니다.`,

    '편인': `【편인(偏印)의 해 - 특별한 기회】

${currentYear}년은 특별한 기회가 찾아오는 해입니다. 편인은 특수 분야, 창의적 능력, 예술을 상징합니다.

• 독특한 재능이나 기술이 인정받습니다
• 예술, IT, 연구 등 특수 분야에서 기회가 있습니다
• 갑작스러운 변화가 오히려 기회가 될 수 있습니다
• 정규 코스보다 비정규적인 경로가 유리할 수 있습니다
• 직관을 믿고 움직이면 좋은 결과가 있습니다

편인의 해에는 당신만의 특별함을 발휘하세요. 남들과 다른 것이 강점이 됩니다.`,
  };

  // 십신별 상세 애정운 풀이
  const loveFortunes: Record<string, string> = {
    '정재': `【정재(正財)의 해 - 안정적인 인연】

정재는 남성에게는 아내, 여성에게는 시어머니를 상징합니다. 올해는 결혼이나 안정적인 관계에 좋은 해입니다.

• 싱글: 결혼을 전제로 한 진지한 만남이 기대됩니다. 소개팅이나 중매가 좋은 인연으로 이어질 수 있습니다.
• 연인: 결혼이나 약혼을 고려하기 좋은 시기입니다. 관계가 더욱 안정되고 깊어집니다.
• 기혼: 배우자와의 관계가 좋아지며, 가정에 경사가 있을 수 있습니다.

진지하고 책임감 있는 만남이 유리합니다. 가벼운 연애보다 미래를 함께할 파트너를 찾으세요.`,

    '편재': `【편재(偏財)의 해 - 다양한 인연】

편재는 남성에게는 애인, 여성에게는 시아버지를 상징합니다. 올해는 다양한 인연이 찾아오는 해입니다.

• 싱글: 여러 만남의 기회가 있습니다. 설레는 연애를 즐길 수 있지만, 진지한 관계로 발전시킬 것인지 선택이 필요합니다.
• 연인: 연애가 즐겁고 활기차지만, 관계가 산만해질 수 있으니 집중하세요.
• 기혼: 외부 유혹에 주의하세요. 가정에 충실하면 오히려 관계가 좋아집니다.

다양한 인연 속에서 진정한 사람을 찾는 안목이 필요한 해입니다.`,

    '정관': `【정관(正官)의 해 - 존경받는 사랑】

정관은 여성에게는 남편, 남성에게는 자녀를 상징합니다. 올해는 품격 있는 인연이 찾아오는 해입니다.

• 싱글: 사회적으로 인정받는 사람을 만날 수 있습니다. 직장이나 공적인 자리에서 인연이 시작될 수 있습니다.
• 연인: 상대방의 장점을 새롭게 발견하게 됩니다. 결혼을 고려하기 좋은 시기입니다.
• 기혼: 배우자에 대한 존경심이 깊어지며, 부부 관계가 더욱 돈독해집니다.

서로를 존중하고 격려하는 성숙한 사랑이 이루어지는 해입니다.`,

    '편관': `【편관(偏官)의 해 - 열정적인 사랑】

편관은 강한 이끌림과 열정을 상징합니다. 올해는 운명적인 만남이 있을 수 있는 해입니다.

• 싱글: 강렬한 끌림을 느끼는 사람을 만날 수 있습니다. 첫눈에 반하는 인연이 가능합니다.
• 연인: 관계가 더욱 열정적으로 변하지만, 갈등도 생길 수 있습니다. 감정 조절이 필요합니다.
• 기혼: 배우자와 밀당이 있을 수 있습니다. 대화로 오해를 풀어가세요.

열정은 좋지만 지나치면 독이 됩니다. 감정을 잘 다스리며 사랑하세요.`,

    '식신': `【식신(食神)의 해 - 편안한 사랑】

식신은 풍요와 평화를 상징합니다. 올해는 편안하고 따뜻한 인연이 찾아오는 해입니다.

• 싱글: 자연스럽게 만나는 인연이 좋습니다. 음식점, 문화 활동, 취미 모임에서 좋은 만남이 있습니다.
• 연인: 함께 맛있는 음식을 먹고 여행을 즐기며 행복한 시간을 보냅니다.
• 기혼: 가정이 화목하고 아이와 관련된 기쁜 소식이 있을 수 있습니다.

편안하게 있을 수 있는 상대가 진정한 인연입니다. 조건보다 마음이 맞는 사람을 찾으세요.`,

    '상관': `【상관(傷官)의 해 - 표현하는 사랑】

상관은 자기표현과 감정 분출을 상징합니다. 올해는 솔직하게 사랑을 표현하는 해입니다.

• 싱글: 적극적으로 다가가면 좋은 인연을 만날 수 있습니다. 예술이나 창작 활동을 통한 만남이 좋습니다.
• 연인: 솔직한 대화로 관계가 깊어지지만, 과도한 감정 표현은 갈등을 유발할 수 있습니다.
• 기혼: 배우자에게 억눌렀던 말을 할 수 있습니다. 건설적인 대화가 되도록 노력하세요.

사랑을 표현하되 상대방의 감정도 배려하세요. 일방적인 표현은 부담이 될 수 있습니다.`,

    '비견': `【비견(比肩)의 해 - 친구 같은 사랑】

비견은 동등한 관계, 친구를 상징합니다. 올해는 친구에서 연인으로 발전하는 인연이 있을 수 있습니다.

• 싱글: 오랜 친구가 연인이 될 수 있습니다. 동호회나 모임에서 좋은 인연을 만날 수 있습니다.
• 연인: 친구처럼 편안한 관계가 되며, 함께 활동하는 시간이 많아집니다.
• 기혼: 부부가 동반자로서 함께 성장하는 한 해입니다.

동등하고 존중하는 관계가 오래갑니다. 상대를 소유하려 하지 말고 함께 성장하세요.`,

    '겁재': `【겁재(劫財)의 해 - 경쟁과 갈등】

겁재는 연애에서 경쟁자나 갈등을 암시합니다. 올해는 감정 관리가 필요한 해입니다.

• 싱글: 마음에 드는 사람에게 경쟁자가 있을 수 있습니다. 조급해하지 말고 신중하게 접근하세요.
• 연인: 질투나 오해로 갈등이 생길 수 있습니다. 신뢰와 대화가 중요합니다.
• 기혼: 제3자로 인한 갈등에 주의하세요. 가정에 충실하면 위기를 넘길 수 있습니다.

감정에 휘둘리지 말고 이성적으로 판단하세요. 의심보다 믿음이 관계를 지킵니다.`,

    '정인': `【정인(正印)의 해 - 보살핌받는 사랑】

정인은 어머니의 사랑, 보살핌을 상징합니다. 올해는 따뜻하게 보살펴주는 인연을 만나는 해입니다.

• 싱글: 자신을 있는 그대로 받아주는 사람을 만날 수 있습니다. 연상이나 어른스러운 사람과 인연이 있을 수 있습니다.
• 연인: 상대방의 사랑과 보살핌을 느끼며 안정감을 얻습니다.
• 기혼: 가정에서 편안함과 행복을 느끼며, 자녀와의 관계도 좋아집니다.

진정한 사랑은 조건 없이 받아들이는 것입니다. 외모나 조건보다 마음을 보세요.`,

    '편인': `【편인(偏印)의 해 - 특별한 인연】

편인은 특별하고 독특한 인연을 암시합니다. 올해는 운명적인 만남이 있을 수 있는 해입니다.

• 싱글: 예상치 못한 곳에서 특별한 인연을 만날 수 있습니다. 온라인, 해외, 특수한 상황에서의 만남이 가능합니다.
• 연인: 관계가 독특하게 발전하거나 갑작스러운 변화가 있을 수 있습니다.
• 기혼: 부부 사이에 새로운 바람이 불 수 있습니다. 좋은 방향으로 변화를 이끌어가세요.

인연은 예측할 수 없습니다. 열린 마음으로 다양한 만남에 임하세요.`,
  };

  // 오행별 상세 건강운 풀이
  const healthFortunes: Record<string, string> = {
    '목': `【목(木) 기운의 해 - 간담(肝膽) 건강 주의】

${currentYear}년은 목(木) 기운이 강한 해입니다. 오행 중 목은 간(肝)과 담(膽), 그리고 눈과 근육을 관장합니다.

• 주의해야 할 부위: 간, 담낭, 눈, 근육, 힘줄, 손발톱
• 나타날 수 있는 증상: 눈의 피로, 근육 경련, 손발톱 약화, 소화 불량, 두통
• 감정적 영향: 분노, 스트레스, 짜증이 건강에 영향을 줄 수 있습니다

【건강 관리 방법】
• 간에 좋은 음식(녹색 채소, 부추, 미나리, 시금치)을 섭취하세요
• 과도한 음주를 피하고 간 건강을 챙기세요
• 스트레칭과 가벼운 운동으로 근육을 풀어주세요
• 눈의 피로를 줄이기 위해 휴식을 자주 취하세요
• 분노 조절이 건강에 중요합니다. 명상이나 호흡법을 익히세요

봄의 기운이 강한 해이므로 생명력이 넘치지만, 과로하면 탈이 날 수 있습니다.`,

    '화': `【화(火) 기운의 해 - 심장(心臟) 건강 주의】

${currentYear}년은 화(火) 기운이 강한 해입니다. 오행 중 화는 심장(心)과 소장(小腸), 그리고 혀와 혈관을 관장합니다.

• 주의해야 할 부위: 심장, 소장, 혈관, 혀, 얼굴
• 나타날 수 있는 증상: 가슴 두근거림, 불면증, 구내염, 혈압 변화, 열감
• 감정적 영향: 과도한 흥분, 기쁨, 들뜸이 건강에 영향을 줄 수 있습니다

【건강 관리 방법】
• 심장에 좋은 음식(토마토, 팥, 수박, 고구마)을 섭취하세요
• 과도한 카페인과 자극적인 음식을 줄이세요
• 규칙적인 유산소 운동으로 심폐 기능을 강화하세요
• 충분한 수면으로 심장이 쉴 수 있게 하세요
• 과도한 흥분이나 스트레스를 피하고 마음의 평화를 유지하세요

여름의 기운이 강한 해이므로 활력이 넘치지만, 열이 과하면 탈이 날 수 있습니다.`,

    '토': `【토(土) 기운의 해 - 비위(脾胃) 건강 주의】

${currentYear}년은 토(土) 기운이 강한 해입니다. 오행 중 토는 비장(脾)과 위장(胃), 그리고 입과 살(肌肉)을 관장합니다.

• 주의해야 할 부위: 위장, 비장, 입술, 살(체중), 소화기관 전체
• 나타날 수 있는 증상: 소화불량, 위염, 체중 변화, 입술 건조, 피로감
• 감정적 영향: 과도한 걱정, 생각이 많음이 건강에 영향을 줄 수 있습니다

【건강 관리 방법】
• 소화에 좋은 음식(현미, 호박, 고구마, 감자)을 섭취하세요
• 과식을 피하고 규칙적인 식사 시간을 지키세요
• 폭식과 야식을 삼가고 천천히 씹어 먹으세요
• 적당한 운동으로 체중을 관리하세요
• 걱정을 줄이고 긍정적인 마음을 가지세요

환절기의 기운이 강한 해이므로 변화에 적응하는 것이 중요합니다.`,

    '금': `【금(金) 기운의 해 - 폐대장(肺大腸) 건강 주의】

${currentYear}년은 금(金) 기운이 강한 해입니다. 오행 중 금은 폐(肺)와 대장(大腸), 그리고 코와 피부를 관장합니다.

• 주의해야 할 부위: 폐, 대장, 코, 피부, 모발
• 나타날 수 있는 증상: 기침, 천식, 비염, 피부 트러블, 변비, 탈모
• 감정적 영향: 슬픔, 우울감이 건강에 영향을 줄 수 있습니다

【건강 관리 방법】
• 폐에 좋은 음식(도라지, 배, 무, 양파)을 섭취하세요
• 건조한 환경을 피하고 충분한 수분을 섭취하세요
• 호흡 운동과 명상으로 폐 기능을 강화하세요
• 피부 보습에 신경 쓰고 자외선을 차단하세요
• 슬픔을 억누르지 말고 적절히 표현하세요

가을의 기운이 강한 해이므로 결실을 거두되 건조함에 주의하세요.`,

    '수': `【수(水) 기운의 해 - 신방광(腎膀胱) 건강 주의】

${currentYear}년은 수(水) 기운이 강한 해입니다. 오행 중 수는 신장(腎)과 방광(膀胱), 그리고 귀와 뼈를 관장합니다.

• 주의해야 할 부위: 신장, 방광, 귀, 뼈, 치아, 허리
• 나타날 수 있는 증상: 요통, 이명, 부종, 빈뇨, 관절 통증, 치아 문제
• 감정적 영향: 두려움, 공포심이 건강에 영향을 줄 수 있습니다

【건강 관리 방법】
• 신장에 좋은 음식(검은콩, 해조류, 견과류)을 섭취하세요
• 충분한 수분을 섭취하되 너무 찬 음료는 피하세요
• 허리와 하체를 따뜻하게 유지하세요
• 과로를 피하고 충분한 휴식을 취하세요
• 두려움을 극복하고 마음의 안정을 찾으세요

겨울의 기운이 강한 해이므로 내면을 충전하되 추위에 주의하세요.`,
  };

  // 십신별 형제/동료운 풀이
  const siblingFortunes: Record<string, string> = {
    '비견': `【비견(比肩)의 해 - 형제/동료와의 협력】

비견은 나와 같은 오행으로, 형제자매나 친한 동료를 상징합니다. 올해는 이들과의 관계가 특히 중요합니다.

• 형제자매와의 유대가 깊어집니다
• 동료와의 협력 프로젝트가 성공합니다
• 친구나 동년배와 좋은 인연이 있습니다
• 함께 일하면 혼자보다 더 큰 성과를 거둡니다
• 경쟁보다 협력이 유리한 해입니다

다만 재물이나 기회를 나누어야 할 상황이 생길 수 있습니다. 마음을 열고 나누면 오히려 더 큰 복이 옵니다.`,

    '겁재': `【겁재(劫財)의 해 - 갈등과 화해】

겁재는 경쟁하거나 빼앗아가는 형제를 상징합니다. 올해는 형제나 동료와의 관계에서 주의가 필요합니다.

• 형제자매 간 갈등이나 오해가 생길 수 있습니다
• 동료와의 경쟁이 치열해질 수 있습니다
• 금전 문제로 다툼이 있을 수 있습니다
• 가까운 사람에게 배신당할 수 있으니 주의하세요
• 그러나 화해하면 관계가 더욱 돈독해집니다

겁재의 해에는 인내와 양보가 중요합니다. 이해관계가 얽힌 일은 서면으로 명확히 하세요.`,
  };

  const wealthContent = wealthFortunes[tenGod] || wealthFortunes['비견'];
  const careerContent = careerFortunes[tenGod] || careerFortunes['비견'];
  const loveContent = loveFortunes[tenGod] || loveFortunes['비견'];
  const healthContent = healthFortunes[yearElement] || healthFortunes['토'];
  const siblingContent = siblingFortunes[tenGod === '비견' || tenGod === '겁재' ? tenGod : '비견'];

  return {
    summary: `${currentYear}년 ${yearName}은 ${dayMaster} 일간에게 ${tenGod}(${tenGod === '비견' || tenGod === '겁재' ? '比劫' : tenGod})의 해입니다. ${fortune.summary}`,
    score: fortune.score,
    yearInfo: {
      year: currentYear,
      name: yearName,
      animal: animalName,
      tenGod: tenGod,
    },
    categories: [
      {
        emoji: '💰',
        title: '재물운',
        content: wealthContent,
        score: tenGod === '정재' ? 90 : tenGod === '편재' ? 85 : 78,
        advice: fortune.detailed.wealth,
      },
      {
        emoji: '💼',
        title: '직장/사업운',
        content: careerContent,
        score: tenGod === '정관' ? 88 : tenGod === '편관' ? 80 : 78,
        advice: fortune.detailed.career,
      },
      {
        emoji: '❤️',
        title: '애정운',
        content: loveContent,
        score: 75 + (fortune.score % 10),
        advice: fortune.detailed.love,
      },
      {
        emoji: '🏥',
        title: '건강운',
        content: healthContent,
        score: 72 + (fortune.score % 8),
        advice: fortune.detailed.health,
      },
      {
        emoji: '👨‍👩‍👧‍👦',
        title: '형제/동료운',
        content: siblingContent,
        score: tenGod === '비견' ? 78 : 70 + (fortune.score % 10),
        advice: '협력과 배려가 좋은 관계를 만듭니다.',
      },
    ],
    monthly: generateMonthlyFortune(),
    luckyInfo: {
      ...getYongsinBasedLuckyInfo(dayMaster),
      item: elementItems[getYongsinBasedLuckyInfo(dayMaster).yongsinElement] || '도자기',
    },
    tip: `${currentYear}년은 ${yearInfo.animal}의 해입니다. ${fortune.advice}`,
  };
}

// ============================================
// 토정비결 (조선시대 토정 이지함 선생 저술 기반)
// ============================================

// 토정비결 괘(卦) 해석 (64괘 중 대표적인 것들)
const TOJEONG_FORTUNES: Array<{
  name: string;
  fortune: string;
  advice: string;
  lucky: 'great' | 'good' | 'normal' | 'caution';
}> = [
  {
    name: '건위천(乾爲天)',
    fortune: `하늘이 높고 넓으니 만사형통하는 대길(大吉)의 상입니다. 건괘(乾卦)는 64괘 중 첫 번째로, 순수한 양(陽)의 기운이 충만하여 하늘을 상징합니다.

올해는 마치 용이 하늘로 승천하는 비룡재천(飛龍在天)의 기운을 받으셨으니, 무슨 일이든 적극적으로 추진하면 큰 성과를 거두실 수 있습니다. 사업가는 새로운 사업 확장의 기회가, 직장인은 승진과 인정의 기회가 찾아옵니다.

특히 봄과 가을에 좋은 기회가 많으니 놓치지 마시고, 귀인(貴人)의 도움을 받아 뜻을 펼치실 수 있습니다. 다만 너무 높이 오르면 내려올 일만 남는 법, 정상에 서더라도 겸손함을 잃지 않는 것이 오래도록 복을 누리는 비결입니다.`,
    advice: `"항룡유회(亢龍有悔)" - 너무 높이 오른 용은 후회가 있다는 뜻입니다. 성공할수록 더욱 낮은 자세로 주변을 살피고, 베풀면 더 큰 복이 돌아옵니다. 교만은 화를 부르고, 겸손은 복을 부릅니다. 윗사람에게는 공경을, 아랫사람에게는 은혜를 베푸세요.`,
    lucky: 'great',
  },
  {
    name: '곤위지(坤爲地)',
    fortune: `대지(大地)의 덕을 받으셨으니, 땅처럼 낮은 자세로 내실을 다지는 것이 좋은 해입니다. 곤괘(坤卦)는 순수한 음(陰)의 기운으로 어머니 대지를 상징하며, 만물을 품고 기르는 너그러움을 뜻합니다.

올해는 화려한 외형보다 내면의 충실함이 중요합니다. 욕심을 버리고 묵묵히 맡은 바 소임에 최선을 다하세요. 급하게 성과를 내려 하기보다 차근차근 기반을 다지면, 그것이 훗날 큰 결실의 밑거름이 됩니다.

농부가 봄에 씨를 뿌리고 가을 수확을 기다리듯, 조급해하지 않고 때를 기다리는 지혜가 필요합니다. 주변 사람들과의 관계에서도 포용력을 발휘하시면 귀한 조력자를 얻게 됩니다.`,
    advice: `"후덕재물(厚德載物)" - 두터운 덕이 만물을 싣는다는 뜻입니다. 인내하고 기다리면 반드시 때가 오니 조급해하지 마세요. 앞에 나서기보다 뒤에서 받쳐주는 역할에 충실하면, 오히려 더 큰 인정을 받습니다. 가정의 화목을 먼저 챙기세요.`,
    lucky: 'good',
  },
  {
    name: '수뢰둔(水雷屯)',
    fortune: `새싹이 땅을 뚫고 나오려는 상(象)이니, 초창기의 어려움이 있으나 꾸준히 나아가면 결국 성공할 수 있습니다. 둔괘(屯卦)는 만물이 처음 생겨나는 때의 어려움을 상징합니다.

올해는 마치 어린 나무가 거센 바람을 맞으며 뿌리를 내리는 시기와 같습니다. 당장 눈에 보이는 성과가 없더라도 실망하지 마세요. 지금 겪는 시련은 앞으로의 성장을 위한 준비 과정입니다.

특히 상반기에 어려움이 집중될 수 있으나, 하반기로 갈수록 상황이 나아집니다. 새로운 일을 시작했다면 초반의 혼란을 잘 견디고, 기존의 일을 하고 있다면 기본에 충실하세요. 비가 온 뒤에 땅이 굳어지듯, 어려움을 극복하면 더 단단해집니다.`,
    advice: `"천하만사(天下萬事) 시작이 반"이라 했으니, 어려울 때일수록 초심을 잃지 말고 기본에 충실하세요. 무리하게 확장하지 말고 지금 있는 것을 지키는 데 집중하세요. 좋은 조력자를 찾되 급하게 서두르지 마세요. 때가 되면 귀인이 나타납니다.`,
    lucky: 'normal',
  },
  {
    name: '산수몽(山水蒙)',
    fortune: `어린아이가 가르침을 받는 상(象)이니, 배움의 해입니다. 몽괘(蒙卦)는 산 아래 샘물이 있어 아직 방향을 정하지 못하고 흐르는 모습을 상징하며, 깨우침을 통해 올바른 길을 찾아가는 것을 뜻합니다.

올해는 새로운 것을 배우거나 실력을 쌓기에 매우 좋은 해입니다. 자격증 취득, 학업, 기술 습득, 외국어 공부 등 어떤 분야든 배움에 투자하면 반드시 좋은 결과가 있습니다.

또한 인생의 멘토나 스승을 만날 수 있는 시기입니다. 나이 많은 어른이나 경험 많은 선배의 조언에 귀 기울이세요. 때로는 책 한 권이 인생을 바꾸기도 하니, 독서도 소홀히 하지 마세요. 모르는 것을 부끄러워하지 말고, 배움에 겸손하세요.`,
    advice: `"학이시습(學而時習)" - 배우고 때때로 익히면 기쁘지 아니한가. 스승이나 선배의 조언을 귀담아 듣고 실천하세요. 모르면서 아는 척하는 것이 가장 위험합니다. 겸손하게 물으면 누구라도 가르쳐줄 것입니다. 배움에는 나이도 체면도 없습니다.`,
    lucky: 'good',
  },
  {
    name: '화천대유(火天大有)',
    fortune: `하늘 위에 태양이 있어 세상을 밝게 비추는 상(象)이니, 크게 얻는 대길(大吉)의 해입니다. 대유괘(大有卦)는 하늘(乾)과 불(離)이 만나 밝은 기운이 충만함을 상징합니다.

재물운과 명예운이 함께 좋아지는 매우 길한 해입니다. 그동안 노력해온 일이 결실을 맺고, 주변에서 인정을 받으며, 원하던 것을 얻을 수 있습니다. 사업가는 번창하고, 직장인은 승진하며, 학생은 좋은 성적을 거둡니다.

다만 너무 많이 가지면 잃을 것도 많아지는 법, 재물이 모이는 만큼 베풀 줄도 알아야 합니다. 주변의 어려운 사람을 돕고, 사회에 환원하는 마음을 가지면 복이 끊이지 않습니다. 화려한 성공에 취해 본심을 잃지 않도록 주의하세요.`,
    advice: `"유무상통(有無相通)" - 있는 사람이 없는 사람과 나누면 모두가 풍요로워집니다. 많이 얻을수록 많이 베푸세요. 베풀면 더 큰 복이 돌아오고, 움켜쥐면 가진 것마저 잃습니다. 재물은 흐르는 물과 같아서 막으면 썩고 흐르면 깨끗해집니다.`,
    lucky: 'great',
  },
  {
    name: '지산겸(地山謙)',
    fortune: `산이 땅 아래 있으니 겸손의 덕을 상징합니다. 겸괘(謙卦)는 64괘 중 유일하게 모든 효(爻)가 길한 괘로, 겸손하면 반드시 복이 온다는 것을 보여줍니다.

올해는 겸손하면 복이 오는 해입니다. 높은 산이 스스로 낮춰 땅 아래 있듯, 능력이 있어도 자랑하지 않고, 많이 알아도 아는 척하지 않는 것이 덕을 쌓는 방법입니다.

낮은 자세로 일하면 인정받을 수 있으며, 오히려 드러내지 않을수록 더 빛납니다. 겸손은 나약함이 아니라 진정한 강함입니다. 실력을 쌓되 조용히, 성과를 내되 겸허하게, 칭찬받되 교만하지 않게. 이렇게 하면 누구나 당신을 존경하고 따를 것입니다.`,
    advice: `"겸수익(謙受益)" - 겸손하면 이로움을 받는다는 뜻입니다. 자만하지 말고 한결같이 노력하세요. 성공해도 초심을 잃지 말고, 높은 자리에 올라도 아랫사람을 하대하지 마세요. 한 발 물러서면 오히려 넓은 길이 열립니다.`,
    lucky: 'good',
  },
  {
    name: '택지췌(澤地萃)',
    fortune: `연못(澤)이 땅(地) 위에 있어 물이 모이는 상(象)이니, 사람과 기회가 모이는 대길(大吉)의 해입니다. 췌괘(萃卦)는 모임과 결집을 상징하며, 흩어진 것들이 하나로 모여 큰 힘이 됨을 뜻합니다.

올해는 사람들이 모이고 기회가 모이니 적극적으로 활동하세요. 혼자보다 함께할 때 더 큰 성과를 낼 수 있습니다. 동업, 협력, 팀 프로젝트 등에서 좋은 결과가 기대됩니다.

인맥을 넓히기에도 좋은 해입니다. 모임에 참석하고, 새로운 사람을 만나며, 인연을 소중히 하세요. 특히 오래된 친구나 지인이 귀인이 될 수 있으니, 옛 인연도 돌아보세요. 결혼, 합자, 제휴 등 중요한 결합에 길한 해입니다.`,
    advice: `"화합위본(和合爲本)" - 화합이 근본이라는 뜻입니다. 좋은 인연을 소중히 하고, 사람을 모으는 데 힘쓰세요. 혼자 가면 빨리 가지만, 함께 가면 멀리 갑니다. 리더십을 발휘해야 할 때이니, 주변을 이끌되 독단은 피하세요.`,
    lucky: 'great',
  },
  {
    name: '산지박(山地剝)',
    fortune: `산이 무너져 땅으로 돌아가는 상(象)이니, 주의가 필요한 해입니다. 박괘(剝卦)는 양(陽)의 기운이 소진되어 음(陰)이 지배하는 때를 상징하며, 쇠퇴와 손실을 경고합니다.

올해는 무리하지 말고 현상 유지에 집중하세요. 새로운 사업이나 투자는 삼가고, 확장보다 수성(守成)에 힘쓰세요. 지금 가진 것을 지키는 것이 최선의 전략입니다.

그러나 낙심할 것은 없습니다. 박괘 다음에는 복괘(復卦)가 오니, 어둠이 지나면 반드시 새벽이 옵니다. 이 시기를 잘 견디면 내년에는 운이 상승합니다. 조용히 내면을 다스리고, 건강을 챙기며, 가족과 시간을 보내세요. 때로는 멈춤도 전진입니다.`,
    advice: `"고진감래(苦盡甘來)" - 쓴 것이 다하면 단 것이 온다는 뜻입니다. 새로운 일은 미루고 기존 일에 충실하세요. 사람을 경계하되 의심하지는 말고, 재물을 아끼되 인색하지는 마세요. 힘든 시기를 현명하게 보내면 더 단단해져 돌아옵니다.`,
    lucky: 'caution',
  },
];

// 토정비결 카테고리별 상세 풀이 생성
function generateDetailedTojeongWealth(luckyLevel: 'great' | 'good' | 'normal' | 'caution', gweName: string): string {
  if (luckyLevel === 'great') {
    return `【토정비결 재물운 - 대길(大吉)】

"${gweName}" 괘를 받으신 분의 올해 재물운은 매우 길합니다. 토정비결에서는 이 괘를 "금은이 창고에 가득 찬 상"으로 풀이합니다.

▶ 정재(正財):
본업에서의 수입이 크게 늘어납니다. 급여 인상, 매출 증가, 사업 번창 등 안정적인 재물이 들어옵니다. 특히 상반기에 좋은 소식이 기대됩니다.

▶ 편재(偏財):
횡재의 기운이 있습니다. 복권, 경품, 상속, 뜻밖의 보너스 등 예상치 못한 재물이 찾아올 수 있습니다. 투자에서도 좋은 결과가 기대됩니다.

▶ 재물 관리:
재물이 들어오는 만큼 나가는 것도 많을 수 있습니다. "물이 차면 넘친다"는 이치를 기억하시고, 검약하되 베푸는 마음도 잊지 마세요.

▶ 투자 적기:
봄(3~4월)과 가을(9~10월)이 특히 좋습니다. 부동산, 주식, 저축 등 재테크에 적극적으로 임해도 좋습니다.

▶ 길한 방위: 동쪽, 남동쪽 (재물을 얻을 수 있는 방향)

※ 고언(古言): "부귀재천(富貴在天) 근면재인(勤勉在人)" - 부귀는 하늘에 달렸지만 근면함은 사람에게 달렸습니다.`;
  } else if (luckyLevel === 'good') {
    return `【토정비결 재물운 - 길(吉)】

"${gweName}" 괘를 받으신 분의 올해 재물운은 좋은 흐름입니다. 토정비결에서는 "논밭에 풍년이 드는 상"으로 풀이합니다.

▶ 정재(正財):
본업에서 안정적인 수입이 유지됩니다. 급격한 증가보다 꾸준한 성장이 기대됩니다. 성실하게 일하면 그에 합당한 대가를 받습니다.

▶ 편재(偏財):
큰 횡재보다 작은 행운들이 이어집니다. 쇼핑 할인, 예상치 못한 세금 환급, 지인의 도움 등 소소한 복이 있습니다.

▶ 재물 관리:
지출을 줄이고 저축을 늘리세요. "티끌 모아 태산"이라는 말처럼 작은 절약이 큰 재산이 됩니다. 불필요한 소비를 자제하면 연말에 목돈을 만들 수 있습니다.

▶ 투자 주의:
고위험 투자보다 안전자산 위주로 운용하세요. 욕심을 부리면 오히려 손해를 볼 수 있습니다.

▶ 길한 방위: 북쪽, 북동쪽

※ 고언(古言): "근검절약(勤儉節約)이 치부지본(致富之本)" - 부지런하고 검소함이 부를 이루는 근본입니다.`;
  } else if (luckyLevel === 'normal') {
    return `【토정비결 재물운 - 평(平)】

"${gweName}" 괘를 받으신 분의 올해 재물운은 평온한 흐름입니다. 토정비결에서는 "밭에 곡식이 적당히 익는 상"으로 풀이합니다.

▶ 정재(正財):
수입과 지출이 균형을 이룹니다. 큰 이득도 손해도 없이 평탄하게 흘러갑니다. 현재 수입을 유지하는 데 집중하세요.

▶ 편재(偏財):
횡재는 기대하기 어렵습니다. 복권이나 투기성 투자는 삼가고 정도(正道)를 걸으세요.

▶ 재물 관리:
"수입의 반은 저축하라"는 옛말을 기억하세요. 비상금을 마련해 두면 예상치 못한 상황에도 대처할 수 있습니다. 월별 예산을 세워 계획적으로 소비하세요.

▶ 주의 사항:
보증이나 빚 보증은 절대 피하세요. 친한 사람이라도 돈 거래는 신중하게 하세요. "돈은 인정을 모른다"는 말을 기억하세요.

▶ 길한 방위: 중앙, 서쪽

※ 고언(古言): "안분지족(安分知足)" - 분수를 알고 만족할 줄 알면 근심이 없습니다.`;
  } else {
    return `【토정비결 재물운 - 주의(注意)】

"${gweName}" 괘를 받으신 분의 올해 재물운은 조심이 필요합니다. 토정비결에서는 "흉년이 들어 창고가 비는 상"으로 풀이합니다.

▶ 손재(損財) 주의:
예상치 못한 지출이 발생할 수 있습니다. 의료비, 수리비, 경조사비 등 급한 돈이 나갈 수 있으니 비상금을 충분히 확보하세요.

▶ 사기 조심:
투자 권유, 달콤한 제안에 현혹되지 마세요. "공짜 점심은 없다"는 말을 기억하고, 모든 금전 거래에 신중을 기하세요. 보증은 절대 서지 마세요.

▶ 재물 수호 방법:
- 붉은색 지갑이나 소품으로 액운을 막으세요
- 큰 금액의 현금 소지를 피하세요
- 중요한 계약은 전문가와 상담 후 진행하세요
- 재테크보다 절약에 집중하세요

▶ 길한 시기:
올해보다 내년에 재물운이 호전됩니다. 올해는 수성(守成)에 집중하고 내년을 기다리세요.

▶ 주의 방위: 남쪽, 남서쪽 (재물 손실 우려)

※ 고언(古言): "새옹지마(塞翁之馬)" - 인생만사 화복이 바뀌니 어려울 때도 희망을 잃지 마세요.`;
  }
}

function generateDetailedTojeongCareer(luckyLevel: 'great' | 'good' | 'normal' | 'caution', gweName: string): string {
  if (luckyLevel === 'great') {
    return `【토정비결 직업운 - 대길(大吉)】

"${gweName}" 괘를 받으신 분의 올해 직업운은 대길합니다. 토정비결에서는 "용이 하늘로 오르는 상"으로 풀이합니다.

▶ 직장인:
승진과 발탁의 기회가 많습니다. 상사의 눈에 들어 중요한 프로젝트를 맡게 됩니다. 연봉 협상에서도 좋은 결과를 얻을 수 있습니다.

▶ 사업자:
사업이 번창합니다. 새로운 거래처 확보, 매출 증가, 사업 확장 등 좋은 일이 연속됩니다. 동업이나 합작에도 좋은 시기입니다.

▶ 구직자:
취업운이 강합니다. 원하는 직장에 들어갈 수 있으며, 3월과 9월에 좋은 소식이 기대됩니다.

▶ 귀인(貴人):
올해는 귀인의 도움이 있습니다. 주변 어른이나 상사의 조언에 귀 기울이세요. 그들이 성공의 문을 열어줄 것입니다.

▶ 주의 사항:
성공에 교만해지지 마세요. "높은 나무에 바람이 거세다"는 말처럼 겸손함을 유지하세요.

※ 고언(古言): "등용문(登龍門)" - 용문에 오르니 만사형통입니다.`;
  } else if (luckyLevel === 'good') {
    return `【토정비결 직업운 - 길(吉)】

"${gweName}" 괘를 받으신 분의 올해 직업운은 좋은 흐름입니다. 토정비결에서는 "봄에 씨를 뿌려 가을에 거두는 상"으로 풀이합니다.

▶ 직장인:
꾸준한 노력이 인정받는 해입니다. 급격한 승진보다 안정적인 성장을 기대하세요. 자기계발에 투자하면 미래에 큰 도움이 됩니다.

▶ 사업자:
기존 사업의 안정적인 운영이 가능합니다. 무리한 확장보다 내실을 다지는 데 집중하세요.

▶ 구직자:
인내심을 가지고 준비하면 좋은 결과가 있습니다. 5월과 10월에 면접 기회가 많습니다.

▶ 대인관계:
동료들과의 협력이 중요합니다. 팀워크를 통해 더 큰 성과를 이룰 수 있습니다.

▶ 길한 달: 3월, 6월, 9월

※ 고언(古言): "우공이산(愚公移山)" - 꾸준히 노력하면 산도 옮길 수 있습니다.`;
  } else if (luckyLevel === 'normal') {
    return `【토정비결 직업운 - 평(平)】

"${gweName}" 괘를 받으신 분의 올해 직업운은 평온한 흐름입니다. 토정비결에서는 "논밭을 지키는 농부의 상"으로 풀이합니다.

▶ 직장인:
현재 직장에서의 안정을 유지하세요. 이직이나 전직은 신중하게 고려하고, 현재 업무에 충실하세요.

▶ 사업자:
공격적인 투자나 확장보다 수성(守成)에 집중하세요. 기존 고객 관리와 품질 향상에 주력하면 좋겠습니다.

▶ 구직자:
즉시 취업보다 자격증 취득이나 스킬 향상에 시간을 투자하면 내년에 더 좋은 기회가 옵니다.

▶ 주의 사항:
직장 내 불필요한 갈등을 피하세요. 정치적인 상황에 휘말리지 않도록 중립을 지키세요.

※ 고언(古言): "안분수기(安分守己)" - 분수를 알고 자기를 지키면 탈이 없습니다.`;
  } else {
    return `【토정비결 직업운 - 주의(注意)】

"${gweName}" 괘를 받으신 분의 올해 직업운은 조심이 필요합니다. 토정비결에서는 "바람에 흔들리는 나무의 상"으로 풀이합니다.

▶ 직장인:
직장 내 변화가 있을 수 있습니다. 구조조정, 부서 이동, 업무 변경 등에 대비하세요. 이직을 고려한다면 충분히 준비한 후 하반기에 시도하세요.

▶ 사업자:
매출 감소나 거래처 이탈에 주의하세요. 새로운 사업 시작보다 기존 사업 유지에 집중하고, 비용 절감에 힘쓰세요.

▶ 구직자:
취업까지 시간이 걸릴 수 있습니다. 눈높이를 조절하고 다양한 기회에 도전하세요.

▶ 대처 방법:
- 인맥 관리에 신경 쓰세요 (귀인의 도움이 중요)
- 기술 습득과 자격증 취득으로 경쟁력을 높이세요
- 갈등 상황에서는 한 발 물러서는 지혜가 필요합니다

※ 고언(古言): "화이불실(禍而不失)" - 재앙 중에도 잃지 않으면 복이 옵니다.`;
  }
}

function generateDetailedTojeongFamily(luckyLevel: 'great' | 'good' | 'normal' | 'caution', gweName: string): string {
  if (luckyLevel === 'great') {
    return `【토정비결 가정/인연운 - 대길(大吉)】

"${gweName}" 괘를 받으신 분의 올해 가정운은 대길합니다. 토정비결에서는 "봉황이 둥지를 트는 상"으로 풀이합니다.

▶ 가정 경사:
결혼, 출산, 입학, 합격 등 경사가 있을 수 있습니다. 가족 모두가 기뻐할 좋은 소식이 기대됩니다.

▶ 부부운:
부부 금슬이 좋습니다. 함께하는 시간을 늘리고 서로에게 감사를 표현하세요. 임신을 원하시는 분께도 좋은 소식이 있을 수 있습니다.

▶ 인연운 (미혼):
좋은 인연을 만날 확률이 높습니다. 봄(3~5월)과 가을(9~10월)에 운명적인 만남이 기대됩니다. 선을 보거나 소개팅에 적극 참여하세요.

▶ 자녀운:
자녀가 좋은 성과를 냅니다. 학업, 취업, 건강 모두 좋으니 믿고 응원해주세요.

▶ 조상 음덕:
조상의 음덕이 미치는 해입니다. 제사나 성묘를 정성껏 지내면 더 큰 복이 옵니다.

※ 고언(古言): "가화만사성(家和萬事成)" - 집안이 화목하면 모든 일이 이루어집니다.`;
  } else if (luckyLevel === 'good') {
    return `【토정비결 가정/인연운 - 길(吉)】

"${gweName}" 괘를 받으신 분의 올해 가정운은 좋은 흐름입니다. 토정비결에서는 "따뜻한 봄바람이 부는 상"으로 풀이합니다.

▶ 가정 화목:
가족 간 화목한 해입니다. 대화가 원활하고 서로를 이해하는 분위기가 형성됩니다.

▶ 부부운:
안정적인 부부관계가 유지됩니다. 작은 이벤트나 여행으로 사랑을 확인하세요.

▶ 인연운 (미혼):
새로운 만남이 있습니다. 서서히 정이 드는 인연이 오래갑니다. 친구의 소개에 관심을 가져보세요.

▶ 자녀운:
자녀가 순탄하게 성장합니다. 학업이나 건강에 큰 문제가 없습니다.

▶ 효도:
부모님께 효도하면 복이 배가 됩니다. 어버이날이나 명절에 정성을 다하세요.

※ 고언(古言): "화목위보(和睦爲寶)" - 화목함이 보배입니다.`;
  } else if (luckyLevel === 'normal') {
    return `【토정비결 가정/인연운 - 평(平)】

"${gweName}" 괘를 받으신 분의 올해 가정운은 평온한 흐름입니다. 토정비결에서는 "잔잔한 호수의 상"으로 풀이합니다.

▶ 가정 상황:
큰 경사도 변고도 없이 평탄합니다. 일상의 감사함을 느끼며 지내세요.

▶ 부부운:
권태기가 올 수 있습니다. 새로운 취미나 활동을 함께하며 관계에 활력을 불어넣으세요.

▶ 인연운 (미혼):
급한 인연보다 자기 발전에 집중하세요. 외모나 내면을 가꾸면 내년에 더 좋은 인연이 찾아옵니다.

▶ 주의 사항:
가족 간 소통이 부족해질 수 있습니다. 바쁘더라도 대화 시간을 확보하세요.

※ 고언(古言): "천륜지락(天倫之樂)" - 가족과 함께하는 즐거움을 소중히 여기세요.`;
  } else {
    return `【토정비결 가정/인연운 - 주의(注意)】

"${gweName}" 괘를 받으신 분의 올해 가정운은 조심이 필요합니다. 토정비결에서는 "차가운 북풍이 부는 상"으로 풀이합니다.

▶ 가족 갈등:
가족 간 오해나 다툼이 있을 수 있습니다. 참을 인(忍)자를 마음에 새기고, 감정적인 대화는 피하세요.

▶ 부부운:
부부 갈등에 주의하세요. 사소한 일로 크게 싸우지 않도록 서로 양보하세요. 제3자의 개입은 피하세요.

▶ 인연운 (미혼):
올해 급하게 인연을 찾기보다 내년을 기다리세요. 올해 만나는 인연은 오래가기 어려울 수 있습니다.

▶ 건강 주의:
가족 중 건강이 약한 분이 있다면 특별히 신경 쓰세요. 정기 검진을 권합니다.

▶ 해결 방법:
- 가족 여행이나 외식으로 분위기 전환
- 오해가 있으면 먼저 사과하는 마음
- 붉은색 소품으로 액운 차단

※ 고언(古言): "인내자득(忍耐自得)" - 참고 견디면 스스로 얻게 됩니다.`;
  }
}

export function generateTojeongFortune(birthDate: string, dayMaster: string = '갑') {
  // 생년월일로 괘 결정 (간단한 해시 함수 사용)
  const dateHash = birthDate.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const fortuneIndex = dateHash % TOJEONG_FORTUNES.length;
  const fortune = TOJEONG_FORTUNES[fortuneIndex];

  return {
    summary: fortune.fortune,
    score: fortune.lucky === 'great' ? 90 : fortune.lucky === 'good' ? 78 : fortune.lucky === 'normal' ? 65 : 50,
    categories: [
      {
        emoji: '📜',
        title: '괘상 해석',
        content: `【${fortune.name} - 토정비결 괘상 풀이】

당신의 2026년 병오(丙午)년 괘는 "${fortune.name}"입니다.

▶ 괘상 해설:
${fortune.fortune}

▶ 전체 운세 등급: ${fortune.lucky === 'great' ? '대길(大吉)' : fortune.lucky === 'good' ? '길(吉)' : fortune.lucky === 'normal' ? '평(平)' : '주의(注意)'}

▶ 조언:
${fortune.advice}

※ 토정비결은 조선시대 토정 이지함 선생이 창안한 전통 운세 점술로, 생년월일을 기반으로 한 해의 운을 12괘로 풀이합니다.`,
        advice: fortune.advice,
      },
      {
        emoji: '💰',
        title: '재물운',
        content: generateDetailedTojeongWealth(fortune.lucky, fortune.name),
        score: fortune.lucky === 'great' ? 88 : fortune.lucky === 'good' ? 75 : fortune.lucky === 'normal' ? 60 : 45,
      },
      {
        emoji: '👔',
        title: '직업운',
        content: generateDetailedTojeongCareer(fortune.lucky, fortune.name),
        score: fortune.lucky === 'great' ? 90 : fortune.lucky === 'good' ? 78 : fortune.lucky === 'normal' ? 62 : 48,
      },
      {
        emoji: '❤️',
        title: '가정/인연운',
        content: generateDetailedTojeongFamily(fortune.lucky, fortune.name),
        score: fortune.lucky === 'great' ? 85 : fortune.lucky === 'good' ? 72 : fortune.lucky === 'normal' ? 58 : 42,
      },
    ],
    luckyInfo: getYongsinBasedLuckyInfo(dayMaster),
    monthly: generateTojeongMonthlyFortune(fortune.lucky),
    tip: fortune.lucky === 'caution'
      ? '올해는 내실을 다지는 해입니다. 차근차근 준비하면 다음 해에 더 큰 성과를 얻을 수 있습니다.'
      : '좋은 운에 겸손과 감사가 더해지면 복이 배가 됩니다.',
  };
}

// 토정비결 월별 상세 운세 생성
function generateTojeongMonthlyFortune(yearLuck: 'great' | 'good' | 'normal' | 'caution'): Array<{month: number; content: string; luck: 'good' | 'normal' | 'bad'}> {
  // 토정비결 전통 해석 기반 월별 운세
  const baseContents: Record<number, { title: string; base: string }> = {
    1: { title: '정월(正月)', base: '새해 첫 달로 만물이 소생하는 시기입니다. 입춘(立春)과 우수(雨水)가 있어 새로운 시작의 기운이 강합니다.' },
    2: { title: '이월(二月)', base: '경칩(驚蟄)과 춘분(春分)이 있는 달로, 동면하던 만물이 깨어납니다. 봄기운이 본격화되는 시기입니다.' },
    3: { title: '삼월(三月)', base: '청명(淸明)과 곡우(穀雨)가 있어 봄이 절정에 달합니다. 만물이 생동하는 시기입니다.' },
    4: { title: '사월(四月)', base: '입하(立夏)와 소만(小滿)이 있어 여름이 시작됩니다. 봄에서 여름으로 전환되는 시기입니다.' },
    5: { title: '오월(五月)', base: '망종(芒種)과 하지(夏至)가 있어 화기(火氣)가 절정입니다. 낮이 가장 긴 시기입니다.' },
    6: { title: '유월(六月)', base: '소서(小暑)와 대서(大暑)가 있어 무더위가 기승합니다. 양기가 극에 달하는 시기입니다.' },
    7: { title: '칠월(七月)', base: '입추(立秋)와 처서(處暑)가 있어 가을이 시작됩니다. 수확을 준비하는 시기입니다.' },
    8: { title: '팔월(八月)', base: '백로(白露)와 추분(秋分)이 있어 가을이 깊어갑니다. 추석이 있는 풍요의 달입니다.' },
    9: { title: '구월(九月)', base: '한로(寒露)와 상강(霜降)이 있어 서늘함이 찾아옵니다. 결실을 마무리하는 시기입니다.' },
    10: { title: '시월(十月)', base: '입동(立冬)과 소설(小雪)이 있어 겨울이 시작됩니다. 내면을 돌아보는 시기입니다.' },
    11: { title: '동짓달(冬至月)', base: '대설(大雪)과 동지(冬至)가 있어 밤이 가장 긴 시기입니다. 한 해를 마무리하며 성찰합니다.' },
    12: { title: '섣달(臘月)', base: '소한(小寒)과 대한(大寒)이 있어 추위가 절정입니다. 새해를 준비하는 시기입니다.' },
  };

  // 연운에 따른 월별 운 결정
  const monthlyLucks: Record<'great' | 'good' | 'normal' | 'caution', Array<'good' | 'normal' | 'bad'>> = {
    great: ['good', 'good', 'good', 'normal', 'good', 'good', 'good', 'good', 'good', 'normal', 'good', 'good'],
    good: ['good', 'normal', 'good', 'normal', 'good', 'normal', 'good', 'good', 'normal', 'normal', 'good', 'normal'],
    normal: ['normal', 'normal', 'good', 'normal', 'normal', 'bad', 'normal', 'good', 'normal', 'normal', 'normal', 'normal'],
    caution: ['normal', 'bad', 'normal', 'bad', 'normal', 'bad', 'normal', 'normal', 'bad', 'normal', 'normal', 'normal'],
  };

  return Array.from({ length: 12 }, (_, i) => {
    const month = i + 1;
    const { title, base } = baseContents[month];
    const luck = monthlyLucks[yearLuck][i];

    const fortuneByLuck: Record<'good' | 'normal' | 'bad', { wealth: string; career: string; family: string; health: string; advice: string }> = {
      good: {
        wealth: '재물운이 좋습니다. 뜻밖의 횡재나 부수입이 있을 수 있습니다. 저축이나 투자에 좋은 시기입니다.',
        career: '직업운이 좋습니다. 승진이나 성과가 기대되며, 새로운 기회가 찾아올 수 있습니다.',
        family: '가정이 화목하고 경사가 있을 수 있습니다. 좋은 인연도 기대됩니다.',
        health: '건강운이 좋습니다. 활력이 넘치며 큰 탈 없이 지낼 수 있습니다.',
        advice: '길운이니 적극적으로 행동하세요. 기회를 놓치지 마시고 과감하게 추진하시면 좋은 결과가 있습니다.',
      },
      normal: {
        wealth: '재물운은 평이합니다. 큰 이득도 손해도 없으니 현상 유지에 집중하세요.',
        career: '직업운은 무난합니다. 꾸준히 노력하면 인정받을 수 있습니다.',
        family: '가정은 평화롭습니다. 가족과 소통하며 화목하게 지내세요.',
        health: '건강은 보통입니다. 무리하지 않으면 큰 문제 없습니다.',
        advice: '평운이니 무리하지 말고 현재 일에 충실하세요. 급하게 서두르지 마시고 차분히 준비하세요.',
      },
      bad: {
        wealth: '재물 손실에 주의하세요. 투자나 대출, 보증은 피하시고 검약하게 지내세요.',
        career: '직장에서 어려움이 있을 수 있습니다. 인내하며 겸손하게 처신하세요.',
        family: '가족 간 갈등이나 오해가 생길 수 있습니다. 말조심하고 대화로 풀어가세요.',
        health: '건강에 주의하세요. 무리하지 말고 충분한 휴식을 취하세요.',
        advice: '주의가 필요한 달입니다. 큰 결정은 미루시고 몸조심하세요. 붉은색이나 노란색 소품이 액막이에 도움됩니다.',
      },
    };

    const fortuneDetail = fortuneByLuck[luck];

    const content = `【${title} 운세 - 토정비결】

${base}

• 재물운: ${fortuneDetail.wealth}

• 직업운: ${fortuneDetail.career}

• 가정/인연: ${fortuneDetail.family}

• 건강운: ${fortuneDetail.health}

• 조언: ${fortuneDetail.advice}`;

    return { month, content, luck };
  });
}

// ============================================
// 별자리 운세 (서양 점성술 기반)
// ============================================

const ZODIAC_SIGNS: Record<string, {
  name: string;
  emoji: string;
  element: string;
  dates: [number, number, number, number]; // [시작월, 시작일, 끝월, 끝일]
}> = {
  aries: { name: '양자리', emoji: '♈', element: '불', dates: [3, 21, 4, 19] },
  taurus: { name: '황소자리', emoji: '♉', element: '흙', dates: [4, 20, 5, 20] },
  gemini: { name: '쌍둥이자리', emoji: '♊', element: '공기', dates: [5, 21, 6, 20] },
  cancer: { name: '게자리', emoji: '♋', element: '물', dates: [6, 21, 7, 22] },
  leo: { name: '사자자리', emoji: '♌', element: '불', dates: [7, 23, 8, 22] },
  virgo: { name: '처녀자리', emoji: '♍', element: '흙', dates: [8, 23, 9, 22] },
  libra: { name: '천칭자리', emoji: '♎', element: '공기', dates: [9, 23, 10, 22] },
  scorpio: { name: '전갈자리', emoji: '♏', element: '물', dates: [10, 23, 11, 21] },
  sagittarius: { name: '사수자리', emoji: '♐', element: '불', dates: [11, 22, 12, 21] },
  capricorn: { name: '염소자리', emoji: '♑', element: '흙', dates: [12, 22, 1, 19] },
  aquarius: { name: '물병자리', emoji: '♒', element: '공기', dates: [1, 20, 2, 18] },
  pisces: { name: '물고기자리', emoji: '♓', element: '물', dates: [2, 19, 3, 20] },
};

const ZODIAC_FORTUNES: Record<string, {
  overall: string;
  love: string;
  money: string;
  health: string;
  advice: string;
  detailedPersonality: string;
  strengths: string[];
  weaknesses: string[];
  luckyNumbers: number[];
  luckyColors: string[];
  luckyDay: string;
  compatibleSigns: string[];
  incompatibleSigns: string[];
  careerAptitude: string;
  loveStyle: string;
  monthlyFortune: Record<number, string>;
}> = {
  aries: {
    overall: '새로운 도전에 적합한 시기입니다. 용기를 갖고 앞으로 나아가세요.',
    love: '적극적인 표현이 좋은 결과를 가져옵니다.',
    money: '충동적인 소비를 자제하면 재물운이 좋아집니다.',
    health: '격한 운동보다 균형 잡힌 운동이 좋습니다.',
    advice: '성급한 판단은 피하세요.',
    detailedPersonality: '양자리는 12궁의 첫 번째 별자리로, 선구자적 기질과 강한 리더십을 가지고 있습니다. 화성의 지배를 받아 열정적이고 에너지가 넘치며, 새로운 일을 시작하는 것을 좋아합니다. 직접적이고 솔직한 성격으로 말과 행동이 빠르며, 두려움 없이 도전하는 용기가 있습니다. 다만 인내심이 부족하고 충동적인 면이 있어 장기 프로젝트에서는 끈기를 기르는 것이 중요합니다.',
    strengths: ['강한 리더십과 추진력', '용감하고 모험적인 정신', '솔직하고 직접적인 의사소통', '빠른 판단력과 행동력', '독립적이고 자기 확신이 강함'],
    weaknesses: ['인내심 부족', '충동적인 결정', '경쟁심이 지나칠 수 있음', '타인의 감정에 둔감할 수 있음', '쉽게 지루함을 느낌'],
    luckyNumbers: [2, 7],
    luckyColors: ['빨간색', '주황색', '골드'],
    luckyDay: '화요일',
    compatibleSigns: ['사자자리', '사수자리', '쌍둥이자리', '물병자리'],
    incompatibleSigns: ['게자리', '염소자리'],
    careerAptitude: '기업가, 운동선수, 군인, 외과의사, 소방관, 영업직, 탐험가 등 도전적이고 활동적인 직업에 적합합니다. 리더 역할을 맡거나 새로운 분야를 개척하는 일에서 두각을 나타냅니다.',
    loveStyle: '열정적이고 직접적으로 사랑을 표현합니다. 상대방을 정복하는 것을 좋아하며, 연애 초기에 매우 적극적입니다. 독립적인 파트너를 원하며, 지루함을 느끼면 관계에 흥미를 잃을 수 있습니다.',
    monthlyFortune: {
      1: '새해와 함께 새로운 시작의 에너지가 강합니다. 목표를 세우고 추진하기 좋은 달입니다.',
      2: '대인관계에서 갈등이 생길 수 있으니 말과 행동에 주의하세요.',
      3: '양자리 시즌! 생일 전후로 행운이 따르며, 새로운 기회가 찾아옵니다.',
      4: '재정 관리에 신경 써야 할 시기입니다. 충동 구매를 자제하세요.',
      5: '커뮤니케이션 운이 좋습니다. 중요한 협상이나 발표에 적합합니다.',
      6: '가정과 가족에 관한 일에 집중하게 되는 시기입니다.',
      7: '창의력이 발휘되는 달입니다. 취미나 연애에서 즐거움을 찾으세요.',
      8: '건강과 일상 루틴을 점검하기 좋은 시기입니다.',
      9: '파트너십과 협력 관계가 중요해지는 달입니다.',
      10: '깊은 변화와 성장의 시기입니다. 내면을 돌아보세요.',
      11: '학습과 여행에 좋은 운이 있습니다. 시야를 넓히세요.',
      12: '커리어와 사회적 지위에 관한 기회가 찾아옵니다.',
    },
  },
  taurus: {
    overall: '안정을 추구하며 실속을 챙기기 좋은 시기입니다.',
    love: '진실한 마음이 상대에게 전해집니다.',
    money: '착실한 저축이 빛을 발합니다.',
    health: '규칙적인 생활이 건강의 비결입니다.',
    advice: '변화를 두려워하지 마세요.',
    detailedPersonality: '황소자리는 금성의 지배를 받아 아름다움과 편안함을 추구합니다. 안정적이고 신뢰할 수 있으며, 한번 결정하면 끝까지 밀고 나가는 끈기가 있습니다. 물질적 풍요와 감각적 즐거움을 중시하며, 미식가인 경우가 많습니다. 실용적이고 현실적인 사고를 하며, 급격한 변화보다는 점진적인 발전을 선호합니다.',
    strengths: ['뛰어난 인내력과 끈기', '현실적이고 실용적인 사고', '신뢰할 수 있는 성격', '감각적 심미안', '재정 관리 능력'],
    weaknesses: ['고집이 세고 융통성이 부족함', '변화를 싫어함', '소유욕이 강할 수 있음', '게으름을 부릴 때가 있음', '물질에 집착할 수 있음'],
    luckyNumbers: [5, 10],
    luckyColors: ['녹색', '분홍색', '하늘색'],
    luckyDay: '금요일',
    compatibleSigns: ['처녀자리', '염소자리', '게자리', '물고기자리'],
    incompatibleSigns: ['사자자리', '물병자리'],
    careerAptitude: '금융, 부동산, 요리사, 음악가, 화가, 인테리어 디자이너, 농업, 조경사 등 안정적이면서 감각을 활용하는 직업에 적합합니다.',
    loveStyle: '헌신적이고 충실한 파트너입니다. 사랑에 빠지면 오래 지속하며, 물질적으로나 정서적으로 상대방을 돌봅니다. 다만 질투심이 강하고 소유욕이 나타날 수 있습니다.',
    monthlyFortune: {
      1: '재정 계획을 세우기 좋은 시기입니다. 새해 예산을 검토하세요.',
      2: '대인관계가 활발해지며, 새로운 인연을 만날 수 있습니다.',
      3: '내면의 성찰이 필요한 시기입니다. 충분한 휴식을 취하세요.',
      4: '황소자리 시즌! 개인적인 목표를 추진하기에 최적의 시기입니다.',
      5: '재물운이 상승합니다. 부수입의 기회를 잡으세요.',
      6: '커뮤니케이션이 활발해지며, 학습에 좋은 시기입니다.',
      7: '가정과 가족 관련 일에 집중하게 됩니다.',
      8: '로맨스와 창의력이 빛나는 달입니다.',
      9: '건강과 일상 루틴을 재정비하기 좋습니다.',
      10: '파트너십에서 중요한 결정을 내릴 수 있습니다.',
      11: '깊은 변화의 시기입니다. 재정적 문제를 정리하세요.',
      12: '여행과 학습에 좋은 운이 있습니다.',
    },
  },
  gemini: {
    overall: '다양한 경험과 배움의 기회가 많습니다.',
    love: '소통이 원활해져 관계가 좋아집니다.',
    money: '다양한 수입원을 고려해보세요.',
    health: '정신 건강에도 관심을 기울이세요.',
    advice: '한 가지에 집중하는 연습이 필요합니다.',
    detailedPersonality: '쌍둥이자리는 수성의 지배를 받아 커뮤니케이션과 지적 호기심이 뛰어납니다. 빠른 두뇌 회전과 다재다능함이 특징이며, 여러 가지 일을 동시에 처리할 수 있습니다. 사교적이고 유머 감각이 뛰어나 사람들과 쉽게 어울립니다. 새로운 정보와 아이디어에 관심이 많고, 변화와 다양성을 즐깁니다.',
    strengths: ['뛰어난 의사소통 능력', '빠른 학습 능력', '다재다능함', '적응력이 좋음', '유머 감각'],
    weaknesses: ['집중력이 분산될 수 있음', '일관성이 부족할 수 있음', '표면적인 관계에 그칠 수 있음', '결정을 자주 바꿈', '불안정해 보일 수 있음'],
    luckyNumbers: [4, 9],
    luckyColors: ['노란색', '연두색', '밝은 파란색'],
    luckyDay: '수요일',
    compatibleSigns: ['천칭자리', '물병자리', '양자리', '사자자리'],
    incompatibleSigns: ['처녀자리', '물고기자리'],
    careerAptitude: '작가, 저널리스트, 번역가, 교사, 마케터, 세일즈, 방송인, IT 전문가 등 커뮤니케이션과 정보를 다루는 직업에 적합합니다.',
    loveStyle: '지적인 대화를 중시하며, 재미있고 자극적인 연애를 좋아합니다. 자유로움을 원하며, 너무 집착하는 파트너는 부담스러워합니다. 다양한 관심사를 공유할 수 있는 상대를 선호합니다.',
    monthlyFortune: {
      1: '새로운 아이디어와 계획을 세우기 좋은 시기입니다.',
      2: '재정적인 기회가 찾아올 수 있습니다. 준비하세요.',
      3: '커뮤니케이션이 활발해지며, 네트워킹에 좋습니다.',
      4: '내면의 휴식이 필요한 시기입니다.',
      5: '쌍둥이자리 시즌! 새로운 시작에 최적의 시기입니다.',
      6: '재물운이 상승하며, 가치를 재평가하게 됩니다.',
      7: '배움과 교류가 활발한 달입니다.',
      8: '가정과 가족에 관심이 집중됩니다.',
      9: '창의력과 로맨스가 빛나는 시기입니다.',
      10: '건강과 일상에 신경 써야 합니다.',
      11: '인간관계와 파트너십이 중요해집니다.',
      12: '깊은 성찰과 변화의 시기입니다.',
    },
  },
  cancer: {
    overall: '가정과 관계된 일에서 행복을 느낄 수 있습니다.',
    love: '감정을 표현하는 것이 관계에 도움이 됩니다.',
    money: '가족을 위한 지출에 보람을 느낍니다.',
    health: '스트레스 관리가 중요합니다.',
    advice: '과거에 연연하지 말고 앞으로 나아가세요.',
    detailedPersonality: '게자리는 달의 지배를 받아 감정이 풍부하고 직관력이 뛰어납니다. 가정과 가족을 매우 중요시하며, 보호본능이 강합니다. 타인의 감정을 잘 이해하고 공감하는 능력이 있어 주변 사람들에게 정서적 지지를 제공합니다. 기억력이 좋고 과거를 소중히 여기며, 전통과 추억을 간직하는 것을 좋아합니다.',
    strengths: ['강한 공감 능력', '보호 본능', '뛰어난 직관력', '충실한 성격', '요리나 육아 등 돌봄 능력'],
    weaknesses: ['감정 기복이 있을 수 있음', '과거에 집착할 수 있음', '지나친 방어적 태도', '변화를 두려워함', '상처받기 쉬움'],
    luckyNumbers: [1, 6],
    luckyColors: ['은색', '흰색', '연보라색'],
    luckyDay: '월요일',
    compatibleSigns: ['전갈자리', '물고기자리', '황소자리', '처녀자리'],
    incompatibleSigns: ['양자리', '천칭자리'],
    careerAptitude: '간호사, 심리상담사, 요리사, 유치원 교사, 역사학자, 부동산업, 골동품 수집상 등 돌봄과 보호, 과거와 관련된 직업에 적합합니다.',
    loveStyle: '헌신적이고 보호적인 파트너입니다. 안정적이고 깊은 유대감을 원하며, 가정을 중시합니다. 상대방을 돌보는 것을 좋아하지만, 때로는 지나친 보호가 상대방을 답답하게 만들 수 있습니다.',
    monthlyFortune: {
      1: '가족과의 시간이 중요한 달입니다.',
      2: '재정 계획을 검토하고 저축을 늘리세요.',
      3: '커뮤니케이션과 단거리 여행에 좋은 시기입니다.',
      4: '가정 환경을 개선하거나 이사를 고려할 수 있습니다.',
      5: '창의적인 프로젝트에 집중하기 좋습니다.',
      6: '건강 관리에 특별히 신경 써야 합니다.',
      7: '게자리 시즌! 생일을 맞아 새로운 시작을 하세요.',
      8: '재물운이 좋아지며, 가치관을 재정립합니다.',
      9: '배움과 소통이 활발한 달입니다.',
      10: '가정과 직장 사이의 균형을 찾아야 합니다.',
      11: '로맨스와 자녀 관련 행운이 있습니다.',
      12: '일상 루틴을 정비하고 건강을 점검하세요.',
    },
  },
  leo: {
    overall: '리더십을 발휘할 기회가 많습니다.',
    love: '자신감이 매력이 됩니다.',
    money: '큰 투자보다 작은 성과가 더 값집니다.',
    health: '과로하지 말고 휴식을 취하세요.',
    advice: '겸손함이 더 큰 존경을 받습니다.',
    detailedPersonality: '사자자리는 태양의 지배를 받아 자신감과 카리스마가 넘칩니다. 타고난 리더십과 창의력을 가지고 있으며, 주목받는 것을 좋아합니다. 관대하고 따뜻한 마음을 가지고 있어 주변 사람들에게 영감을 줍니다. 자존심이 강하고 인정받고 싶어하는 욕구가 있으며, 드라마틱한 표현을 좋아합니다.',
    strengths: ['강한 리더십', '창의력', '관대함', '자신감', '충성심'],
    weaknesses: ['자존심이 지나칠 수 있음', '독선적으로 보일 수 있음', '인정 욕구가 강함', '비판에 민감함', '사치스러울 수 있음'],
    luckyNumbers: [2, 7],
    luckyColors: ['금색', '주황색', '보라색'],
    luckyDay: '일요일',
    compatibleSigns: ['양자리', '사수자리', '쌍둥이자리', '천칭자리'],
    incompatibleSigns: ['황소자리', '전갈자리'],
    careerAptitude: 'CEO, 배우, 정치인, 패션 디자이너, 이벤트 플래너, 연예인, 코치 등 리더십을 발휘하고 주목받는 직업에 적합합니다.',
    loveStyle: '로맨틱하고 열정적인 연애를 합니다. 상대방에게 관대하고 선물을 좋아하며, 드라마틱한 제스처로 사랑을 표현합니다. 자신의 노력이 인정받기를 원하며, 충성스러운 파트너를 원합니다.',
    monthlyFortune: {
      1: '새해 목표를 세우고 리더십을 발휘하세요.',
      2: '인간관계가 확장되며, 네트워킹에 좋습니다.',
      3: '내면의 성찰과 휴식이 필요한 시기입니다.',
      4: '사회적 활동이 활발해지고, 그룹 활동에 적극적으로 참여하세요.',
      5: '창의적인 프로젝트를 시작하기 좋습니다.',
      6: '재물운이 상승하며, 수입이 늘어날 수 있습니다.',
      7: '배움과 소통의 달입니다.',
      8: '사자자리 시즌! 당신이 주인공인 시기입니다.',
      9: '재정 관리에 집중하세요.',
      10: '커뮤니케이션과 단거리 여행에 좋습니다.',
      11: '가정과 가족에 관심이 집중됩니다.',
      12: '로맨스와 창의력이 빛나는 시기입니다.',
    },
  },
  virgo: {
    overall: '세심한 계획이 성과로 이어집니다.',
    love: '상대방의 작은 것에도 관심을 보이세요.',
    money: '절약과 계획적인 소비가 좋습니다.',
    health: '건강 검진을 받아보세요.',
    advice: '완벽을 추구하기보다 진행을 선택하세요.',
    detailedPersonality: '처녀자리는 수성의 지배를 받아 분석적이고 세밀한 성격을 가집니다. 실용적이고 체계적이며, 디테일에 강합니다. 봉사 정신이 있고 타인을 돕는 것을 좋아하며, 청결과 질서를 중시합니다. 완벽주의적 성향이 있어 높은 기준을 가지고 있으며, 비판적 사고 능력이 뛰어납니다.',
    strengths: ['분석력과 비판적 사고', '체계적이고 조직적임', '봉사 정신', '세심한 주의력', '실용성'],
    weaknesses: ['지나친 완벽주의', '비판적으로 보일 수 있음', '걱정이 많을 수 있음', '융통성이 부족할 수 있음', '자기 비하 경향'],
    luckyNumbers: [5, 10],
    luckyColors: ['베이지', '갈색', '네이비'],
    luckyDay: '수요일',
    compatibleSigns: ['황소자리', '염소자리', '게자리', '전갈자리'],
    incompatibleSigns: ['쌍둥이자리', '사수자리'],
    careerAptitude: '의사, 연구원, 편집자, 회계사, 영양사, 건강 관련 직종, 품질 관리자 등 세밀함과 분석력이 요구되는 직업에 적합합니다.',
    loveStyle: '헌신적이고 실용적인 방식으로 사랑을 표현합니다. 상대방의 일상적인 필요를 챙기고, 건강과 생활을 돌봅니다. 완벽한 관계를 추구하여 때로는 비판적으로 보일 수 있지만, 마음은 진실합니다.',
    monthlyFortune: {
      1: '건강 습관을 점검하고 개선하기 좋은 시기입니다.',
      2: '창의적인 프로젝트에서 성과를 낼 수 있습니다.',
      3: '파트너십에 대한 고민이 있을 수 있습니다.',
      4: '재정적 변화나 공동 자산 관련 일이 있습니다.',
      5: '여행이나 학습에 좋은 운이 있습니다.',
      6: '커리어에서 중요한 기회가 찾아옵니다.',
      7: '네트워킹과 그룹 활동이 활발해집니다.',
      8: '휴식과 재충전이 필요한 시기입니다.',
      9: '처녀자리 시즌! 새로운 시작을 하세요.',
      10: '재물운이 상승하며, 가치관을 재정립합니다.',
      11: '커뮤니케이션이 활발해집니다.',
      12: '가정과 가족에 집중하는 시기입니다.',
    },
  },
  libra: {
    overall: '인간관계에서 균형을 찾는 시기입니다.',
    love: '조화로운 관계가 행복의 열쇠입니다.',
    money: '공정한 거래가 신뢰를 쌓습니다.',
    health: '균형 잡힌 식단이 중요합니다.',
    advice: '결정을 미루지 마세요.',
    detailedPersonality: '천칭자리는 금성의 지배를 받아 조화와 아름다움을 추구합니다. 공정함과 균형을 중시하며, 분쟁을 조정하는 데 능합니다. 사교적이고 매력적이며, 예술적 감각이 뛰어납니다. 타인과의 관계를 중시하고 협력을 잘하지만, 결정을 내리는 데 어려움을 겪을 수 있습니다.',
    strengths: ['조화와 균형 감각', '외교적 능력', '공정함', '사교성', '예술적 감각'],
    weaknesses: ['우유부단함', '갈등 회피', '타인에게 의존할 수 있음', '자기 의견을 굽힐 수 있음', '피상적으로 보일 수 있음'],
    luckyNumbers: [4, 9],
    luckyColors: ['파스텔 블루', '핑크', '라벤더'],
    luckyDay: '금요일',
    compatibleSigns: ['쌍둥이자리', '물병자리', '사자자리', '사수자리'],
    incompatibleSigns: ['게자리', '염소자리'],
    careerAptitude: '변호사, 외교관, 중재자, 패션 디자이너, 인테리어 디자이너, 웨딩 플래너, 갤러리 큐레이터 등 조화와 미적 감각이 필요한 직업에 적합합니다.',
    loveStyle: '로맨틱하고 파트너를 중시합니다. 조화로운 관계를 원하며, 갈등을 피하려 합니다. 상대방을 기쁘게 하려고 노력하지만, 자신의 필요를 표현하는 것이 중요합니다.',
    monthlyFortune: {
      1: '인간관계와 파트너십을 돌아보는 시기입니다.',
      2: '깊은 변화와 재정 정리가 필요합니다.',
      3: '여행과 학습에 좋은 운이 있습니다.',
      4: '커리어에서 성과를 낼 수 있습니다.',
      5: '그룹 활동과 네트워킹에 좋습니다.',
      6: '휴식과 재충전이 필요합니다.',
      7: '개인적인 목표에 집중하세요.',
      8: '재물운이 상승합니다.',
      9: '커뮤니케이션이 활발해지는 달입니다.',
      10: '천칭자리 시즌! 새로운 시작의 에너지가 넘칩니다.',
      11: '재정 관리와 가치관 정립에 좋습니다.',
      12: '배움과 소통의 기회가 많습니다.',
    },
  },
  scorpio: {
    overall: '깊이 있는 통찰력이 빛나는 시기입니다.',
    love: '진정한 감정을 공유하면 관계가 깊어집니다.',
    money: '투자에 대한 감이 좋습니다.',
    health: '감정을 억누르지 마세요.',
    advice: '집착을 버리면 더 많은 것이 옵니다.',
    detailedPersonality: '전갈자리는 명왕성과 화성의 지배를 받아 강렬하고 열정적입니다. 깊은 통찰력과 집중력을 가지고 있으며, 표면 아래의 진실을 꿰뚫어 봅니다. 변화와 재생의 에너지를 가지고 있어 어려움을 극복하는 힘이 있습니다. 비밀을 잘 지키고, 신뢰하는 사람에게는 매우 충실합니다.',
    strengths: ['깊은 통찰력', '결단력', '충성심', '재생과 변화 능력', '집중력'],
    weaknesses: ['질투심이 강할 수 있음', '비밀스러움', '복수심', '지나친 의심', '컨트롤 욕구'],
    luckyNumbers: [1, 6],
    luckyColors: ['검정', '진홍색', '진한 보라'],
    luckyDay: '화요일',
    compatibleSigns: ['게자리', '물고기자리', '처녀자리', '염소자리'],
    incompatibleSigns: ['사자자리', '물병자리'],
    careerAptitude: '탐정, 심리학자, 외과의사, 연구원, 금융 분석가, 장례 지도사, 위기 관리 전문가 등 깊이와 집중력이 필요한 직업에 적합합니다.',
    loveStyle: '깊고 강렬한 관계를 원합니다. 올인하는 스타일로, 반쪽짜리 사랑은 용납하지 않습니다. 상대방에게 매우 충실하지만, 배신에는 용서하기 어렵습니다.',
    monthlyFortune: {
      1: '깊은 변화와 재정 정리의 시기입니다.',
      2: '여행과 학습에서 영감을 얻습니다.',
      3: '커리어에서 중요한 진전이 있습니다.',
      4: '그룹 활동과 미래 계획에 집중하세요.',
      5: '휴식과 내면 성찰이 필요합니다.',
      6: '개인적인 목표와 이미지에 집중합니다.',
      7: '재물운이 상승하는 시기입니다.',
      8: '커뮤니케이션과 학습에 좋습니다.',
      9: '가정과 가족에 관심이 집중됩니다.',
      10: '로맨스와 창의력이 빛납니다.',
      11: '전갈자리 시즌! 변화와 새로운 시작의 에너지입니다.',
      12: '재정 관리와 자산 증식에 좋습니다.',
    },
  },
  sagittarius: {
    overall: '모험과 탐험에 좋은 시기입니다.',
    love: '자유로운 연애가 즐겁습니다.',
    money: '예상치 못한 수입이 있을 수 있습니다.',
    health: '야외 활동이 건강에 좋습니다.',
    advice: '현실적인 계획도 필요합니다.',
    detailedPersonality: '사수자리는 목성의 지배를 받아 낙관적이고 모험정신이 강합니다. 자유를 사랑하고 새로운 경험과 지식을 추구합니다. 철학적 사고를 좋아하며, 인생의 의미를 탐구합니다. 솔직하고 직설적이며, 유머 감각이 뛰어납니다.',
    strengths: ['낙관적 태도', '모험 정신', '철학적 사고', '솔직함', '자유로운 영혼'],
    weaknesses: ['무책임하게 보일 수 있음', '세부 사항을 놓칠 수 있음', '과도한 약속', '참을성 부족', '직설적인 말이 상처가 될 수 있음'],
    luckyNumbers: [2, 7],
    luckyColors: ['보라색', '인디고', '터키색'],
    luckyDay: '목요일',
    compatibleSigns: ['양자리', '사자자리', '천칭자리', '물병자리'],
    incompatibleSigns: ['처녀자리', '물고기자리'],
    careerAptitude: '여행 가이드, 교수, 작가, 철학자, 방송인, 국제 비즈니스, 스포츠 관련 직종 등 자유롭고 확장적인 직업에 적합합니다.',
    loveStyle: '자유롭고 열린 관계를 원합니다. 지적으로 자극받기를 원하며, 함께 모험을 떠날 파트너를 찾습니다. 구속을 싫어하며, 너무 진지한 관계는 부담스러워할 수 있습니다.',
    monthlyFortune: {
      1: '여행과 학습에 좋은 운이 있습니다.',
      2: '커리어에서 진전이 있을 수 있습니다.',
      3: '그룹 활동과 네트워킹에 활발한 시기입니다.',
      4: '내면 성찰과 휴식이 필요합니다.',
      5: '새로운 시작을 하기에 좋습니다.',
      6: '재물운이 상승하며, 가치관을 돌아봅니다.',
      7: '커뮤니케이션이 활발해지는 달입니다.',
      8: '가정과 가족에 집중합니다.',
      9: '로맨스와 창의력이 빛나는 시기입니다.',
      10: '건강 관리와 일상 루틴에 신경 쓰세요.',
      11: '파트너십에서 중요한 결정을 내립니다.',
      12: '사수자리 시즌! 낙관과 확장의 에너지가 넘칩니다.',
    },
  },
  capricorn: {
    overall: '목표를 향해 꾸준히 나아가는 시기입니다.',
    love: '진지한 관계가 안정을 줍니다.',
    money: '장기 투자가 좋은 결과를 낳습니다.',
    health: '무리하지 말고 적절한 휴식을 취하세요.',
    advice: '때로는 유연함도 필요합니다.',
    detailedPersonality: '염소자리는 토성의 지배를 받아 책임감 있고 야심 찹니다. 목표 지향적이며, 꾸준히 노력하여 성과를 이루는 타입입니다. 전통과 구조를 중시하고, 실용적이며 현실적입니다. 자기 통제력이 강하고 인내심이 있습니다.',
    strengths: ['책임감', '야망', '끈기', '자기 통제력', '현실적 사고'],
    weaknesses: ['일중독이 될 수 있음', '융통성 부족', '비관적일 수 있음', '감정 표현이 서투름', '지나친 보수성'],
    luckyNumbers: [5, 10],
    luckyColors: ['검정', '갈색', '카키'],
    luckyDay: '토요일',
    compatibleSigns: ['황소자리', '처녀자리', '전갈자리', '물고기자리'],
    incompatibleSigns: ['양자리', '천칭자리'],
    careerAptitude: '경영자, 정치인, 건축가, 엔지니어, 금융 전문가, 법조인, 행정가 등 목표 지향적이고 체계적인 직업에 적합합니다.',
    loveStyle: '진지하고 헌신적인 관계를 원합니다. 천천히 마음을 열지만, 일단 사랑에 빠지면 오래 지속합니다. 안정적인 관계를 중시하며, 파트너와 함께 목표를 향해 나아가기를 원합니다.',
    monthlyFortune: {
      1: '염소자리 시즌! 새해와 함께 새로운 목표를 세우세요.',
      2: '재물운이 상승하며, 수입 증가의 기회입니다.',
      3: '커뮤니케이션과 학습에 좋은 시기입니다.',
      4: '가정과 가족에 관심이 집중됩니다.',
      5: '창의력과 로맨스가 빛나는 달입니다.',
      6: '건강 관리와 일상 루틴을 점검하세요.',
      7: '파트너십에서 중요한 결정이 있습니다.',
      8: '깊은 변화와 재정 정리의 시기입니다.',
      9: '여행과 학습에 좋은 운이 있습니다.',
      10: '커리어에서 중요한 성과를 낼 수 있습니다.',
      11: '네트워킹과 그룹 활동이 활발해집니다.',
      12: '휴식과 재충전이 필요한 시기입니다.',
    },
  },
  aquarius: {
    overall: '독창적인 아이디어가 빛나는 시기입니다.',
    love: '특별한 인연을 만날 수 있습니다.',
    money: '혁신적인 방법으로 수익을 창출할 수 있습니다.',
    health: '새로운 건강 습관을 시작해보세요.',
    advice: '너무 이상에만 치우치지 마세요.',
    detailedPersonality: '물병자리는 천왕성과 토성의 지배를 받아 독창적이고 진보적입니다. 인도주의적 가치를 중시하고 사회 개혁에 관심이 많습니다. 독립적이고 개성이 강하며, 관습에 얽매이지 않습니다. 미래 지향적 사고를 하고 혁신적인 아이디어가 많습니다.',
    strengths: ['독창성', '인도주의적 가치관', '독립심', '진보적 사고', '객관적 시각'],
    weaknesses: ['감정적으로 거리감이 있을 수 있음', '고집이 셀 수 있음', '예측 불가능', '실용성이 부족할 수 있음', '반항적일 수 있음'],
    luckyNumbers: [4, 9],
    luckyColors: ['전기 블루', '터키색', '실버'],
    luckyDay: '토요일',
    compatibleSigns: ['쌍둥이자리', '천칭자리', '양자리', '사수자리'],
    incompatibleSigns: ['황소자리', '전갈자리'],
    careerAptitude: '과학자, 발명가, IT 전문가, 사회활동가, 항공우주 관련, 디자이너, 미래학자 등 혁신적이고 독창적인 직업에 적합합니다.',
    loveStyle: '친구 같은 관계를 원합니다. 정신적인 연결을 중시하며, 개인의 자유와 공간을 존중해주는 파트너를 원합니다. 전통적인 로맨스보다는 독특하고 자유로운 관계를 추구합니다.',
    monthlyFortune: {
      1: '개인적인 목표와 새로운 시작에 집중하세요.',
      2: '물병자리 시즌! 혁신과 변화의 에너지가 넘칩니다.',
      3: '재물운이 상승하며, 새로운 수입원을 찾습니다.',
      4: '커뮤니케이션과 학습에 좋은 시기입니다.',
      5: '가정과 가족에 관심이 집중됩니다.',
      6: '창의력과 로맨스가 빛나는 달입니다.',
      7: '건강 관리와 일상 루틴을 점검하세요.',
      8: '파트너십에서 중요한 결정을 내립니다.',
      9: '깊은 변화와 재정 정리의 시기입니다.',
      10: '여행과 학습에 좋은 운이 있습니다.',
      11: '커리어에서 성과를 낼 수 있습니다.',
      12: '그룹 활동과 네트워킹이 활발해집니다.',
    },
  },
  pisces: {
    overall: '직관이 강해지는 시기입니다.',
    love: '감정적 교류가 깊어집니다.',
    money: '예술적 활동에서 수익을 찾을 수 있습니다.',
    health: '명상이나 요가가 도움이 됩니다.',
    advice: '현실도 놓치지 마세요.',
    detailedPersonality: '물고기자리는 해왕성과 목성의 지배를 받아 상상력이 풍부하고 감수성이 예민합니다. 예술적 재능이 있으며, 공감 능력이 뛰어납니다. 영적인 것에 관심이 많고 직관력이 강합니다. 희생 정신이 있고 타인을 돕고 싶어하지만, 현실과 이상의 경계가 모호해질 수 있습니다.',
    strengths: ['풍부한 상상력', '공감 능력', '예술적 재능', '직관력', '희생 정신'],
    weaknesses: ['현실 회피 경향', '쉽게 상처받음', '우유부단함', '경계가 약할 수 있음', '의존적일 수 있음'],
    luckyNumbers: [1, 6],
    luckyColors: ['바다색', '연보라', '민트'],
    luckyDay: '목요일',
    compatibleSigns: ['게자리', '전갈자리', '황소자리', '염소자리'],
    incompatibleSigns: ['쌍둥이자리', '사수자리'],
    careerAptitude: '예술가, 음악가, 영화감독, 간호사, 심리치료사, 성직자, 자선단체 활동가 등 창의적이고 돌봄이 필요한 직업에 적합합니다.',
    loveStyle: '로맨틱하고 헌신적인 사랑을 합니다. 상대방과 깊이 교감하기를 원하며, 이상적인 사랑을 꿈꿉니다. 상대방을 위해 희생하지만, 때로는 현실적인 판단도 필요합니다.',
    monthlyFortune: {
      1: '휴식과 재충전이 필요한 시기입니다.',
      2: '내면 성찰과 영적 성장에 집중하세요.',
      3: '물고기자리 시즌! 새로운 시작의 에너지가 넘칩니다.',
      4: '재물운이 상승하며, 가치관을 돌아봅니다.',
      5: '커뮤니케이션과 학습에 좋은 시기입니다.',
      6: '가정과 가족에 관심이 집중됩니다.',
      7: '창의력과 로맨스가 빛나는 달입니다.',
      8: '건강 관리와 일상 루틴을 점검하세요.',
      9: '파트너십에서 중요한 결정을 내립니다.',
      10: '깊은 변화와 재정 정리의 시기입니다.',
      11: '여행과 학습에 좋은 운이 있습니다.',
      12: '커리어에서 성과를 낼 수 있습니다.',
    },
  },
};

function getZodiacSign(birthDate: string): string {
  const [, month, day] = birthDate.split('-').map(Number);

  for (const [key, sign] of Object.entries(ZODIAC_SIGNS)) {
    const [startMonth, startDay, endMonth, endDay] = sign.dates;

    if (startMonth === 12 && endMonth === 1) {
      // 염소자리 (12/22 ~ 1/19)
      if ((month === 12 && day >= startDay) || (month === 1 && day <= endDay)) {
        return key;
      }
    } else if (
      (month === startMonth && day >= startDay) ||
      (month === endMonth && day <= endDay)
    ) {
      return key;
    }
  }

  return 'aries'; // 기본값
}

// 별자리운세 카테고리별 상세 풀이 생성
function generateDetailedZodiacOverall(signKey: string, sign: any, fortune: any, score: number): string {
  const signName = sign.name;
  const signEmoji = sign.emoji;
  const signElement = sign.element;
  const rulingPlanet = sign.rulingPlanet;

  const elementDescriptions: Record<string, string> = {
    '불': '열정과 행동력을 상징하는 불의 에너지가 당신을 이끕니다',
    '흙': '안정과 현실성을 상징하는 흙의 에너지가 당신을 지탱합니다',
    '공기': '지성과 소통을 상징하는 공기의 에너지가 당신을 인도합니다',
    '물': '감성과 직관을 상징하는 물의 에너지가 당신을 감싸줍니다',
  };

  return `【${signEmoji} ${signName} 2026년 총운】

${fortune.overall}

▶ 원소 에너지 (${signElement}):
${elementDescriptions[signElement] || '우주의 에너지가 당신과 함께합니다'}. 2026년은 ${signElement} 원소의 힘이 특별히 강하게 작용하는 해입니다.

▶ 수호 행성 (${rulingPlanet}):
${rulingPlanet}의 움직임이 당신의 운세에 중요한 영향을 미칩니다. 올해 ${rulingPlanet}이 순행할 때(상반기) 특히 좋은 기회가 찾아옵니다.

▶ 연간 운세 흐름:
• 상반기(1~6월): 새로운 시작과 도전에 유리한 시기입니다. 목표를 세우고 적극적으로 추진하세요.
• 하반기(7~12월): 상반기에 시작한 일들의 결실을 맺는 시기입니다. 안정과 수확에 집중하세요.

▶ 핵심 조언:
${fortune.advice}

▶ 행운의 시기: ${signElement === '불' ? '3월, 7월, 11월' : signElement === '흙' ? '4월, 8월, 12월' : signElement === '공기' ? '1월, 5월, 9월' : '2월, 6월, 10월'}
▶ 주의할 시기: ${signElement === '불' ? '6월, 10월' : signElement === '흙' ? '3월, 9월' : signElement === '공기' ? '4월, 12월' : '7월, 11월'}

※ ${signName}의 강점인 ${fortune.detailedPersonality?.split('.')[0] || '당신만의 특별한 능력'}을 발휘하면 2026년을 성공적으로 보낼 수 있습니다.`;
}

function generateDetailedZodiacLove(signKey: string, sign: any, fortune: any, score: number): string {
  const signName = sign.name;
  const signElement = sign.element;
  const compatibleSigns = fortune.compatibleSigns?.join(', ') || '';
  const incompatibleSigns = fortune.incompatibleSigns?.join(', ') || '';
  const loveStyle = fortune.loveStyle || '';

  if (score >= 80) {
    return `【${signName} 애정운 - 대길(大吉)】

${fortune.love}

▶ 당신의 연애 스타일:
${loveStyle}

▶ 2026년 연애 운세:
올해는 사랑이 꽃피는 해입니다! ${signElement} 원소의 에너지가 이성에게 특별한 매력으로 작용합니다.

• 미혼자: 운명적인 만남이 기대됩니다. 특히 ${compatibleSigns}와의 궁합이 좋으니 이 별자리 분들에게 관심을 가져보세요.
• 연인 있는 분: 관계가 한 단계 발전합니다. 프로포즈나 동거, 결혼을 계획하기 좋은 해입니다.
• 기혼자: 부부 사이가 더욱 돈독해집니다. 함께하는 여행이나 이벤트를 계획하세요.

▶ 연애 길한 달: 3월, 6월, 9월
▶ 궁합 좋은 별자리: ${compatibleSigns}
▶ 주의할 별자리: ${incompatibleSigns}

※ 조언: 사랑은 주는 것입니다. 받는 것보다 주는 것에 집중하세요.`;
  } else if (score >= 70) {
    return `【${signName} 애정운 - 길(吉)】

${fortune.love}

▶ 당신의 연애 스타일:
${loveStyle}

▶ 2026년 연애 운세:
안정적인 애정운이 이어집니다. 급격한 변화보다 꾸준한 발전이 기대됩니다.

• 미혼자: 새로운 만남이 있습니다. 첫눈에 반하기보다 서서히 정이 드는 인연을 찾으세요.
• 연인 있는 분: 서로에 대한 이해가 깊어집니다. 대화를 통해 관계를 발전시키세요.
• 기혼자: 일상의 소소한 행복을 느끼는 해입니다.

▶ 궁합 좋은 별자리: ${compatibleSigns}
▶ 주의할 별자리: ${incompatibleSigns}

※ 조언: 따뜻한 말 한마디가 관계를 더욱 깊게 합니다.`;
  } else {
    return `【${signName} 애정운 - 평(平)】

${fortune.love}

▶ 당신의 연애 스타일:
${loveStyle}

▶ 2026년 연애 운세:
자기 자신에게 집중하는 시기입니다. 외부의 인연보다 내면을 가꾸세요.

• 미혼자: 급하게 인연을 찾기보다 자기 발전에 투자하세요. 내년에 더 좋은 인연이 기대됩니다.
• 연인 있는 분: 권태기가 올 수 있습니다. 새로운 데이트 코스나 취미를 함께 찾아보세요.
• 기혼자: 가정에 더 많은 시간을 투자하세요.

▶ 궁합 좋은 별자리: ${compatibleSigns}

※ 조언: 완벽한 상대는 없습니다. 서로의 단점을 포용하세요.`;
  }
}

function generateDetailedZodiacMoney(signKey: string, sign: any, fortune: any, score: number): string {
  const signName = sign.name;
  const signElement = sign.element;

  if (score >= 80) {
    return `【${signName} 금전운 - 대길(大吉)】

${fortune.money}

▶ 2026년 재물 운세:
금전운이 크게 상승하는 해입니다! ${signElement} 원소의 에너지가 재물을 끌어당깁니다.

• 정재(正財): 본업에서의 수입이 증가합니다. 급여 인상, 보너스, 성과급 등이 기대됩니다.
• 편재(偏財): 투자나 부업에서 예상치 못한 수익이 있을 수 있습니다. 재테크에 관심을 가지세요.

▶ 투자 적기:
• 봄(3~4월): 새로운 투자를 시작하기 좋은 시기
• 가을(9~10월): 수익을 실현하기 좋은 시기

▶ 길한 방위: ${signElement === '불' ? '남쪽' : signElement === '흙' ? '중앙/남서쪽' : signElement === '공기' ? '동쪽' : '북쪽'}
▶ 행운의 숫자: ${fortune.luckyNumbers?.slice(0, 2).join(', ') || '3, 7'}

※ 조언: 수입이 늘어나면 지출도 늘어납니다. 계획적인 소비를 잊지 마세요.`;
  } else if (score >= 70) {
    return `【${signName} 금전운 - 길(吉)】

${fortune.money}

▶ 2026년 재물 운세:
안정적인 금전 흐름이 이어집니다. 큰 변동 없이 순탄한 한 해가 예상됩니다.

• 정재(正財): 현재 수입이 유지됩니다. 성실하게 일하면 그에 합당한 보상이 있습니다.
• 편재(偏財): 큰 횡재보다 작은 행운들이 이어집니다. 욕심내지 않는 것이 현명합니다.

▶ 재물 관리 조언:
• 저축을 늘리세요 (수입의 20% 이상)
• 불필요한 구독 서비스를 정리하세요
• 월별 예산을 세워 계획적으로 소비하세요

▶ 행운의 숫자: ${fortune.luckyNumbers?.slice(0, 2).join(', ') || '4, 8'}

※ 조언: 작은 절약이 모여 큰 재산이 됩니다.`;
  } else {
    return `【${signName} 금전운 - 평(平)】

${fortune.money}

▶ 2026년 재물 운세:
금전운은 평온한 흐름입니다. 무리한 투자보다 안정을 추구하세요.

• 정재(正財): 수입과 지출의 균형을 맞추세요. 현재 상태를 유지하는 데 집중하세요.
• 편재(偏財): 고위험 투자는 피하고 안전자산 위주로 운용하세요.

▶ 주의 사항:
• 보증이나 대출은 신중하게
• 충동구매를 자제하세요
• 비상금을 확보해 두세요 (3개월 생활비)

▶ 길한 색상: ${fortune.luckyColors?.[0] || '노란색'}

※ 조언: 분수를 알고 만족하면 근심이 없습니다.`;
  }
}

function generateDetailedZodiacHealth(signKey: string, sign: any, fortune: any, score: number): string {
  const signName = sign.name;
  const signElement = sign.element;

  const elementHealthFocus: Record<string, string> = {
    '불': '심장, 혈압, 열 관련 질환에 주의하세요. 화를 다스리는 것이 중요합니다.',
    '흙': '소화기, 피부, 근골격계에 주의하세요. 규칙적인 식사가 중요합니다.',
    '공기': '호흡기, 신경계, 스트레스 관련 질환에 주의하세요. 충분한 휴식이 필요합니다.',
    '물': '비뇨기, 림프, 감정 관련 건강에 주의하세요. 수분 섭취가 중요합니다.',
  };

  if (score >= 80) {
    return `【${signName} 건강운 - 길(吉)】

${fortune.health}

▶ ${signElement} 원소와 건강:
${elementHealthFocus[signElement] || '전반적인 건강 관리가 중요합니다.'}

▶ 2026년 건강 운세:
전반적으로 건강운이 좋습니다. 활력이 넘치고 에너지가 충만한 해입니다.

▶ 계절별 건강 관리:
• 봄(3~5월): 알레르기와 환절기 질환 주의
• 여름(6~8월): 더위와 냉방병 주의
• 가을(9~11월): 건조함과 호흡기 질환 주의
• 겨울(12~2월): 면역력 강화에 집중

▶ 추천 운동:
${signElement === '불' ? '달리기, 댄스, 무술 등 활동적인 운동' : signElement === '흙' ? '등산, 요가, 웨이트 트레이닝' : signElement === '공기' ? '테니스, 배드민턴, 자전거' : '수영, 아쿠아로빅, 명상'}

▶ 행운의 요일: ${fortune.luckyDay || '목요일'}

※ 조언: 건강할 때 더욱 관리하면 오래 건강합니다.`;
  } else {
    return `【${signName} 건강운 - 평(平)】

${fortune.health}

▶ ${signElement} 원소와 건강:
${elementHealthFocus[signElement] || '전반적인 건강 관리가 중요합니다.'}

▶ 2026년 건강 운세:
큰 탈 없이 지나가지만 방심은 금물입니다. 과로와 스트레스 관리에 신경 쓰세요.

▶ 주의할 점:
• 정기 건강검진을 받으세요 (상반기 1회 권장)
• 과음, 흡연을 줄이세요
• 충분한 수면을 취하세요 (7~8시간)
• 규칙적인 식사를 하세요

▶ 추천 건강 습관:
• 주 3회 이상 30분 운동
• 스트레칭으로 몸 풀기
• 명상이나 심호흡으로 마음 안정

※ 조언: 작은 증상도 무시하지 말고 조기에 관리하세요.`;
  }
}

export function generateZodiacFortune(birthDate: string, dayMaster: string = '갑', targetDate: Date = new Date()) {
  const signKey = getZodiacSign(birthDate);
  const sign = ZODIAC_SIGNS[signKey];
  const fortune = ZODIAC_FORTUNES[signKey];

  // 생년월일 기반 해시로 일관된 점수 생성
  const dateHash = birthDate.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const todayHash = targetDate.getDate() + targetDate.getMonth() * 31 + targetDate.getFullYear();
  const combinedHash = dateHash + todayHash;

  const overallScore = 75 + ((combinedHash + 1) % 15);
  const loveScore = 70 + ((combinedHash + 2) % 20);
  const moneyScore = 68 + ((combinedHash + 3) % 22);
  const healthScore = 72 + ((combinedHash + 4) % 18);

  return {
    summary: `${sign.emoji} ${sign.name} (${sign.element} 원소)\n\n${fortune.overall}`,
    score: 75 + (combinedHash % 15),
    categories: [
      {
        emoji: '🌟',
        title: '오늘의 총운',
        content: generateDetailedZodiacOverall(signKey, sign, fortune, overallScore),
        score: overallScore,
        advice: fortune.advice,
      },
      {
        emoji: '❤️',
        title: '애정운',
        content: generateDetailedZodiacLove(signKey, sign, fortune, loveScore),
        score: loveScore,
      },
      {
        emoji: '💰',
        title: '금전운',
        content: generateDetailedZodiacMoney(signKey, sign, fortune, moneyScore),
        score: moneyScore,
      },
      {
        emoji: '🏥',
        title: '건강운',
        content: generateDetailedZodiacHealth(signKey, sign, fortune, healthScore),
        score: healthScore,
      },
    ],
    luckyInfo: getYongsinBasedLuckyInfo(dayMaster),
    monthly: generateDetailedZodiacMonthly(signKey, fortune.monthlyFortune),
  };
}

// 별자리 월별 상세 운세 생성
function generateDetailedZodiacMonthly(signKey: string, monthlyFortune: Record<number, string>): Array<{month: number; content: string; luck: 'good' | 'normal' | 'bad'}> {
  const sign = ZODIAC_SIGNS[signKey];
  const signName = sign.name;
  const signEmoji = sign.emoji;
  const signElement = sign.element;

  // 원소별 좋은 달 결정 (원소 조화 기반)
  // 불(양자리, 사자, 사수): 3,7,11월(불의 달)이 좋음
  // 흙(황소, 처녀, 염소): 4,8,12월이 좋음
  // 공기(쌍둥이, 천칭, 물병): 5,9,1월이 좋음
  // 물(게, 전갈, 물고기): 6,10,2월이 좋음
  const elementLuckyMonths: Record<string, number[]> = {
    '불': [3, 7, 11],
    '흙': [4, 8, 12],
    '공기': [1, 5, 9],
    '물': [2, 6, 10],
  };

  const luckyMonths = elementLuckyMonths[signElement] || [];

  return Object.entries(monthlyFortune).map(([monthStr, content]) => {
    const month = parseInt(monthStr, 10);
    const isLucky = luckyMonths.includes(month);
    const luck: 'good' | 'normal' | 'bad' = isLucky ? 'good' : 'normal';

    const monthNames = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
    const zodiacSeasons: Record<number, string> = {
      1: '새해가 시작되며 물병자리 시즌이 시작됩니다',
      2: '물고기자리 시즌이 시작되어 감성적인 에너지가 높아집니다',
      3: '양자리 시즌이 시작되며 새로운 시작의 에너지가 넘칩니다',
      4: '황소자리 시즌으로 안정과 풍요의 에너지가 흐릅니다',
      5: '쌍둥이자리 시즌이 시작되어 소통과 교류가 활발해집니다',
      6: '게자리 시즌으로 가정과 감정에 집중하게 됩니다',
      7: '사자자리 시즌이 시작되어 창의력과 자기표현이 빛납니다',
      8: '처녀자리 시즌으로 분석력과 실용성이 강화됩니다',
      9: '천칭자리 시즌이 시작되어 균형과 조화를 추구하게 됩니다',
      10: '전갈자리 시즌으로 깊은 변화와 재생의 에너지가 있습니다',
      11: '사수자리 시즌이 시작되어 탐험과 학습 욕구가 커집니다',
      12: '염소자리 시즌으로 목표와 성취에 집중하게 됩니다',
    };

    const detailedContent = `【${monthNames[month - 1]} 운세 - ${signEmoji} ${signName}】

${zodiacSeasons[month]}

${content}

• 사업/직장운: ${isLucky ? `${signElement} 원소의 조화로 사업운이 상승합니다. 중요한 프로젝트나 협상에 좋은 시기입니다. 창의적인 아이디어가 인정받을 수 있습니다.` : '안정적인 업무 흐름을 유지하세요. 급격한 변화보다는 현재 업무에 충실하는 것이 좋습니다.'}

• 재물운: ${isLucky ? '투자나 재테크에 좋은 시기입니다. 새로운 수입원이 생기거나 보너스가 기대됩니다.' : '수입과 지출의 균형을 맞추세요. 계획적인 소비가 필요합니다.'}

• 인간관계: ${isLucky ? '귀인을 만날 수 있습니다. 인맥 확장에 좋으며, 중요한 인연이 찾아올 수 있습니다.' : '기존 관계를 돈독히 하세요. 새로운 만남보다 현재 관계에 집중하세요.'}

• 건강운: ${signElement === '불' ? '열정은 좋지만 과로에 주의하세요. 충분한 휴식이 필요합니다.' :
  signElement === '흙' ? '규칙적인 생활이 건강의 비결입니다. 산책이나 요가가 도움됩니다.' :
  signElement === '공기' ? '스트레스 관리에 신경 쓰세요. 명상이나 호흡 운동이 도움됩니다.' :
  '감정 관리가 건강에 영향을 줍니다. 물을 충분히 마시고 수영이나 목욕이 좋습니다.'}

• 조언: ${isLucky ? `${signElement} 원소의 기운이 당신을 돕습니다. 적극적으로 도전하세요!` : '내면의 힘을 기르는 시간으로 삼으세요.'}`;

    return { month, content: detailedContent, luck };
  });
}

// ============================================
// 꿈풀이 (전통 해몽서/주공해몽 기반)
// ============================================

interface DreamItem {
  name: string;
  meaning: string;
  luck: 'good' | 'normal' | 'bad';
}

interface DreamCategory {
  emoji: string;
  title: string;
  items: DreamItem[];
}

export function generateDreamFortune(dayMaster: string = '갑') {
  const dreamCategories: DreamCategory[] = [
    {
      emoji: '🐉',
      title: '동물 꿈',
      items: [
        { name: '용꿈', meaning: '큰 행운과 성공을 상징합니다. 승진, 합격, 당첨 등 좋은 소식이 있을 수 있습니다. 용이 하늘로 오르면 대성할 징조이고, 용이 물에서 나오면 기회가 찾아옵니다.', luck: 'good' },
        { name: '뱀꿈', meaning: '재물운을 상징합니다. 특히 큰 뱀은 큰 재물을, 뱀이 집에 들어오면 재물이 들어옴을 의미합니다. 흰 뱀은 특히 길하며 횡재수가 있습니다.', luck: 'good' },
        { name: '돼지꿈', meaning: '재물과 복을 상징합니다. 돼지가 크고 살쪘을수록 더 큰 재물을 의미합니다. 돼지 떼는 풍요를, 새끼 돼지는 소소한 행복을 뜻합니다.', luck: 'good' },
        { name: '개꿈', meaning: '충성과 우정을 상징합니다. 개가 짖으면 주변의 경고를, 개가 꼬리치면 좋은 소식을 의미합니다. 검은 개는 수호를, 흰 개는 순수한 인연을 뜻합니다.', luck: 'normal' },
        { name: '호랑이꿈', meaning: '권위와 힘을 상징합니다. 호랑이를 타면 승진이나 성공을, 호랑이에게 쫓기면 어려움이 있을 수 있습니다. 흰 호랑이는 신성한 보호를 의미합니다.', luck: 'good' },
        { name: '쥐꿈', meaning: '다산과 부지런함을 상징합니다. 쥐가 곡식을 물어가면 재물이 모이고, 쥐가 도망가면 작은 손해가 있을 수 있습니다.', luck: 'normal' },
        { name: '소꿈', meaning: '근면과 재물을 상징합니다. 소가 밭을 갈면 노력이 결실을 맺고, 소가 집에 들어오면 재물이 들어옵니다. 누런 소는 특히 길합니다.', luck: 'good' },
        { name: '말꿈', meaning: '성공과 명예를 상징합니다. 말을 타고 달리면 출세하고, 흰 말은 귀인을 만날 징조입니다. 말이 우는 것은 기쁜 소식을 뜻합니다.', luck: 'good' },
        { name: '토끼꿈', meaning: '다산과 행운을 상징합니다. 흰 토끼는 특히 길하며 좋은 인연을 만날 수 있습니다. 토끼가 뛰어다니면 활기찬 시기가 옵니다.', luck: 'good' },
        { name: '고양이꿈', meaning: '직관과 신비를 상징합니다. 검은 고양이는 오해와 달리 행운을 가져올 수 있습니다. 고양이가 다가오면 숨겨진 진실이 드러납니다.', luck: 'normal' },
        { name: '잉어꿈', meaning: '출세와 등용을 상징합니다. 잉어가 뛰어오르면 합격이나 승진을, 금색 잉어는 큰 재물을 뜻합니다. 잉어가 용으로 변하면 대성합니다.', luck: 'good' },
        { name: '닭꿈', meaning: '새벽과 시작을 상징합니다. 닭이 울면 좋은 소식이 오고, 수탉은 명예를, 암탉은 다산을 의미합니다.', luck: 'good' },
        { name: '학꿈', meaning: '장수와 귀함을 상징합니다. 학이 날아오르면 승진이나 합격을, 학이 춤추면 경사가 있습니다. 흰 학은 특히 대길합니다.', luck: 'good' },
        { name: '거북이꿈', meaning: '장수와 안정을 상징합니다. 거북이가 나타나면 건강과 장수를 약속하고, 거북이 등에 타면 안전한 보호를 받습니다.', luck: 'good' },
        { name: '나비꿈', meaning: '변화와 아름다움을 상징합니다. 화려한 나비는 기쁜 소식을, 나비 떼는 인연이 찾아옴을 의미합니다.', luck: 'good' },
        { name: '독수리꿈', meaning: '권력과 성공을 상징합니다. 독수리가 하늘 높이 날면 큰 뜻을 이루고, 독수리가 먹이를 잡으면 기회를 얻습니다.', luck: 'good' },
        { name: '까마귀꿈', meaning: '경고와 변화를 상징합니다. 까마귀가 울면 주의가 필요하고, 까마귀 떼는 큰 변화를 예고합니다. 하지만 까마귀가 떠나면 어려움이 지나갑니다.', luck: 'normal' },
        { name: '벌꿈', meaning: '근면과 협동을 상징합니다. 꿀벌은 재물을, 벌집은 가정의 화목을 의미합니다. 벌에 쏘이면 작은 시련 후 좋은 결과가 있습니다.', luck: 'good' },
        { name: '봉황꿈', meaning: '최고의 길몽입니다. 봉황이 나타나면 큰 행운과 성공이, 봉황이 집에 내려앉으면 집안에 경사가 생깁니다. 봉황알을 얻으면 귀한 자녀를 얻습니다.', luck: 'good' },
        { name: '기린꿈', meaning: '상서로운 징조입니다. 기린이 나타나면 현명한 인물을 만나거나, 귀한 자녀를 얻는 태몽일 수 있습니다. 기린을 타면 높은 지위에 오릅니다.', luck: 'good' },
        { name: '사슴꿈', meaning: '장수와 복록을 상징합니다. 사슴이 다가오면 좋은 인연이, 사슴 뿔은 승진을 의미합니다. 사슴 무리는 가문의 번영을 뜻합니다.', luck: 'good' },
        { name: '코끼리꿈', meaning: '힘과 지혜를 상징합니다. 코끼리를 타면 권력을 얻고, 흰 코끼리는 특히 길하여 큰 행운을 뜻합니다. 코끼리 떼는 재물이 모입니다.', luck: 'good' },
        { name: '사자꿈', meaning: '권위와 용기를 상징합니다. 사자가 포효하면 위엄을 얻고, 사자를 제압하면 경쟁에서 승리합니다. 사자가 보호하면 귀인의 도움이 있습니다.', luck: 'good' },
        { name: '곰꿈', meaning: '힘과 모성을 상징합니다. 곰이 나타나면 강한 보호자를, 새끼 곰은 자녀복을 의미합니다. 곰에게 쫓기면 두려움을 극복해야 합니다.', luck: 'normal' },
        { name: '여우꿈', meaning: '지혜와 속임을 상징합니다. 여우를 잡으면 속이는 자를 물리치고, 여우가 도망가면 거짓이 드러납니다. 흰 여우는 영험한 존재입니다.', luck: 'normal' },
        { name: '늑대꿈', meaning: '본능과 야성을 상징합니다. 늑대와 싸워 이기면 경쟁에서 승리하고, 늑대 무리는 팀워크를 의미합니다. 외로운 늑대는 독립을 뜻합니다.', luck: 'normal' },
        { name: '원숭이꿈', meaning: '영리함과 장난을 상징합니다. 원숭이가 재주를 부리면 지혜로운 해결책이, 원숭이가 따르면 재능 있는 사람을 만납니다.', luck: 'normal' },
        { name: '양꿈', meaning: '순수와 평화를 상징합니다. 양 떼는 풍요를, 새끼 양은 새로운 시작을 의미합니다. 양을 치면 사람들을 이끄는 역할을 맡습니다.', luck: 'good' },
        { name: '염소꿈', meaning: '끈기와 독립을 상징합니다. 염소가 산을 오르면 어려운 목표를 달성하고, 염소젖은 양육과 풍요를 뜻합니다.', luck: 'good' },
        { name: '두꺼비꿈', meaning: '재물을 가져오는 길몽입니다. 두꺼비가 집에 들어오면 돈이 들어오고, 금색 두꺼비는 횡재를 뜻합니다. 두꺼비를 잡으면 재물을 얻습니다.', luck: 'good' },
        { name: '개구리꿈', meaning: '변화와 풍요를 상징합니다. 개구리가 뛰면 도약의 시기가, 개구리 소리는 좋은 소식을 알립니다. 청개구리는 반전을 의미합니다.', luck: 'good' },
        { name: '악어꿈', meaning: '잠재된 위험을 상징합니다. 악어를 피하면 위기를 모면하고, 악어를 잡으면 위험을 극복합니다. 악어가 잠자면 위험이 지나갑니다.', luck: 'normal' },
        { name: '상어꿈', meaning: '공포와 위협을 상징합니다. 상어에게서 도망치면 위기를 벗어나고, 상어를 잡으면 두려움을 극복합니다. 상어가 멀리 있으면 위험이 사라집니다.', luck: 'normal' },
        { name: '돌고래꿈', meaning: '지능과 즐거움을 상징합니다. 돌고래와 놀면 즐거운 일이, 돌고래가 돕는 꿈은 귀인이 나타남을 뜻합니다. 돌고래 떼는 화목한 관계입니다.', luck: 'good' },
        { name: '고래꿈', meaning: '큰 행운을 상징합니다. 고래가 뛰어오르면 대성할 징조이고, 고래를 타면 큰 부를 얻습니다. 고래를 보기만 해도 행운이 따릅니다.', luck: 'good' },
        { name: '오리꿈', meaning: '부부애와 금실을 상징합니다. 원앙처럼 쌍으로 나타나면 좋은 인연이, 오리 새끼는 자녀복을 뜻합니다. 오리가 헤엄치면 순조롭습니다.', luck: 'good' },
        { name: '거위꿈', meaning: '충성과 가정을 상징합니다. 거위가 울면 경사소식이, 거위 떼는 화목한 가족을 의미합니다. 거위를 기르면 재물이 모입니다.', luck: 'good' },
        { name: '백조꿈', meaning: '우아함과 순수를 상징합니다. 백조가 헤엄치면 평화로운 시기가, 백조가 날면 높은 이상을 향합니다. 백조 쌍은 영원한 사랑입니다.', luck: 'good' },
        { name: '까치꿈', meaning: '기쁜 소식을 전합니다. 까치가 울면 반가운 손님이, 까치가 집에 날아오면 경사가 생깁니다. 까치집은 가정의 안녕을 뜻합니다.', luck: 'good' },
        { name: '참새꿈', meaning: '소소한 행복을 상징합니다. 참새가 지저귀면 작은 기쁨이, 참새 떼는 친구들과의 모임을 뜻합니다. 참새를 먹이면 덕을 쌓습니다.', luck: 'good' },
        { name: '제비꿈', meaning: '봄과 희망을 상징합니다. 제비가 집을 지으면 가정에 경사가, 제비가 날면 좋은 소식이 옵니다. 제비 새끼는 자녀복입니다.', luck: 'good' },
        { name: '비둘기꿈', meaning: '평화와 사랑을 상징합니다. 흰 비둘기는 행복을, 비둘기 쌍은 인연을 뜻합니다. 비둘기가 날면 화해와 평화가 찾아옵니다.', luck: 'good' },
        { name: '공작꿈', meaning: '아름다움과 자부심을 상징합니다. 공작이 날개를 펴면 인정받고, 공작 깃털은 명예를 뜻합니다. 공작이 춤추면 경사가 있습니다.', luck: 'good' },
        { name: '앵무새꿈', meaning: '소통과 모방을 상징합니다. 앵무새가 말하면 중요한 메시지가, 앵무새를 기르면 좋은 친구를 뜻합니다. 앵무새가 따르면 인기를 얻습니다.', luck: 'normal' },
        { name: '올빼미꿈', meaning: '지혜와 통찰을 상징합니다. 올빼미가 나타나면 숨겨진 진실이, 올빼미 눈은 미래를 꿰뚫는 통찰력을 뜻합니다. 올빼미 소리는 경고입니다.', luck: 'normal' },
        { name: '매꿈', meaning: '날카로움과 목표의식을 상징합니다. 매가 날면 높은 목표를 향하고, 매가 먹이를 잡으면 성공합니다. 매를 길들이면 재능을 발휘합니다.', luck: 'good' },
        { name: '두루미꿈', meaning: '장수와 고귀함을 상징합니다. 두루미가 날면 승진이, 두루미 쌍은 부부 화목을 뜻합니다. 두루미가 춤추면 경사가 생깁니다.', luck: 'good' },
        { name: '지렁이꿈', meaning: '재생과 풍요를 상징합니다. 지렁이가 많으면 땅의 기운이 좋고 재물운이 상승합니다. 지렁이를 보면 기초가 튼튼해집니다.', luck: 'good' },
        { name: '거미꿈', meaning: '창조와 운명을 상징합니다. 거미줄은 관계망을, 거미가 줄을 타면 기회를 잡음을 뜻합니다. 거미에게 물리면 소인배를 조심하세요.', luck: 'normal' },
        { name: '개미꿈', meaning: '근면과 협동을 상징합니다. 개미 떼는 부지런한 노력으로 성공을, 개미집은 조직을 뜻합니다. 개미를 밟으면 작은 실수에 주의하세요.', luck: 'good' },
        { name: '메뚜기꿈', meaning: '도약과 성장을 상징합니다. 메뚜기가 뛰면 상승의 기회가, 메뚜기 떼는 많은 기회를 뜻합니다. 메뚜기를 잡으면 기회를 얻습니다.', luck: 'good' },
        { name: '잠자리꿈', meaning: '변화와 가벼움을 상징합니다. 잠자리가 날면 가벼운 마음으로 변화를, 잠자리 떼는 즐거운 시간을 뜻합니다.', luck: 'good' },
        { name: '반딧불꿈', meaning: '희망과 인도를 상징합니다. 반딧불이 빛나면 어둠 속 희망이, 반딧불 떼는 많은 도움을 뜻합니다. 반딧불을 잡으면 깨달음을 얻습니다.', luck: 'good' },
        { name: '무당벌레꿈', meaning: '행운과 보호를 상징합니다. 무당벌레가 앉으면 행운이, 무당벌레가 날면 행운이 찾아옵니다. 무당벌레를 보면 걱정이 사라집니다.', luck: 'good' },
      ],
    },
    {
      emoji: '💧',
      title: '자연 꿈',
      items: [
        { name: '물꿈', meaning: '맑은 물은 행운을, 탁한 물은 어려움을 상징합니다. 물이 넘치면 풍요를, 마르면 어려운 시기를 뜻합니다. 물을 마시면 지혜를 얻습니다.', luck: 'normal' },
        { name: '불꿈', meaning: '정열과 변화를 상징합니다. 불에 타는 꿈은 걱정 해소를 의미합니다. 밝게 타오르는 불은 성공을, 활활 타는 집은 새출발을 뜻합니다.', luck: 'good' },
        { name: '산꿈', meaning: '높은 산을 오르면 성공을, 내려오면 안정을 의미합니다. 산 정상에 서면 큰 뜻을 이루고, 푸른 산은 건강과 장수를 뜻합니다.', luck: 'good' },
        { name: '바다꿈', meaning: '무한한 가능성을 상징합니다. 잔잔한 바다는 평화를, 파도가 높으면 변화가 클 수 있습니다. 바다에서 해가 떠오르면 대길합니다.', luck: 'good' },
        { name: '하늘꿈', meaning: '맑은 하늘은 행운을, 구름 낀 하늘은 고민을 의미합니다. 하늘을 나는 꿈은 자유와 성공을, 별이 빛나는 밤하늘은 희망을 뜻합니다.', luck: 'good' },
        { name: '비꿈', meaning: '시련 후 좋은 결과를 상징합니다. 비 개인 후 무지개는 대길합니다. 소나기는 짧은 어려움을, 장마비는 인내가 필요함을 뜻합니다.', luck: 'normal' },
        { name: '눈꿈', meaning: '순수와 정화를 상징합니다. 하얀 눈이 내리면 새로운 시작을, 눈밭을 걷으면 어려움 속에서도 희망이 있음을 의미합니다.', luck: 'good' },
        { name: '번개꿈', meaning: '통찰과 계시를 상징합니다. 번개가 치면 갑작스러운 깨달음이나 기회가 옵니다. 번개에 맞으면 큰 변화가 찾아옵니다.', luck: 'normal' },
        { name: '무지개꿈', meaning: '희망과 행운을 상징합니다. 무지개를 보면 소원이 이루어지고, 무지개 다리를 건너면 새로운 세계로 나아갑니다.', luck: 'good' },
        { name: '태양꿈', meaning: '성공과 영광을 상징합니다. 해가 떠오르면 희망찬 시작을, 빛나는 태양은 명예를 얻음을 뜻합니다. 해를 삼키면 귀한 자녀를 얻습니다.', luck: 'good' },
        { name: '달꿈', meaning: '여성성과 직관을 상징합니다. 보름달은 풍요와 완성을, 초승달은 새로운 시작을 의미합니다. 달을 삼키면 귀한 딸을 얻습니다.', luck: 'good' },
        { name: '별꿈', meaning: '희망과 안내를 상징합니다. 별이 빛나면 목표를 향해 나아가고, 유성을 보면 소원이 이루어집니다. 북극성은 귀인을 뜻합니다.', luck: 'good' },
        { name: '구름꿈', meaning: '변화와 불확실함을 상징합니다. 흰 구름은 행운을, 검은 구름은 일시적 어려움을 의미합니다. 구름 위를 걷으면 높은 경지에 오릅니다.', luck: 'normal' },
        { name: '바람꿈', meaning: '변화와 자유를 상징합니다. 순풍은 일이 잘 풀림을, 강풍은 큰 변화를 뜻합니다. 바람에 날리면 새로운 방향으로 나아갑니다.', luck: 'normal' },
        { name: '지진꿈', meaning: '근본적인 변화를 상징합니다. 지진이 나면 삶의 기반이 흔들리지만, 무너지지 않으면 더 강해집니다.', luck: 'normal' },
        { name: '강/하천꿈', meaning: '인생의 흐름을 상징합니다. 맑은 강물은 순탄한 삶을, 강을 건너면 새로운 단계로 넘어감을 의미합니다.', luck: 'good' },
        { name: '폭포꿈', meaning: '에너지와 정화를 상징합니다. 폭포를 보면 활력을 얻고, 폭포 아래 서면 스트레스가 씻겨나갑니다.', luck: 'good' },
        { name: '꽃밭꿈', meaning: '행복과 번영을 상징합니다. 꽃밭에서 노닐면 즐거운 일이 생기고, 꽃을 꺾으면 기회를 잡습니다.', luck: 'good' },
        { name: '숲꿈', meaning: '성장과 자아탐색을 상징합니다. 울창한 숲은 잠재력을, 숲에서 길을 찾으면 자아발견을 의미합니다.', luck: 'good' },
        { name: '호수꿈', meaning: '내면의 평화를 상징합니다. 맑은 호수는 마음의 안정을, 호수에 비친 모습은 자아성찰을 뜻합니다. 호수에서 수영하면 감정이 정화됩니다.', luck: 'good' },
        { name: '섬꿈', meaning: '고독과 독립을 상징합니다. 섬에 혼자 있으면 자아탐색이, 섬에서 탈출하면 사회로 복귀를 뜻합니다. 아름다운 섬은 휴식이 필요함을 의미합니다.', luck: 'normal' },
        { name: '사막꿈', meaning: '시련과 인내를 상징합니다. 사막을 건너면 어려움을 극복하고, 오아시스를 발견하면 희망이 찾아옵니다. 사막의 신기루는 헛된 기대를 경고합니다.', luck: 'normal' },
        { name: '화산꿈', meaning: '억압된 감정을 상징합니다. 화산이 폭발하면 감정이 분출되고, 용암은 창조적 에너지를 뜻합니다. 화산이 잠잠하면 평화가 유지됩니다.', luck: 'normal' },
        { name: '동굴꿈', meaning: '무의식과 탐험을 상징합니다. 동굴에 들어가면 내면을 탐색하고, 동굴에서 나오면 깨달음을 얻습니다. 어두운 동굴은 두려움을 뜻합니다.', luck: 'normal' },
        { name: '들판꿈', meaning: '자유와 가능성을 상징합니다. 넓은 들판은 무한한 기회를, 꽃이 핀 들판은 행복한 시기를 뜻합니다. 황금빛 들판은 풍요를 의미합니다.', luck: 'good' },
        { name: '정원꿈', meaning: '가꿈과 성장을 상징합니다. 아름다운 정원은 노력의 결실을, 정원을 가꾸면 관계를 돌봄을 뜻합니다. 정원에서 쉬면 평화를 얻습니다.', luck: 'good' },
        { name: '나무꿈', meaning: '성장과 생명력을 상징합니다. 큰 나무는 안정을, 나무에 오르면 상승을 뜻합니다. 열매 맺은 나무는 성공을, 마른 나무는 재충전이 필요함을 의미합니다.', luck: 'good' },
        { name: '풀/잔디꿈', meaning: '일상의 평화를 상징합니다. 푸른 잔디는 건강을, 잔디밭에 누우면 휴식이 필요함을 뜻합니다. 잡초는 사소한 문제를 의미합니다.', luck: 'good' },
        { name: '바위/돌꿈', meaning: '견고함과 장애를 상징합니다. 바위에 오르면 어려움을 극복하고, 바위가 막으면 장애물이 있습니다. 보석을 품은 바위는 숨겨진 가치입니다.', luck: 'normal' },
        { name: '모래꿈', meaning: '시간과 무상함을 상징합니다. 모래시계는 시간의 흐름을, 모래성은 일시적인 것을 뜻합니다. 금빛 모래는 재물을 의미합니다.', luck: 'normal' },
        { name: '우박꿈', meaning: '갑작스러운 시련을 상징합니다. 우박이 내리면 일시적 어려움이, 우박이 그치면 문제가 해결됩니다. 우박 피해는 손실을 경고합니다.', luck: 'bad' },
        { name: '천둥꿈', meaning: '경고와 각성을 상징합니다. 천둥소리는 중요한 메시지가, 천둥 후 비는 정화를 뜻합니다. 천둥이 가까우면 급한 일이 생깁니다.', luck: 'normal' },
        { name: '안개꿈', meaning: '불확실함과 혼란을 상징합니다. 안개가 끼면 앞길이 불투명하고, 안개가 걷히면 상황이 명확해집니다. 안개 속을 걷으면 신중함이 필요합니다.', luck: 'normal' },
        { name: '서리꿈', meaning: '냉정함과 정지를 상징합니다. 서리가 내리면 일시 정지가, 서리가 녹으면 재개를 뜻합니다. 서릿발은 날카로운 판단을 의미합니다.', luck: 'normal' },
        { name: '이슬꿈', meaning: '순수와 시작을 상징합니다. 아침 이슬은 새로운 시작을, 이슬을 마시면 지혜를 얻습니다. 이슬방울은 작지만 소중한 것을 뜻합니다.', luck: 'good' },
        { name: '늪꿈', meaning: '정체와 어려움을 상징합니다. 늪에 빠지면 곤란한 상황이, 늪에서 빠져나오면 어려움을 극복합니다. 늪을 피하면 위험을 모면합니다.', luck: 'bad' },
        { name: '절벽꿈', meaning: '위기와 결단을 상징합니다. 절벽 끝에 서면 중요한 결정이, 절벽에서 떨어지면 두려움을 뜻합니다. 절벽을 오르면 도전을 의미합니다.', luck: 'normal' },
        { name: '계곡꿈', meaning: '과도기와 여정을 상징합니다. 계곡을 지나면 어려운 시기를 통과하고, 계곡물은 감정의 흐름을 뜻합니다. 아름다운 계곡은 휴식이 필요합니다.', luck: 'normal' },
        { name: '빙하꿈', meaning: '감정의 동결을 상징합니다. 빙하 위를 걷으면 냉정한 판단이, 빙하가 녹으면 감정이 풀림을 뜻합니다. 빙하 속 동굴은 숨겨진 감정입니다.', luck: 'normal' },
        { name: '오로라꿈', meaning: '신비와 희망을 상징합니다. 오로라를 보면 특별한 행운이, 오로라 아래 서면 영적 체험을 뜻합니다. 다채로운 오로라는 다양한 기회입니다.', luck: 'good' },
      ],
    },
    {
      emoji: '👨‍👩‍👧‍👦',
      title: '사람 꿈',
      items: [
        { name: '돌아가신 분 꿈', meaning: '조상의 보호를 상징합니다. 좋은 모습이면 길조이고, 음식을 주시면 복을 주십니다. 말씀을 하시면 그 내용에 귀 기울이세요.', luck: 'good' },
        { name: '아기 꿈', meaning: '새로운 시작과 희망을 상징합니다. 태몽일 수도 있습니다. 아기가 웃으면 기쁜 소식이, 아기를 안으면 새로운 일이 시작됩니다.', luck: 'good' },
        { name: '연인 꿈', meaning: '관계의 발전을 상징합니다. 다투는 꿈은 오히려 화해를, 함께 걷는 꿈은 관계의 진전을 의미합니다.', luck: 'normal' },
        { name: '낯선 사람 꿈', meaning: '새로운 인연을 상징합니다. 친절한 낯선 사람은 귀인을, 무서운 낯선 사람은 내면의 두려움을 반영합니다.', luck: 'normal' },
        { name: '유명인 꿈', meaning: '그 사람의 특성을 닮고 싶은 욕구를 의미합니다. 함께하면 그 특성을 얻고, 악수하면 인정받습니다.', luck: 'good' },
        { name: '친구 꿈', meaning: '그 친구와의 관계나 자신의 일부를 반영합니다. 친구가 웃으면 좋은 인연이, 도움을 주면 협력이 있습니다.', luck: 'normal' },
        { name: '부모님 꿈', meaning: '보호와 안내를 상징합니다. 부모님이 웃으시면 가정에 경사가, 걱정하시면 건강에 주의하세요.', luck: 'good' },
        { name: '선생님 꿈', meaning: '가르침과 성장을 상징합니다. 선생님께 칭찬받으면 인정받고, 꾸중듣으면 개선이 필요합니다.', luck: 'normal' },
        { name: '의사 꿈', meaning: '치유와 건강을 상징합니다. 의사를 만나면 건강을 점검하고, 치료받으면 문제가 해결됩니다.', luck: 'normal' },
        { name: '경찰 꿈', meaning: '질서와 정의를 상징합니다. 경찰이 보호해주면 안전하고, 잡히면 양심의 가책을 반영합니다.', luck: 'normal' },
        { name: '왕/여왕 꿈', meaning: '권위와 존경을 상징합니다. 왕을 만나면 귀인을 만나고, 왕이 되면 리더십을 발휘합니다.', luck: 'good' },
        { name: '천사 꿈', meaning: '보호와 축복을 상징합니다. 천사가 나타나면 어려움이 해결되고, 천사의 노래를 들으면 평화가 찾아옵니다.', luck: 'good' },
        { name: '어린 시절의 나 꿈', meaning: '순수한 마음과 근원을 상징합니다. 어린 나와 놀면 내면의 치유가, 대화하면 중요한 깨달음이 있습니다.', luck: 'good' },
        { name: '임신/출산 꿈', meaning: '창조와 새로운 시작을 상징합니다. 실제 임신일 수도, 새 프로젝트나 아이디어의 탄생일 수도 있습니다.', luck: 'good' },
        { name: '결혼식 꿈', meaning: '결합과 약속을 상징합니다. 자신의 결혼식은 새로운 시작을, 타인의 결혼식은 경사를 의미합니다.', luck: 'good' },
        { name: '장례식 꿈', meaning: '끝과 새로운 시작을 상징합니다. 누군가의 장례식은 그 관계의 변화를, 자신의 장례식은 재탄생을 의미합니다.', luck: 'normal' },
        { name: '형제자매 꿈', meaning: '경쟁과 유대를 상징합니다. 형제와 화목하면 협력이, 다투면 내면의 갈등을 반영합니다. 형제가 성공하면 자신도 좋아집니다.', luck: 'normal' },
        { name: '조부모님 꿈', meaning: '지혜와 전통을 상징합니다. 조부모님이 편안하시면 가문의 안녕을, 말씀하시면 중요한 조언을 뜻합니다.', luck: 'good' },
        { name: '자녀 꿈', meaning: '미래와 희망을 상징합니다. 자녀가 건강하면 가정의 행복을, 자녀가 성공하면 기대가 이루어집니다. 걱정되는 꿈은 보호 본능입니다.', luck: 'good' },
        { name: '배우자/남편/아내 꿈', meaning: '동반자 관계를 상징합니다. 행복하면 관계가 좋고, 다투면 소통이 필요합니다. 함께 여행하면 동행이 좋습니다.', luck: 'normal' },
        { name: '상사/보스 꿈', meaning: '권위와 인정을 상징합니다. 상사에게 칭찬받으면 승진이, 꾸중듣으면 노력이 필요합니다. 상사가 되면 책임이 커집니다.', luck: 'normal' },
        { name: '동료 꿈', meaning: '협력과 경쟁을 상징합니다. 동료와 협력하면 팀워크가, 경쟁하면 성장의 기회입니다. 동료가 떠나면 변화가 옵니다.', luck: 'normal' },
        { name: '스님/목사/신부 꿈', meaning: '영적 안내를 상징합니다. 종교인을 만나면 마음의 평화를, 설법을 들으면 깨달음을 얻습니다. 축복받으면 길조입니다.', luck: 'good' },
        { name: '노인 꿈', meaning: '지혜와 경험을 상징합니다. 노인이 조언하면 귀담아듣고, 노인이 웃으면 장수를 뜻합니다. 흰 수염 노인은 귀인입니다.', luck: 'good' },
        { name: '군인 꿈', meaning: '규율과 보호를 상징합니다. 군인이 보호하면 안전하고, 군인이 되면 책임감이 필요합니다. 군대는 훈련과 성장을 뜻합니다.', luck: 'normal' },
        { name: '소방관 꿈', meaning: '구조와 용기를 상징합니다. 소방관에게 구조되면 위기를 모면하고, 불을 끄면 문제가 해결됩니다.', luck: 'good' },
        { name: '요리사 꿈', meaning: '창조와 양육을 상징합니다. 요리사가 음식을 주면 풍요를, 맛있는 음식은 행복을 뜻합니다.', luck: 'good' },
        { name: '예술가 꿈', meaning: '창의성과 표현을 상징합니다. 예술가를 만나면 영감을, 자신이 예술가가 되면 재능 발휘를 뜻합니다.', luck: 'good' },
        { name: '운동선수 꿈', meaning: '경쟁과 승리를 상징합니다. 선수가 이기면 목표 달성을, 함께 경기하면 도전을 뜻합니다.', luck: 'good' },
        { name: '변호사 꿈', meaning: '정의와 보호를 상징합니다. 변호를 받으면 지지를, 재판에서 이기면 승리를 뜻합니다.', luck: 'good' },
        { name: '간호사 꿈', meaning: '돌봄과 회복을 상징합니다. 간호받으면 치유가, 간호사가 되면 남을 돕는 역할을 뜻합니다.', luck: 'good' },
        { name: '쌍둥이 꿈', meaning: '이중성과 선택을 상징합니다. 쌍둥이를 보면 두 가지 선택지가, 쌍둥이를 낳으면 복이 두 배입니다.', luck: 'good' },
        { name: '유령/귀신 꿈', meaning: '과거와 미해결 문제를 상징합니다. 무섭지 않으면 조상의 보호를, 무서우면 해결해야 할 문제가 있습니다.', luck: 'normal' },
        { name: '도깨비 꿈', meaning: '장난과 행운을 상징합니다. 도깨비와 친해지면 횡재가, 도깨비방망이를 얻으면 소원이 이루어집니다.', luck: 'good' },
        { name: '신선/선녀 꿈', meaning: '초월과 축복을 상징합니다. 신선을 만나면 큰 행운이, 선녀가 내려오면 귀한 인연을 뜻합니다.', luck: 'good' },
      ],
    },
    {
      emoji: '🎁',
      title: '행운 상징 꿈',
      items: [
        { name: '금/보석 꿈', meaning: '재물운 상승을 상징합니다. 금을 줍거나 받으면 횡재가, 보석을 발견하면 숨겨진 가치를 찾습니다. 금관을 쓰면 큰 명예를 얻습니다.', luck: 'good' },
        { name: '꽃꿈', meaning: '기쁜 소식과 행복을 상징합니다. 꽃다발을 받으면 좋은 일이, 꽃을 심으면 새로운 시작이 있습니다. 만개한 꽃은 성공을 뜻합니다.', luck: 'good' },
        { name: '과일 꿈', meaning: '풍요와 수확을 상징합니다. 익은 과일은 성공을, 과일을 따면 목표 달성을 의미합니다. 특히 복숭아와 석류는 대길합니다.', luck: 'good' },
        { name: '시험 합격 꿈', meaning: '실제로 좋은 결과를 얻을 징조입니다. 합격증을 받으면 인정받고, 축하받으면 성취감을 느낍니다.', luck: 'good' },
        { name: '결혼 꿈', meaning: '싱글은 인연을, 기혼은 화목을 상징합니다. 아름다운 결혼식은 행복한 변화를, 반지를 끼면 약속이 이루어집니다.', luck: 'good' },
        { name: '승진/성공 꿈', meaning: '실제 성취를 예고하는 길몽입니다. 높은 곳에 오르거나 상을 받으면 실제로 인정받습니다.', luck: 'good' },
        { name: '돈 꿈', meaning: '재물과 가치를 상징합니다. 돈을 받으면 이익이, 돈을 세면 재물이 모입니다. 지폐보다 동전이 더 확실한 재물을 뜻합니다.', luck: 'good' },
        { name: '복권 당첨 꿈', meaning: '뜻밖의 행운을 상징합니다. 복권에 당첨되면 예상치 못한 좋은 일이, 번호가 보이면 그 숫자를 기억하세요.', luck: 'good' },
        { name: '선물 꿈', meaning: '사랑과 축복을 상징합니다. 선물을 받으면 예상치 못한 기쁨이, 선물을 주면 베푼 만큼 돌아옵니다.', luck: 'good' },
        { name: '밥/음식 꿈', meaning: '풍요와 행복을 상징합니다. 맛있는 음식을 먹으면 만족스러운 일이, 상을 차리면 경사가 있습니다.', luck: 'good' },
        { name: '새 집 꿈', meaning: '새로운 시작과 안정을 상징합니다. 새 집으로 이사하면 상황이 좋아지고, 넓은 집은 넉넉한 삶을 뜻합니다.', luck: 'good' },
        { name: '새 차 꿈', meaning: '발전과 이동을 상징합니다. 새 차를 타면 일이 잘 풀리고, 빠른 차는 빠른 성공을 의미합니다.', luck: 'good' },
        { name: '날개 꿈', meaning: '자유와 상승을 상징합니다. 날개가 생겨 날면 한계를 극복하고, 높이 날수록 더 큰 성취를 이룹니다.', luck: 'good' },
        { name: '보물 꿈', meaning: '숨겨진 가치를 상징합니다. 보물을 발견하면 자신의 잠재력을, 보물상자를 열면 기회를 잡습니다.', luck: 'good' },
        { name: '등불/빛 꿈', meaning: '깨달음과 희망을 상징합니다. 밝은 빛은 앞길이 밝음을, 촛불은 소원 성취를 의미합니다.', luck: 'good' },
        { name: '무지개 꿈', meaning: '희망과 화해를 상징합니다. 무지개를 보면 어려움이 지나가고, 쌍무지개는 두 배의 행운입니다.', luck: 'good' },
        { name: '별 꿈', meaning: '소원과 운명을 상징합니다. 별이 떨어지면 소원이 이루어지고, 밝은 별은 목표를 향한 안내자입니다.', luck: 'good' },
        { name: '진주 꿈', meaning: '지혜와 순수함을 상징합니다. 진주를 얻으면 귀한 인연이, 진주 목걸이는 명예와 품위를 뜻합니다.', luck: 'good' },
        { name: '다이아몬드 꿈', meaning: '영원과 변치 않는 가치를 상징합니다. 다이아몬드를 받으면 확실한 재물이, 반지는 약속이 지켜집니다.', luck: 'good' },
        { name: '황금 열쇠 꿈', meaning: '기회의 문이 열림을 상징합니다. 열쇠를 얻으면 새로운 가능성이, 문을 열면 원하던 것을 얻습니다.', luck: 'good' },
        { name: '왕관 꿈', meaning: '권위와 명예를 상징합니다. 왕관을 쓰면 인정받고, 왕좌에 앉으면 리더십을 발휘합니다.', luck: 'good' },
        { name: '비단/옷감 꿈', meaning: '부귀와 영화를 상징합니다. 비단을 받으면 좋은 일이, 아름다운 옷을 입으면 인정받습니다.', luck: 'good' },
        { name: '거울 꿈', meaning: '자아와 진실을 상징합니다. 맑은 거울은 자기 인식이 좋음을, 거울에 좋은 모습이면 자신감이 높습니다.', luck: 'good' },
        { name: '풍선 꿈', meaning: '기쁨과 희망을 상징합니다. 풍선이 떠오르면 꿈이 이루어지고, 많은 풍선은 축하받을 일이 생깁니다.', luck: 'good' },
        { name: '케이크 꿈', meaning: '축하와 기쁨을 상징합니다. 케이크를 먹으면 경사가, 촛불을 끄면 소원이 이루어집니다.', luck: 'good' },
        { name: '샴페인/축배 꿈', meaning: '성공과 축하를 상징합니다. 건배하면 좋은 결과가, 샴페인이 터지면 대박이 납니다.', luck: 'good' },
        { name: '트로피/상 꿈', meaning: '성취와 인정을 상징합니다. 상을 받으면 노력이 결실을, 1등은 최고의 결과를 뜻합니다.', luck: 'good' },
        { name: '도장/인장 꿈', meaning: '권한과 승인을 상징합니다. 도장을 찍으면 일이 성사되고, 옥새는 큰 권위를 의미합니다.', luck: 'good' },
        { name: '편지/좋은 소식 꿈', meaning: '반가운 소식을 상징합니다. 편지를 받으면 기다리던 소식이, 초대장은 좋은 기회를 뜻합니다.', luck: 'good' },
        { name: '사다리 꿈', meaning: '상승과 발전을 상징합니다. 사다리를 오르면 승진이, 높이 올라갈수록 큰 성취를 이룹니다.', luck: 'good' },
        { name: '항아리 꿈', meaning: '저장과 풍요를 상징합니다. 항아리가 가득 차면 재물이 모이고, 금항아리는 횡재를 뜻합니다.', luck: 'good' },
        { name: '수박 꿈', meaning: '풍요와 다산을 상징합니다. 큰 수박은 큰 행운을, 달콤한 수박은 만족을 의미합니다.', luck: 'good' },
        { name: '대추/밤 꿈', meaning: '자손과 번영을 상징합니다. 대추를 먹으면 아들 복이, 밤은 재물 복을 의미합니다.', luck: 'good' },
        { name: '인삼/약초 꿈', meaning: '건강과 장수를 상징합니다. 인삼을 캐면 건강해지고, 먹으면 활력을 얻습니다.', luck: 'good' },
        { name: '배(선박) 꿈', meaning: '순항과 성공을 상징합니다. 큰 배를 타면 일이 크게 풀리고, 항구에 도착하면 목표 달성입니다.', luck: 'good' },
        { name: '비행기 꿈', meaning: '도약과 상승을 상징합니다. 비행기를 타면 빠른 발전이, 이륙하면 새로운 시작입니다.', luck: 'good' },
        { name: '계단 오르는 꿈', meaning: '단계적 성공을 상징합니다. 계단을 오르면 차근차근 성공하고, 꼭대기에 도달하면 목표 달성입니다.', luck: 'good' },
        { name: '노을/석양 꿈', meaning: '원숙함과 완성을 상징합니다. 아름다운 노을은 인생의 결실을, 황금빛 노을은 재물을 뜻합니다.', luck: 'good' },
        { name: '새벽/일출 꿈', meaning: '새로운 시작을 상징합니다. 해가 뜨면 밝은 미래가, 새벽에 일어나면 기회가 옵니다.', luck: 'good' },
        { name: '연꽃 꿈', meaning: '순수함과 깨달음을 상징합니다. 연꽃이 피면 어려움 속에서 성공하고, 하얀 연꽃은 정신적 성장을 뜻합니다.', luck: 'good' },
        { name: '매화 꿈', meaning: '절개와 인내를 상징합니다. 매화가 피면 어려움을 이기고, 붉은 매화는 열정적인 성공을 뜻합니다.', luck: 'good' },
        { name: '난초 꿈', meaning: '고귀함과 우아함을 상징합니다. 난초를 보면 품격이 높아지고, 향기는 명성을 의미합니다.', luck: 'good' },
        { name: '국화 꿈', meaning: '장수와 번영을 상징합니다. 국화가 피면 건강하고, 노란 국화는 재물을 뜻합니다.', luck: 'good' },
        { name: '목련 꿈', meaning: '순수함과 시작을 상징합니다. 목련이 피면 새 출발이, 흰 목련은 순수한 마음을 뜻합니다.', luck: 'good' },
        { name: '철쭉/진달래 꿈', meaning: '사랑과 정열을 상징합니다. 진달래가 피면 인연이, 분홍 진달래는 설레는 만남을 뜻합니다.', luck: 'good' },
        { name: '수선화 꿈', meaning: '자기애와 봄을 상징합니다. 수선화를 보면 자신감이, 노란 수선화는 밝은 미래를 뜻합니다.', luck: 'good' },
        { name: '백합 꿈', meaning: '순결과 평화를 상징합니다. 백합이 피면 마음이 평온하고, 향기가 나면 좋은 인연이 옵니다.', luck: 'good' },
      ],
    },
    {
      emoji: '⚠️',
      title: '주의 상징 꿈',
      items: [
        { name: '이빨 빠지는 꿈', meaning: '가족의 건강이나 재물 손실에 주의하세요. 하지만 새 이가 나면 오히려 길조입니다. 윗니는 윗사람을, 아랫니는 아랫사람을 상징합니다.', luck: 'bad' },
        { name: '쫓기는 꿈', meaning: '현실의 압박감을 반영합니다. 스트레스 관리가 필요합니다. 하지만 도망쳐 피하면 어려움을 극복합니다.', luck: 'bad' },
        { name: '떨어지는 꿈', meaning: '불안감을 반영합니다. 자신감을 가지세요. 착지에 성공하면 문제를 해결하고, 날아오르면 역전합니다.', luck: 'bad' },
        { name: '길을 잃는 꿈', meaning: '방향성 상실을 의미합니다. 계획을 재점검하세요. 길을 찾으면 해답을 얻고, 도움을 받으면 귀인이 나타납니다.', luck: 'normal' },
        { name: '시험 망치는 꿈', meaning: '준비 부족에 대한 불안입니다. 더 열심히 준비하세요. 역설적으로 실제 시험은 잘 볼 수 있습니다.', luck: 'normal' },
        { name: '물에 빠지는 꿈', meaning: '감정적 어려움을 상징합니다. 주변에 도움을 구하세요. 헤엄쳐 나오면 극복하고, 구출되면 도움을 받습니다.', luck: 'bad' },
        { name: '죽음 꿈', meaning: '끝과 재탄생을 상징합니다. 자신이 죽으면 오히려 새로운 시작을, 타인이 죽으면 관계의 변화를 의미합니다.', luck: 'normal' },
        { name: '싸움 꿈', meaning: '갈등과 스트레스를 반영합니다. 이기면 문제를 해결하고, 화해하면 관계가 좋아집니다.', luck: 'normal' },
        { name: '벌거벗은 꿈', meaning: '취약함을 느끼고 있음을 반영합니다. 자신감을 회복하세요. 부끄럽지 않으면 당당함을 뜻합니다.', luck: 'normal' },
        { name: '지각하는 꿈', meaning: '시간 압박과 불안을 반영합니다. 여유를 가지세요. 결국 도착하면 일이 잘 풀립니다.', luck: 'normal' },
        { name: '도둑 꿈', meaning: '손실과 배신을 주의하세요. 도둑을 잡으면 손실을 막고, 도둑이 도망가면 회복합니다.', luck: 'bad' },
        { name: '화재 꿈', meaning: '감정의 격동을 상징합니다. 불을 끄면 문제를 해결하고, 무사히 탈출하면 위기를 모면합니다.', luck: 'bad' },
        { name: '교통사고 꿈', meaning: '삶의 충돌을 경고합니다. 속도를 줄이고 신중히 행동하세요. 무사하면 위험을 피합니다.', luck: 'bad' },
        { name: '칼/무기 꿈', meaning: '공격성과 방어를 상징합니다. 칼을 들면 결단력을, 칼에 찔리면 비판에 상처받음을 의미합니다.', luck: 'normal' },
        { name: '병원 꿈', meaning: '치유의 필요성을 상징합니다. 건강을 점검하세요. 퇴원하면 회복을, 치료받으면 문제가 해결됩니다.', luck: 'normal' },
        { name: '감옥 꿈', meaning: '구속감과 제한을 상징합니다. 현재 상황에서 답답함을 느끼고 있습니다. 탈출하면 자유를 얻습니다.', luck: 'bad' },
        { name: '머리카락 빠지는 꿈', meaning: '건강과 활력 저하를 경고합니다. 스트레스에 주의하세요. 하지만 새 머리카락이 나면 재생을 뜻합니다.', luck: 'bad' },
        { name: '벌레/곤충 떼 꿈', meaning: '사소한 문제들이 쌓임을 경고합니다. 작은 일도 무시하지 마세요. 벌레를 없애면 해결됩니다.', luck: 'bad' },
        { name: '뱀에 물리는 꿈', meaning: '배신이나 음해를 주의하세요. 하지만 뱀을 제압하면 위기를 극복합니다. 독이 없으면 해결됩니다.', luck: 'bad' },
        { name: '개에 물리는 꿈', meaning: '가까운 사람과의 갈등을 주의하세요. 상처가 작으면 사소한 다툼, 크면 깊은 상처를 뜻합니다.', luck: 'bad' },
        { name: '추락하는 비행기 꿈', meaning: '야심찬 계획의 좌절을 경고합니다. 현실적인 검토가 필요합니다. 탈출하면 위기를 모면합니다.', luck: 'bad' },
        { name: '익사하는 꿈', meaning: '감정에 압도당함을 상징합니다. 도움을 구하세요. 구출되면 귀인이, 헤엄치면 극복합니다.', luck: 'bad' },
        { name: '지진 꿈', meaning: '삶의 기반이 흔들림을 경고합니다. 안정을 점검하세요. 무사히 대피하면 위기를 넘깁니다.', luck: 'bad' },
        { name: '해일/홍수 꿈', meaning: '감정의 쓰나미를 상징합니다. 압도당하지 말고 대처하세요. 물러나면 지나갑니다.', luck: 'bad' },
        { name: '벼랑 끝 꿈', meaning: '극한 상황에 처해 있음을 경고합니다. 신중히 행동하세요. 물러서면 안전해집니다.', luck: 'bad' },
        { name: '사막에 갇힌 꿈', meaning: '고립감과 갈증을 상징합니다. 도움이 필요합니다. 오아시스를 찾으면 희망이 옵니다.', luck: 'bad' },
        { name: '폭풍 꿈', meaning: '감정의 격동을 상징합니다. 침착하게 대응하세요. 폭풍이 지나면 평온해집니다.', luck: 'normal' },
        { name: '검은 구름 꿈', meaning: '어두운 시기가 다가옴을 경고합니다. 준비하세요. 구름이 걷히면 밝아집니다.', luck: 'normal' },
        { name: '깜깜한 어둠 꿈', meaning: '방향을 잃었음을 상징합니다. 빛을 찾으세요. 불이 켜지면 해결책을 찾습니다.', luck: 'normal' },
        { name: '미로 꿈', meaning: '복잡한 상황에 빠졌음을 상징합니다. 차분히 생각하세요. 출구를 찾으면 해결됩니다.', luck: 'normal' },
        { name: '거미줄에 걸린 꿈', meaning: '함정이나 유혹에 주의하세요. 빠져나오면 위험을 피합니다. 거미를 쫓으면 극복합니다.', luck: 'bad' },
        { name: '늪에 빠진 꿈', meaning: '어려운 상황에서 빠져나오기 힘듦을 상징합니다. 도움을 구하세요. 탈출하면 자유로워집니다.', luck: 'bad' },
        { name: '무덤/묘지 꿈', meaning: '과거에 매여 있음을 상징합니다. 새로운 시작이 필요합니다. 꽃이 피면 희망이 있습니다.', luck: 'normal' },
        { name: '장례식 꿈', meaning: '끝과 이별을 상징합니다. 새로운 시작을 준비하세요. 조문객이 많으면 인정받습니다.', luck: 'normal' },
        { name: '전쟁 꿈', meaning: '내적 갈등을 상징합니다. 평화를 찾으세요. 승리하면 극복하고, 휴전하면 화해합니다.', luck: 'normal' },
        { name: '배가 침몰하는 꿈', meaning: '계획의 좌초를 경고합니다. 구명정에 타면 대안이, 구출되면 도움이 옵니다.', luck: 'bad' },
        { name: '탈선하는 기차 꿈', meaning: '인생 경로의 이탈을 경고합니다. 방향을 점검하세요. 무사하면 다시 시작합니다.', luck: 'bad' },
        { name: '도망치지 못하는 꿈', meaning: '무력감을 상징합니다. 도움을 구하세요. 결국 도망치면 극복합니다.', luck: 'bad' },
        { name: '말이 안 나오는 꿈', meaning: '소통의 어려움을 상징합니다. 표현을 연습하세요. 목소리가 나오면 해결됩니다.', luck: 'normal' },
        { name: '다리가 안 움직이는 꿈', meaning: '행동의 제약을 상징합니다. 장애물을 파악하세요. 걸으면 앞으로 나아갑니다.', luck: 'normal' },
        { name: '눈이 안 보이는 꿈', meaning: '상황 판단의 어려움을 상징합니다. 주변의 도움을 받으세요. 시력이 회복되면 깨달음을 얻습니다.', luck: 'normal' },
        { name: '돈을 잃는 꿈', meaning: '재물 손실을 경고합니다. 지출을 점검하세요. 찾으면 회복되고, 다른 것을 얻으면 대체 이익이 옵니다.', luck: 'bad' },
        { name: '지갑을 잃어버리는 꿈', meaning: '정체성과 재물에 주의하세요. 찾으면 회복하고, 새 지갑은 새 시작을 뜻합니다.', luck: 'bad' },
        { name: '휴대폰을 잃어버리는 꿈', meaning: '소통의 단절을 경고합니다. 관계를 점검하세요. 찾으면 연락이 닿습니다.', luck: 'normal' },
        { name: '열쇠를 잃어버리는 꿈', meaning: '기회를 놓칠 수 있음을 경고합니다. 중요한 것을 챙기세요. 찾으면 문이 열립니다.', luck: 'bad' },
        { name: '집이 무너지는 꿈', meaning: '가정이나 기반의 위기를 경고합니다. 가족을 돌보세요. 새 집을 짓면 재건합니다.', luck: 'bad' },
        { name: '옷이 찢어진 꿈', meaning: '체면이나 명예의 손상을 경고합니다. 행동을 신중히 하세요. 새 옷을 입으면 회복됩니다.', luck: 'bad' },
        { name: '신발을 잃어버리는 꿈', meaning: '진로의 방해를 경고합니다. 방향을 점검하세요. 새 신발은 새로운 길을 뜻합니다.', luck: 'normal' },
        { name: '시계가 멈춘 꿈', meaning: '정체와 지연을 경고합니다. 시간 관리를 하세요. 다시 움직이면 진행됩니다.', luck: 'normal' },
        { name: '거울이 깨지는 꿈', meaning: '자아상의 균열을 경고합니다. 자신을 돌아보세요. 새 거울은 새로운 자아를 뜻합니다.', luck: 'bad' },
        { name: '피 흘리는 꿈', meaning: '에너지 소모와 상처를 경고합니다. 건강을 챙기세요. 피가 멎으면 회복됩니다.', luck: 'bad' },
        { name: '주사 맞는 꿈', meaning: '외부의 개입을 상징합니다. 치료를 위한 것이면 회복을, 강제적이면 주의를 뜻합니다.', luck: 'normal' },
        { name: '수술 꿈', meaning: '문제의 근본적 해결을 상징합니다. 성공하면 완쾌를, 두려우면 변화에 저항을 뜻합니다.', luck: 'normal' },
        { name: '바퀴벌레 꿈', meaning: '혐오스러운 상황을 상징합니다. 정리가 필요합니다. 제거하면 문제가 해결됩니다.', luck: 'bad' },
        { name: '쥐떼 꿈', meaning: '작은 문제들의 증식을 경고합니다. 초기에 대응하세요. 쫓으면 해결됩니다.', luck: 'bad' },
        { name: '깨진 그릇 꿈', meaning: '관계나 계획의 파탄을 경고합니다. 신중히 다루세요. 새 그릇은 새 시작을 뜻합니다.', luck: 'bad' },
        { name: '썩은 음식 꿈', meaning: '기회를 놓쳤음을 상징합니다. 새로운 기회를 찾으세요. 신선한 음식은 새 기회입니다.', luck: 'bad' },
        { name: '악취 꿈', meaning: '좋지 않은 상황을 상징합니다. 원인을 제거하세요. 향기가 나면 좋아집니다.', luck: 'bad' },
      ],
    },
    {
      emoji: '🏠',
      title: '장소 꿈',
      items: [
        { name: '집 꿈', meaning: '자아와 가정을 상징합니다. 깨끗한 집은 안정을, 넓은 집은 발전을, 무너지는 집은 변화를 의미합니다.', luck: 'good' },
        { name: '학교 꿈', meaning: '배움과 성장을 상징합니다. 학교에 가면 새로운 것을 배우고, 졸업하면 한 단계 성장합니다.', luck: 'normal' },
        { name: '직장 꿈', meaning: '일과 책임을 상징합니다. 직장에서 일하면 현실의 과제를, 승진하면 성취를 의미합니다.', luck: 'normal' },
        { name: '시장/상점 꿈', meaning: '거래와 기회를 상징합니다. 물건을 사면 얻음을, 팔면 내보냄을 의미합니다.', luck: 'normal' },
        { name: '절/교회 꿈', meaning: '영성과 평화를 상징합니다. 기도하면 소원이 이루어지고, 종소리를 들으면 좋은 소식이 옵니다.', luck: 'good' },
        { name: '병원 꿈', meaning: '치유와 회복을 상징합니다. 병원에 가면 문제를 해결하고, 퇴원하면 완전히 회복합니다.', luck: 'normal' },
        { name: '공항/역 꿈', meaning: '변화와 여행을 상징합니다. 출발하면 새로운 시작을, 도착하면 목표 달성을 의미합니다.', luck: 'good' },
        { name: '바다/해변 꿈', meaning: '무의식과 감정을 상징합니다. 해변에서 쉬면 휴식이 필요하고, 파도를 타면 감정을 잘 다루고 있습니다.', luck: 'good' },
        { name: '산 정상 꿈', meaning: '성취와 목표를 상징합니다. 정상에 오르면 목표를 달성하고, 경치를 보면 넓은 시야를 얻습니다.', luck: 'good' },
        { name: '지하실/동굴 꿈', meaning: '무의식과 숨겨진 것을 상징합니다. 탐험하면 자아를 발견하고, 빛을 찾으면 깨달음을 얻습니다.', luck: 'normal' },
        { name: '다리 꿈', meaning: '연결과 전환을 상징합니다. 다리를 건너면 새로운 단계로 넘어가고, 무너지면 주의가 필요합니다.', luck: 'normal' },
        { name: '엘리베이터 꿈', meaning: '상승과 하강을 상징합니다. 올라가면 발전을, 내려가면 내면 탐구를 의미합니다. 고장 나면 정체를 뜻합니다.', luck: 'normal' },
        { name: '궁궐/왕궁 꿈', meaning: '권위와 명예를 상징합니다. 궁궐에 들어가면 높은 지위를, 왕을 만나면 큰 행운을 뜻합니다.', luck: 'good' },
        { name: '성/요새 꿈', meaning: '방어와 안전을 상징합니다. 성 안에 있으면 보호받고, 성을 쌓으면 기반을 다집니다.', luck: 'good' },
        { name: '호텔 꿈', meaning: '일시적 상황과 변화를 상징합니다. 좋은 호텔은 풍요를, 체크아웃은 새로운 단계를 뜻합니다.', luck: 'normal' },
        { name: '레스토랑 꿈', meaning: '사회적 교류와 풍요를 상징합니다. 맛있게 먹으면 만족을, 대접하면 인정받습니다.', luck: 'good' },
        { name: '카페 꿈', meaning: '여유와 만남을 상징합니다. 커피를 마시면 휴식이, 대화하면 좋은 인연이 옵니다.', luck: 'good' },
        { name: '도서관 꿈', meaning: '지식과 지혜를 상징합니다. 책을 읽으면 배움이, 책을 찾으면 해답을 얻습니다.', luck: 'good' },
        { name: '박물관 꿈', meaning: '역사와 가치를 상징합니다. 전시를 보면 과거에서 교훈을, 유물은 귀중한 것을 뜻합니다.', luck: 'good' },
        { name: '극장/영화관 꿈', meaning: '인생의 드라마를 상징합니다. 관람하면 객관적 시각을, 출연하면 주인공이 됩니다.', luck: 'normal' },
        { name: '콘서트장 꿈', meaning: '표현과 인정을 상징합니다. 공연을 보면 즐거움이, 무대에 서면 인정받습니다.', luck: 'good' },
        { name: '스포츠 경기장 꿈', meaning: '경쟁과 열정을 상징합니다. 응원하면 지지를, 경기하면 도전을 뜻합니다.', luck: 'normal' },
        { name: '수영장 꿈', meaning: '감정 조절을 상징합니다. 수영하면 감정을 잘 다루고, 맑은 물은 마음이 맑습니다.', luck: 'good' },
        { name: '온천/목욕탕 꿈', meaning: '정화와 휴식을 상징합니다. 목욕하면 마음이 깨끗해지고, 따뜻한 물은 위로를 뜻합니다.', luck: 'good' },
        { name: '놀이공원 꿈', meaning: '즐거움과 해방을 상징합니다. 놀이기구를 타면 자유를, 축제는 기쁜 일을 뜻합니다.', luck: 'good' },
        { name: '정원/공원 꿈', meaning: '평화와 자연을 상징합니다. 꽃이 피면 행복이, 산책하면 마음이 편안해집니다.', luck: 'good' },
        { name: '숲 꿈', meaning: '자연과 무의식을 상징합니다. 숲을 거닐면 자아 탐구를, 길을 찾으면 방향을 발견합니다.', luck: 'normal' },
        { name: '폭포 꿈', meaning: '강한 감정과 정화를 상징합니다. 폭포 아래 서면 새로워지고, 물소리는 메시지입니다.', luck: 'good' },
        { name: '강 꿈', meaning: '인생의 흐름을 상징합니다. 맑은 강은 순조로움을, 건너면 새로운 단계로 나아갑니다.', luck: 'good' },
        { name: '호수 꿈', meaning: '내면의 평화를 상징합니다. 잔잔한 호수는 마음의 안정을, 비친 모습은 자아를 뜻합니다.', luck: 'good' },
        { name: '섬 꿈', meaning: '고립과 독립을 상징합니다. 아름다운 섬은 피신처를, 탈출하면 사회로 복귀합니다.', luck: 'normal' },
        { name: '사막 꿈', meaning: '고난과 시련을 상징합니다. 오아시스를 찾으면 희망이, 건너면 극복합니다.', luck: 'normal' },
        { name: '설산 꿈', meaning: '도전과 순수함을 상징합니다. 정상에 오르면 큰 성취를, 눈은 정화를 뜻합니다.', luck: 'good' },
        { name: '골목길 꿈', meaning: '인생의 갈림길을 상징합니다. 밝은 골목은 좋은 선택을, 막다른 길은 재고가 필요합니다.', luck: 'normal' },
        { name: '고속도로 꿈', meaning: '인생의 빠른 진행을 상징합니다. 순조롭게 달리면 일이 잘 풀리고, 막히면 지연됩니다.', luck: 'normal' },
        { name: '터널 꿈', meaning: '과도기와 전환을 상징합니다. 통과하면 새로운 상황이, 빛이 보이면 희망이 있습니다.', luck: 'normal' },
        { name: '지하철역 꿈', meaning: '일상의 이동을 상징합니다. 제시간에 타면 순조로움을, 놓치면 기회를 놓칩니다.', luck: 'normal' },
        { name: '항구 꿈', meaning: '출발과 도착을 상징합니다. 배가 떠나면 새 시작이, 도착하면 목표 달성입니다.', luck: 'good' },
        { name: '등대 꿈', meaning: '안내와 희망을 상징합니다. 등대 불빛은 방향을 알려주고, 도달하면 안전합니다.', luck: 'good' },
        { name: '탑 꿈', meaning: '상승과 야망을 상징합니다. 탑에 오르면 높은 목표를, 꼭대기는 정점을 뜻합니다.', luck: 'good' },
        { name: '우물 꿈', meaning: '내면의 깊이를 상징합니다. 물을 길으면 지혜를, 맑은 물은 순수함을 뜻합니다.', luck: 'good' },
        { name: '계곡 꿈', meaning: '휴식과 자연을 상징합니다. 물놀이하면 즐거움이, 아름다운 계곡은 힐링을 뜻합니다.', luck: 'good' },
        { name: '동굴 꿈', meaning: '무의식과 탐험을 상징합니다. 안으로 들어가면 자아 발견을, 보물은 재능을 뜻합니다.', luck: 'normal' },
        { name: '화산 꿈', meaning: '억눌린 감정을 상징합니다. 폭발하면 감정 분출을, 활화산은 열정을 뜻합니다.', luck: 'normal' },
        { name: '절벽 꿈', meaning: '결단의 순간을 상징합니다. 뛰어내리면 도전을, 올라가면 극복을 뜻합니다.', luck: 'normal' },
        { name: '무인도 꿈', meaning: '독립과 자립을 상징합니다. 생존하면 강인함을, 구조되면 도움이 옵니다.', luck: 'normal' },
        { name: '묘지/납골당 꿈', meaning: '과거와 조상을 상징합니다. 참배하면 조상의 도움이, 정돈된 묘지는 평안을 뜻합니다.', luck: 'normal' },
        { name: '유적지 꿈', meaning: '역사와 뿌리를 상징합니다. 탐험하면 과거에서 배우고, 유물은 가치 있는 것을 뜻합니다.', luck: 'good' },
        { name: '외국/해외 꿈', meaning: '새로운 경험을 상징합니다. 여행하면 시야가 넓어지고, 이국적인 풍경은 변화를 뜻합니다.', luck: 'good' },
        { name: '하늘 꿈', meaning: '자유와 가능성을 상징합니다. 맑은 하늘은 밝은 미래를, 날아가면 꿈을 이룹니다.', luck: 'good' },
        { name: '우주 꿈', meaning: '무한한 가능성을 상징합니다. 우주를 여행하면 큰 꿈을, 별들은 희망을 뜻합니다.', luck: 'good' },
        { name: '지옥 꿈', meaning: '두려움과 죄책감을 상징합니다. 탈출하면 극복을, 심판받으면 자기 반성이 필요합니다.', luck: 'bad' },
        { name: '천국 꿈', meaning: '평화와 축복을 상징합니다. 천국에 가면 내면의 평화를, 천사는 보호를 뜻합니다.', luck: 'good' },
      ],
    },
    {
      emoji: '🎭',
      title: '행동/상황 꿈',
      items: [
        { name: '날아다니는 꿈', meaning: '자유와 해방을 상징합니다. 높이 날수록 높은 이상을 향하고, 쉽게 날면 일이 순조롭습니다.', luck: 'good' },
        { name: '수영하는 꿈', meaning: '감정을 다루는 능력을 상징합니다. 쉽게 수영하면 감정 조절을 잘하고, 물이 맑으면 마음이 맑습니다.', luck: 'good' },
        { name: '운전하는 꿈', meaning: '인생의 방향을 상징합니다. 순조롭게 운전하면 잘 나아가고, 길을 잃으면 방향 재설정이 필요합니다.', luck: 'normal' },
        { name: '노래하는 꿈', meaning: '자기표현을 상징합니다. 아름답게 노래하면 인정받고, 청중이 있으면 사회적 성공을 뜻합니다.', luck: 'good' },
        { name: '춤추는 꿈', meaning: '기쁨과 조화를 상징합니다. 춤을 잘 추면 삶이 조화롭고, 파트너와 춤추면 협력이 좋습니다.', luck: 'good' },
        { name: '요리하는 꿈', meaning: '창조와 준비를 상징합니다. 맛있게 요리하면 일이 잘 풀리고, 음식을 대접하면 베풂의 기쁨이 있습니다.', luck: 'good' },
        { name: '청소하는 꿈', meaning: '정화와 정리를 상징합니다. 깨끗이 청소하면 문제가 해결되고, 먼지를 털면 걱정이 사라집니다.', luck: 'good' },
        { name: '공부하는 꿈', meaning: '성장과 준비를 상징합니다. 열심히 공부하면 실력이 향상되고, 이해가 되면 깨달음을 얻습니다.', luck: 'good' },
        { name: '웃는 꿈', meaning: '기쁨과 긍정을 상징합니다. 크게 웃으면 스트레스가 해소되고, 함께 웃으면 인간관계가 좋아집니다.', luck: 'good' },
        { name: '우는 꿈', meaning: '감정의 해소를 상징합니다. 실컷 울면 마음이 가벼워지고, 눈물이 그치면 희망이 보입니다.', luck: 'normal' },
        { name: '달리는 꿈', meaning: '추진력과 목표를 상징합니다. 빨리 달리면 목표에 빨리 도달하고, 지치면 휴식이 필요합니다.', luck: 'normal' },
        { name: '숨는 꿈', meaning: '회피와 보호를 상징합니다. 안전하게 숨으면 어려움을 피하고, 발견되면 직면이 필요합니다.', luck: 'normal' },
        { name: '등산하는 꿈', meaning: '목표를 향한 노력을 상징합니다. 정상에 오르면 성취하고, 쉬어가면 재충전합니다.', luck: 'good' },
        { name: '여행하는 꿈', meaning: '인생의 여정을 상징합니다. 즐거운 여행은 좋은 경험을, 목적지는 목표를 뜻합니다.', luck: 'good' },
        { name: '이사하는 꿈', meaning: '변화와 새 출발을 상징합니다. 좋은 집으로 이사하면 발전을, 정리는 과거 정리를 뜻합니다.', luck: 'good' },
        { name: '결혼하는 꿈', meaning: '결합과 약속을 상징합니다. 행복한 결혼은 좋은 인연을, 하객이 많으면 인정받습니다.', luck: 'good' },
        { name: '임신/출산 꿈', meaning: '창조와 새로운 시작을 상징합니다. 출산하면 새 프로젝트가, 건강한 아기는 성공을 뜻합니다.', luck: 'good' },
        { name: '아기 돌보는 꿈', meaning: '책임과 양육을 상징합니다. 아기가 웃으면 보람이, 울면 관심이 필요합니다.', luck: 'good' },
        { name: '졸업하는 꿈', meaning: '완성과 인정을 상징합니다. 졸업장을 받으면 목표 달성을, 축하받으면 성취를 뜻합니다.', luck: 'good' },
        { name: '시험 보는 꿈', meaning: '평가와 도전을 상징합니다. 잘 보면 준비가 됐고, 어려우면 더 노력이 필요합니다.', luck: 'normal' },
        { name: '발표하는 꿈', meaning: '자기표현과 인정을 상징합니다. 성공하면 인정받고, 박수받으면 지지를 얻습니다.', luck: 'good' },
        { name: '인터뷰/면접 꿈', meaning: '기회와 평가를 상징합니다. 잘 보면 좋은 기회가, 떨리면 준비가 필요합니다.', luck: 'normal' },
        { name: '일하는 꿈', meaning: '책임과 성취를 상징합니다. 열심히 일하면 인정받고, 성과가 나면 보상을 뜻합니다.', luck: 'normal' },
        { name: '회의하는 꿈', meaning: '협력과 소통을 상징합니다. 의견이 받아들여지면 인정을, 충돌하면 조율이 필요합니다.', luck: 'normal' },
        { name: '쇼핑하는 꿈', meaning: '욕구와 선택을 상징합니다. 원하는 것을 사면 만족을, 고르면 결정을 내립니다.', luck: 'good' },
        { name: '식사하는 꿈', meaning: '만족과 교류를 상징합니다. 맛있게 먹으면 풍요를, 함께 먹으면 화합을 뜻합니다.', luck: 'good' },
        { name: '술 마시는 꿈', meaning: '해방과 교류를 상징합니다. 즐겁게 마시면 해소를, 취하면 조절이 필요합니다.', luck: 'normal' },
        { name: '목욕하는 꿈', meaning: '정화와 재생을 상징합니다. 깨끗이 씻으면 새로워지고, 따뜻한 물은 위로입니다.', luck: 'good' },
        { name: '잠자는 꿈', meaning: '휴식과 무의식을 상징합니다. 푹 자면 재충전이, 잠들지 못하면 불안이 있습니다.', luck: 'normal' },
        { name: '그림 그리는 꿈', meaning: '창조성과 표현을 상징합니다. 아름다운 그림은 재능을, 완성하면 성취를 뜻합니다.', luck: 'good' },
        { name: '글 쓰는 꿈', meaning: '소통과 기록을 상징합니다. 잘 쓰면 표현을, 출판되면 인정을 뜻합니다.', luck: 'good' },
        { name: '악기 연주 꿈', meaning: '조화와 표현을 상징합니다. 아름다운 연주는 재능을, 청중이 있으면 인정을 뜻합니다.', luck: 'good' },
        { name: '운동하는 꿈', meaning: '도전과 건강을 상징합니다. 잘하면 자신감을, 이기면 승리를 뜻합니다.', luck: 'good' },
        { name: '낚시하는 꿈', meaning: '기다림과 수확을 상징합니다. 큰 물고기를 잡으면 성과를, 기다리면 인내를 뜻합니다.', luck: 'good' },
        { name: '사냥하는 꿈', meaning: '추구와 획득을 상징합니다. 성공하면 목표 달성을, 놓치면 재도전이 필요합니다.', luck: 'normal' },
        { name: '농사짓는 꿈', meaning: '노력과 수확을 상징합니다. 풍년이면 성과를, 씨 뿌리면 시작을 뜻합니다.', luck: 'good' },
        { name: '꽃 심는 꿈', meaning: '희망과 시작을 상징합니다. 꽃이 피면 결실을, 가꾸면 노력의 보상을 뜻합니다.', luck: 'good' },
        { name: '집 짓는 꿈', meaning: '기반과 안정을 상징합니다. 완성하면 성취를, 튼튼하면 안정을 뜻합니다.', luck: 'good' },
        { name: '수리하는 꿈', meaning: '회복과 개선을 상징합니다. 고치면 문제 해결을, 새것처럼 되면 재생을 뜻합니다.', luck: 'good' },
        { name: '포장하는 꿈', meaning: '준비와 완성을 상징합니다. 예쁘게 포장하면 마무리를, 선물하면 베풂을 뜻합니다.', luck: 'good' },
        { name: '기도하는 꿈', meaning: '소원과 영성을 상징합니다. 간절히 기도하면 이루어지고, 평온하면 마음이 안정됩니다.', luck: 'good' },
        { name: '명상하는 꿈', meaning: '평화와 깨달음을 상징합니다. 고요하면 지혜를, 빛을 보면 깨달음을 뜻합니다.', luck: 'good' },
        { name: '구경하는 꿈', meaning: '관찰과 학습을 상징합니다. 흥미로우면 배움이, 참여하면 적극적 태도를 뜻합니다.', luck: 'normal' },
        { name: '사진 찍는 꿈', meaning: '기록과 추억을 상징합니다. 좋은 사진은 좋은 기억을, 찍히면 주목받습니다.', luck: 'good' },
        { name: '전화하는 꿈', meaning: '소통과 연결을 상징합니다. 연결되면 소통이, 끊기면 단절에 주의합니다.', luck: 'normal' },
        { name: '편지 쓰는 꿈', meaning: '진심 전달을 상징합니다. 답장이 오면 응답을, 보내면 마음이 전해집니다.', luck: 'good' },
        { name: '선물 주는 꿈', meaning: '베풂과 사랑을 상징합니다. 기뻐하면 보람이, 받으면 축복을 뜻합니다.', luck: 'good' },
        { name: '악수하는 꿈', meaning: '합의와 인연을 상징합니다. 따뜻한 악수는 좋은 관계를, 굳세면 약속을 뜻합니다.', luck: 'good' },
        { name: '포옹하는 꿈', meaning: '사랑과 위로를 상징합니다. 따뜻하면 사랑을, 오래하면 그리움을 뜻합니다.', luck: 'good' },
        { name: '키스하는 꿈', meaning: '친밀함과 사랑을 상징합니다. 달콤하면 행복을, 첫키스는 새 인연을 뜻합니다.', luck: 'good' },
        { name: '고백하는 꿈', meaning: '용기와 진심을 상징합니다. 받아들여지면 성공을, 떨리면 기대를 뜻합니다.', luck: 'normal' },
        { name: '이별하는 꿈', meaning: '끝과 새 시작을 상징합니다. 슬프면 미련이, 담담하면 성장을 뜻합니다.', luck: 'normal' },
        { name: '재회하는 꿈', meaning: '그리움과 회복을 상징합니다. 기쁘면 화해를, 어색하면 시간이 필요합니다.', luck: 'good' },
        { name: '치료받는 꿈', meaning: '회복과 돌봄을 상징합니다. 낫으면 문제 해결을, 약을 먹으면 도움을 받습니다.', luck: 'good' },
        { name: '구출하는 꿈', meaning: '영웅심과 보호를 상징합니다. 성공하면 인정을, 도움주면 덕을 쌓습니다.', luck: 'good' },
        { name: '구출받는 꿈', meaning: '도움과 희망을 상징합니다. 구조되면 귀인이, 감사하면 복이 옵니다.', luck: 'good' },
        { name: '가르치는 꿈', meaning: '지식 전달과 리더십을 상징합니다. 잘 가르치면 영향력을, 학생이 배우면 성과를 뜻합니다.', luck: 'good' },
        { name: '배우는 꿈', meaning: '성장과 겸손을 상징합니다. 잘 이해하면 발전을, 스승을 만나면 귀인을 뜻합니다.', luck: 'good' },
        { name: '봉사하는 꿈', meaning: '베풂과 덕을 상징합니다. 기쁘게 봉사하면 보람이, 감사받으면 복이 옵니다.', luck: 'good' },
        { name: '표창받는 꿈', meaning: '인정과 성취를 상징합니다. 박수받으면 성공을, 상장은 공식적 인정을 뜻합니다.', luck: 'good' },
      ],
    },
    {
      emoji: '💰',
      title: '재물/숫자 꿈',
      items: [
        { name: '돈다발 꿈', meaning: '큰 재물을 상징합니다. 돈다발을 받으면 횡재가, 세면 재산이 늘어납니다.', luck: 'good' },
        { name: '금괴 꿈', meaning: '확실한 재물을 상징합니다. 금괴를 얻으면 안정적인 수입이, 금고에 넣으면 저축이 좋습니다.', luck: 'good' },
        { name: '숫자 3 꿈', meaning: '창조와 완성을 상징합니다. 3이 보이면 일이 완성되고, 세 번 반복되면 확실한 징조입니다.', luck: 'good' },
        { name: '숫자 7 꿈', meaning: '행운과 완전함을 상징합니다. 7이 보이면 행운이 따르고, 7개가 있으면 완벽한 상황입니다.', luck: 'good' },
        { name: '숫자 8 꿈', meaning: '풍요와 무한을 상징합니다. 8이 보이면 재물운이 좋고, 88은 특히 대길합니다.', luck: 'good' },
        { name: '동전 꿈', meaning: '소소한 행운을 상징합니다. 동전을 줍으면 작은 기쁨이, 많은 동전은 적은 것이 모여 큰 것이 됨을 뜻합니다.', luck: 'good' },
        { name: '지갑 꿈', meaning: '재정 상태를 상징합니다. 두툼한 지갑은 풍요를, 잃어버리면 지출에 주의하세요.', luck: 'normal' },
        { name: '은행 꿈', meaning: '재정 관리를 상징합니다. 은행에 가면 재정을 점검하고, 저축하면 미래가 안전합니다.', luck: 'good' },
        { name: '주식/투자 꿈', meaning: '기회와 위험을 상징합니다. 오르면 이익을, 내리면 주의를 의미합니다.', luck: 'normal' },
        { name: '보험 꿈', meaning: '안전과 준비를 상징합니다. 보험에 가입하면 미래에 대비하고 있습니다.', luck: 'good' },
        { name: '세금 꿈', meaning: '의무와 책임을 상징합니다. 세금을 내면 의무를 다하고, 환급받으면 보상을 받습니다.', luck: 'normal' },
        { name: '경매 꿈', meaning: '경쟁과 가치를 상징합니다. 낙찰받으면 원하는 것을 얻고, 놓치면 다른 기회를 찾으세요.', luck: 'normal' },
        { name: '숫자 1 꿈', meaning: '시작과 리더십을 상징합니다. 1등이면 최고가 되고, 처음 시작은 새로운 기회입니다.', luck: 'good' },
        { name: '숫자 2 꿈', meaning: '균형과 파트너십을 상징합니다. 2가 보이면 협력이 필요하고, 짝을 이루면 조화롭습니다.', luck: 'good' },
        { name: '숫자 4 꿈', meaning: '안정과 기반을 상징합니다. 동양에서는 피하나 서양에서는 안정을 뜻합니다. 네 방향은 완전함입니다.', luck: 'normal' },
        { name: '숫자 5 꿈', meaning: '변화와 중심을 상징합니다. 오행의 숫자로 균형과 조화를 뜻합니다.', luck: 'good' },
        { name: '숫자 6 꿈', meaning: '가정과 책임을 상징합니다. 6이 보이면 가족에 관한 일이, 육각형은 완전함을 뜻합니다.', luck: 'good' },
        { name: '숫자 9 꿈', meaning: '완성과 최고를 상징합니다. 9가 보이면 일이 완성되고, 최고의 위치를 뜻합니다.', luck: 'good' },
        { name: '숫자 10 꿈', meaning: '완벽과 새 시작을 상징합니다. 10점 만점은 완벽을, 다시 1로 돌아가 새 순환을 뜻합니다.', luck: 'good' },
        { name: '숫자 12 꿈', meaning: '완전과 순환을 상징합니다. 12지신, 12달로 완전한 주기를 뜻합니다.', luck: 'good' },
        { name: '숫자 13 꿈', meaning: '변화와 전환을 상징합니다. 서양에서는 불길하나 변화의 에너지로 해석할 수 있습니다.', luck: 'normal' },
        { name: '숫자 100 꿈', meaning: '완전함과 풍요를 상징합니다. 백점 만점, 백세 등 완벽한 성취를 뜻합니다.', luck: 'good' },
        { name: '지폐 꿈', meaning: '큰 재물을 상징합니다. 새 지폐는 새로운 수입을, 많으면 풍요를 뜻합니다.', luck: 'good' },
        { name: '수표 꿈', meaning: '약속된 재물을 상징합니다. 큰 금액의 수표는 큰 이익을, 받으면 보상을 뜻합니다.', luck: 'good' },
        { name: '금고 꿈', meaning: '안전과 저축을 상징합니다. 열리면 기회가, 가득 차면 풍요를 뜻합니다.', luck: 'good' },
        { name: '보물상자 꿈', meaning: '숨겨진 가치를 상징합니다. 발견하면 재능을 찾고, 열면 기회를 잡습니다.', luck: 'good' },
        { name: '금반지 꿈', meaning: '약속과 재물을 상징합니다. 끼면 약속이 지켜지고, 받으면 귀한 인연입니다.', luck: 'good' },
        { name: '금목걸이 꿈', meaning: '명예와 재물을 상징합니다. 착용하면 인정받고, 받으면 선물을 뜻합니다.', luck: 'good' },
        { name: '금팔찌 꿈', meaning: '보호와 재물을 상징합니다. 착용하면 안전을, 무거우면 큰 재물을 뜻합니다.', luck: 'good' },
        { name: '현금인출기 꿈', meaning: '재물 접근성을 상징합니다. 돈이 나오면 수입이, 고장나면 일시적 어려움을 뜻합니다.', luck: 'normal' },
        { name: '월급 꿈', meaning: '안정적 수입을 상징합니다. 많이 받으면 인정받고, 적으면 노력이 필요합니다.', luck: 'good' },
        { name: '보너스 꿈', meaning: '예상 외 수입을 상징합니다. 받으면 횡재를, 많을수록 큰 행운입니다.', luck: 'good' },
        { name: '유산 꿈', meaning: '물려받는 가치를 상징합니다. 받으면 복이, 나누면 덕을 쌓습니다.', luck: 'good' },
        { name: '기부 꿈', meaning: '베풂과 복을 상징합니다. 기부하면 돌아오고, 감사받으면 보람을 뜻합니다.', luck: 'good' },
        { name: '빚 꿈', meaning: '부담과 책임을 상징합니다. 갚으면 해방되고, 탕감받으면 행운입니다.', luck: 'normal' },
        { name: '도박 꿈', meaning: '위험과 기회를 상징합니다. 이기면 행운이, 지면 주의가 필요합니다.', luck: 'normal' },
        { name: '로또 꿈', meaning: '일확천금을 상징합니다. 당첨되면 뜻밖의 행운이, 숫자가 보이면 기억하세요.', luck: 'good' },
        { name: '카드 꿈', meaning: '지출과 신용을 상징합니다. 결제하면 소비를, 한도가 높으면 여유를 뜻합니다.', luck: 'normal' },
        { name: '영수증 꿈', meaning: '기록과 증명을 상징합니다. 받으면 거래 완료를, 많으면 활발한 활동을 뜻합니다.', luck: 'normal' },
        { name: '부동산 꿈', meaning: '안정과 자산을 상징합니다. 집을 사면 기반을, 넓은 땅은 큰 재산을 뜻합니다.', luck: 'good' },
        { name: '주식 상승 꿈', meaning: '투자 성공을 상징합니다. 급등하면 횡재를, 꾸준히 오르면 안정적 성장을 뜻합니다.', luck: 'good' },
        { name: '주식 하락 꿈', meaning: '손실 주의를 경고합니다. 급락하면 주의가, 회복하면 괜찮아집니다.', luck: 'bad' },
        { name: '금 시세 꿈', meaning: '가치와 투자를 상징합니다. 오르면 재물이, 금을 사면 안전한 투자를 뜻합니다.', luck: 'good' },
        { name: '환율 꿈', meaning: '변동과 기회를 상징합니다. 유리한 환율은 좋은 거래를, 변동은 주의를 뜻합니다.', luck: 'normal' },
        { name: '계좌 꿈', meaning: '재정 상태를 상징합니다. 잔액이 많으면 풍요를, 비면 절약이 필요합니다.', luck: 'normal' },
        { name: '송금 꿈', meaning: '주고받음을 상징합니다. 받으면 수입을, 보내면 지출이나 베풂을 뜻합니다.', luck: 'normal' },
        { name: '계약서 꿈', meaning: '약속과 거래를 상징합니다. 서명하면 확정을, 좋은 조건은 유리한 상황을 뜻합니다.', luck: 'good' },
        { name: '사업 성공 꿈', meaning: '번창과 성취를 상징합니다. 성공하면 노력의 결실을, 손님이 많으면 인기를 뜻합니다.', luck: 'good' },
        { name: '상속 꿈', meaning: '물려받는 것을 상징합니다. 많이 받으면 복이, 나누면 화목을 뜻합니다.', luck: 'good' },
        { name: '연금 꿈', meaning: '안정과 노후를 상징합니다. 받으면 안정된 미래를, 많으면 풍요로운 노후를 뜻합니다.', luck: 'good' },
      ],
    },
    {
      emoji: '👶',
      title: '태몽',
      items: [
        { name: '용 태몽', meaning: '가장 상서로운 태몽입니다. 왕이나 큰 인물이 태어날 상징으로, 권세와 명예를 얻을 인물로 성장합니다.', luck: 'good' },
        { name: '호랑이 태몽', meaning: '리더십이 강한 인물이 될 것입니다. 씩씩하고 많은 사람을 지도할 역량을 가진 아이로 성장합니다.', luck: 'good' },
        { name: '돼지 태몽', meaning: '재물운이 좋은 인물이 될 것입니다. 토실토실한 돼지는 부자가 될 자식을 뜻합니다.', luck: 'good' },
        { name: '뱀/구렁이 태몽', meaning: '장차 크게 될 아이입니다. 용처럼 큰 뱀은 부귀와 권세를 의미하며, 지도자/성공가가 될 운명입니다.', luck: 'good' },
        { name: '잉어/물고기 태몽', meaning: '총명하고 영리한 아이입니다. 잉어가 용문을 뛰어오르듯 출세하고 성공합니다.', luck: 'good' },
        { name: '거북이 태몽', meaning: '장수와 지혜를 상징합니다. 건강하고 지혜로운 아이로 성장합니다.', luck: 'good' },
        { name: '학/두루미 태몽', meaning: '고귀함과 장수를 상징합니다. 고결하고 품위 있는 인물이 됩니다.', luck: 'good' },
        { name: '봉황 태몽', meaning: '귀한 인물이 될 것입니다. 특히 여아의 경우 큰 복을 가진 아이입니다.', luck: 'good' },
        { name: '말 태몽', meaning: '활동적이고 진취적인 아이입니다. 빠른 출세와 명예를 얻습니다.', luck: 'good' },
        { name: '소 태몽', meaning: '성실하고 부지런한 아이입니다. 안정적인 삶과 재물을 얻습니다.', luck: 'good' },
        { name: '사자 태몽', meaning: '용맹하고 당당한 아이입니다. 리더십과 권위를 가집니다.', luck: 'good' },
        { name: '코끼리 태몽', meaning: '힘과 지혜를 겸비한 아이입니다. 큰 그릇과 인내심을 가집니다.', luck: 'good' },
        { name: '독수리/매 태몽', meaning: '날카로운 지혜와 높은 뜻을 가진 아이입니다. 큰 성취를 이룹니다.', luck: 'good' },
        { name: '공작 태몽', meaning: '아름답고 화려한 아이입니다. 예술적 재능이 뛰어납니다.', luck: 'good' },
        { name: '제비 태몽', meaning: '품속으로 날아들면 아들을 낳습니다. 집안에 기쁨을 가져옵니다.', luck: 'good' },
        { name: '나비 태몽', meaning: '아름답고 우아한 딸을 상징합니다. 변화와 성장의 의미도 있습니다.', luck: 'good' },
        { name: '금 태몽', meaning: '황금이나 금괴를 얻으면 부귀영화를 누릴 아이입니다.', luck: 'good' },
        { name: '보석 태몽', meaning: '진주, 다이아몬드 등은 귀한 아이를 상징합니다. 특히 딸의 경우 아름답고 복이 많습니다.', luck: 'good' },
        { name: '복숭아 태몽', meaning: '생명, 건강, 복을 상징합니다. 잘 익은 복숭아는 건강하고 복 많은 아이입니다.', luck: 'good' },
        { name: '사과 태몽', meaning: '빨갛고 탐스러운 사과는 건강하고 예쁜 아이를 뜻합니다.', luck: 'good' },
        { name: '배 태몽', meaning: '달콤한 배는 총명하고 인복 많은 아이입니다.', luck: 'good' },
        { name: '포도 태몽', meaning: '풍성한 포도송이는 다복하고 자손이 번창함을 뜻합니다.', luck: 'good' },
        { name: '석류 태몽', meaning: '다산과 풍요를 상징합니다. 자식 복이 많습니다.', luck: 'good' },
        { name: '수박 태몽', meaning: '큰 수박은 큰 그릇의 아이를 뜻합니다. 남아일 경우가 많습니다.', luck: 'good' },
        { name: '밤/대추 태몽', meaning: '밤은 재물 복을, 대추는 아들 복을 상징합니다.', luck: 'good' },
        { name: '고추 태몽', meaning: '전통적으로 아들을 상징합니다. 붉은 고추는 건강한 남아입니다.', luck: 'good' },
        { name: '오이/호박 태몽', meaning: '건강하고 실속 있는 아이입니다. 호박은 특히 복을 뜻합니다.', luck: 'good' },
        { name: '꽃 태몽', meaning: '아름다운 꽃은 주로 딸을 상징합니다. 화려한 꽃일수록 예쁜 딸입니다.', luck: 'good' },
        { name: '해/달 태몽', meaning: '해는 아들을, 달은 딸을 상징합니다. 밝고 빛나는 아이입니다.', luck: 'good' },
        { name: '별 태몽', meaning: '빛나는 별은 총명하고 미래가 밝은 아이입니다.', luck: 'good' },
        { name: '산 태몽', meaning: '큰 산은 큰 인물이 될 아이입니다. 든든하고 듬직합니다.', luck: 'good' },
        { name: '물 태몽', meaning: '맑은 물은 순수하고 깨끗한 아이를 뜻합니다.', luck: 'good' },
        { name: '불 태몽', meaning: '밝은 불은 열정적이고 활기찬 아이입니다.', luck: 'good' },
        { name: '무지개 태몽', meaning: '무지개는 희망과 축복을 상징합니다. 특별한 아이입니다.', luck: 'good' },
        { name: '구름 태몽', meaning: '오색구름은 길한 태몽입니다. 귀한 아이가 태어납니다.', luck: 'good' },
      ],
    },
    {
      emoji: '🎒',
      title: '물건/기물 꿈',
      items: [
        { name: '칼/검 꿈', meaning: '결단력과 권력을 상징합니다. 칼을 얻으면 승진이나 성공을, 여자가 칼을 차면 경사가 있습니다.', luck: 'good' },
        { name: '거울 꿈', meaning: '자아와 진실을 상징합니다. 맑은 거울은 자기 인식이 좋음을, 깨지면 부부 이별이나 자아 분열을 주의합니다.', luck: 'normal' },
        { name: '붓/벼루 꿈', meaning: '학문과 명예를 상징합니다. 손에 들면 좋은 소식이, 글을 쓰면 시험 합격입니다.', luck: 'good' },
        { name: '책 꿈', meaning: '지식과 지혜를 상징합니다. 책을 읽으면 배움이, 두꺼운 책은 큰 성취를 뜻합니다.', luck: 'good' },
        { name: '가위 꿈', meaning: '결단과 재물을 상징합니다. 가위를 보면 재물이 생기고, 자르면 결단을 뜻합니다.', luck: 'good' },
        { name: '바늘/실 꿈', meaning: '인연과 연결을 상징합니다. 바느질하면 관계가 이어지고, 실이 끊어지면 이별을 주의합니다.', luck: 'normal' },
        { name: '우산 꿈', meaning: '보호와 도움을 상징합니다. 우산을 쓰면 어려움을 피하고, 부러지면 보호가 약해집니다.', luck: 'normal' },
        { name: '시계 꿈', meaning: '시간과 변화를 상징합니다. 정확히 가면 순조로움을, 멈추면 정체를 뜻합니다.', luck: 'normal' },
        { name: '안경 꿈', meaning: '통찰력을 상징합니다. 안경을 쓰면 상황이 명확해지고, 깨지면 판단 오류를 주의합니다.', luck: 'normal' },
        { name: '열쇠 꿈', meaning: '기회와 해결을 상징합니다. 열쇠를 얻으면 문이 열리고, 잃으면 기회를 놓칩니다.', luck: 'good' },
        { name: '자물쇠 꿈', meaning: '비밀과 보호를 상징합니다. 열리면 비밀이 풀리고, 잠기면 안전합니다.', luck: 'normal' },
        { name: '가방/보따리 꿈', meaning: '재물과 짐을 상징합니다. 가득 차면 풍요를, 비면 손실을 뜻합니다.', luck: 'normal' },
        { name: '지팡이 꿈', meaning: '지지와 권위를 상징합니다. 지팡이를 짚으면 도움이, 얻으면 귀인을 만납니다.', luck: 'good' },
        { name: '부채 꿈', meaning: '지위와 권세를 상징합니다. 부채질하면 일이 잘 풀리고, 접으면 은퇴나 휴식을 뜻합니다.', luck: 'good' },
        { name: '그릇/접시 꿈', meaning: '재물과 가정을 상징합니다. 가득 차면 풍요를, 깨지면 손실이나 이별을 주의합니다.', luck: 'normal' },
        { name: '솥/냄비 꿈', meaning: '가정과 풍요를 상징합니다. 음식이 끓으면 번창하고, 비면 빈곤을 주의합니다.', luck: 'normal' },
        { name: '수저 꿈', meaning: '먹거리와 복을 상징합니다. 수저를 받으면 복이, 잃으면 손실을 뜻합니다.', luck: 'good' },
        { name: '도장/인장 꿈', meaning: '권한과 승인을 상징합니다. 도장을 찍으면 일이 성사되고, 옥새는 큰 권위를 뜻합니다.', luck: 'good' },
        { name: '빗/빗자루 꿈', meaning: '정리와 정화를 상징합니다. 빗질하면 근심이 풀리고, 청소하면 문제가 해결됩니다.', luck: 'good' },
        { name: '화장품 꿈', meaning: '외모와 변화를 상징합니다. 화장하면 새로워지고, 받으면 인기를 얻습니다.', luck: 'good' },
        { name: '인형 꿈', meaning: '동심과 추억을 상징합니다. 인형을 받으면 사랑을, 안으면 외로움을 달랩니다.', luck: 'good' },
        { name: '장난감 꿈', meaning: '즐거움과 휴식을 상징합니다. 가지고 놀면 스트레스 해소를 뜻합니다.', luck: 'good' },
        { name: '악기 꿈', meaning: '표현과 조화를 상징합니다. 연주하면 인정받고, 소리가 좋으면 기쁜 소식입니다.', luck: 'good' },
        { name: '카메라 꿈', meaning: '기록과 추억을 상징합니다. 사진을 찍으면 기념할 일이, 찍히면 주목받습니다.', luck: 'good' },
        { name: '컴퓨터/휴대폰 꿈', meaning: '소통과 정보를 상징합니다. 새것은 새로운 기회를, 고장은 소통 장애를 뜻합니다.', luck: 'normal' },
        { name: '자동차 꿈', meaning: '인생의 방향을 상징합니다. 순조롭게 운전하면 잘 나아가고, 새 차는 발전을 뜻합니다.', luck: 'good' },
        { name: '배(선박) 꿈', meaning: '항해와 여정을 상징합니다. 순항하면 일이 잘 풀리고, 침몰하면 계획 변경이 필요합니다.', luck: 'normal' },
        { name: '비행기 꿈', meaning: '상승과 도약을 상징합니다. 이륙하면 새 시작이, 착륙하면 목표 달성입니다.', luck: 'good' },
        { name: '기차 꿈', meaning: '인생의 경로를 상징합니다. 타면 순조로움을, 놓치면 기회를 놓칩니다.', luck: 'normal' },
        { name: '자전거 꿈', meaning: '균형과 노력을 상징합니다. 잘 타면 스스로 해결하고, 넘어지면 도움이 필요합니다.', luck: 'normal' },
        { name: '침대/이불 꿈', meaning: '휴식과 안정을 상징합니다. 푹신하면 편안함을, 더러우면 건강을 점검하세요.', luck: 'normal' },
        { name: '옷 꿈', meaning: '외모와 지위를 상징합니다. 새 옷은 새로운 시작을, 비단옷은 귀한 일이 생깁니다.', luck: 'good' },
        { name: '신발 꿈', meaning: '인생의 여정을 상징합니다. 잘 맞으면 순조로움을, 잃으면 방향을 잃습니다.', luck: 'normal' },
        { name: '모자 꿈', meaning: '지위와 사고를 상징합니다. 쓰면 인정받고, 벗으면 겸손을 뜻합니다.', luck: 'good' },
        { name: '반지 꿈', meaning: '약속과 인연을 상징합니다. 끼면 맹세가, 빠지면 이별을 주의합니다.', luck: 'good' },
      ],
    },
    {
      emoji: '🫀',
      title: '신체 꿈',
      items: [
        { name: '머리/두뇌 꿈', meaning: '지혜와 사고를 상징합니다. 맑으면 좋은 생각이, 아프면 과로를 주의합니다.', luck: 'normal' },
        { name: '머리카락 꿈', meaning: '활력과 건강을 상징합니다. 풍성하면 건강하고, 빠지면 에너지 소모를 주의합니다.', luck: 'normal' },
        { name: '눈 꿈', meaning: '통찰력과 인식을 상징합니다. 밝으면 통찰력이, 흐리면 판단력 저하를 주의합니다.', luck: 'normal' },
        { name: '코 꿈', meaning: '자존심과 직감을 상징합니다. 높으면 자신감이, 막히면 답답함을 뜻합니다.', luck: 'normal' },
        { name: '귀 꿈', meaning: '소통과 정보를 상징합니다. 잘 들리면 좋은 소식이, 막히면 소통 장애를 뜻합니다.', luck: 'normal' },
        { name: '입/입술 꿈', meaning: '표현과 관계를 상징합니다. 말을 잘하면 설득력이, 다물면 비밀 유지를 뜻합니다.', luck: 'normal' },
        { name: '이빨 꿈', meaning: '건강과 가족을 상징합니다. 튼튼하면 건강하고, 빠지면 가족에게 일이 있을 수 있습니다.', luck: 'normal' },
        { name: '혀 꿈', meaning: '말과 맛을 상징합니다. 자유롭게 움직이면 표현력이, 묶이면 말 못함을 뜻합니다.', luck: 'normal' },
        { name: '목 꿈', meaning: '소통과 숨을 상징합니다. 시원하면 순조로움을, 조이면 압박을 받고 있습니다.', luck: 'normal' },
        { name: '어깨 꿈', meaning: '책임과 짐을 상징합니다. 넓으면 책임감이, 아프면 과부하를 주의합니다.', luck: 'normal' },
        { name: '팔 꿈', meaning: '능력과 행동을 상징합니다. 강하면 실행력이, 다치면 능력 제한을 뜻합니다.', luck: 'normal' },
        { name: '손 꿈', meaning: '기술과 관계를 상징합니다. 큰 손은 재주가, 작은 손은 섬세함을 뜻합니다.', luck: 'normal' },
        { name: '손가락 꿈', meaning: '세부 능력을 상징합니다. 엄지는 부모, 검지는 형제, 중지는 자신, 약지는 배우자, 소지는 자녀를 뜻합니다.', luck: 'normal' },
        { name: '가슴 꿈', meaning: '감정과 사랑을 상징합니다. 따뜻하면 사랑이, 아프면 감정적 상처를 뜻합니다.', luck: 'normal' },
        { name: '심장 꿈', meaning: '생명과 열정을 상징합니다. 뛰면 열정이, 멎으면 큰 변화를 예고합니다.', luck: 'normal' },
        { name: '배 꿈', meaning: '풍요와 소화를 상징합니다. 부르면 만족을, 아프면 소화 장애나 걱정을 뜻합니다.', luck: 'normal' },
        { name: '허리 꿈', meaning: '중심과 지지를 상징합니다. 곧으면 안정을, 아프면 기반이 흔들림을 주의합니다.', luck: 'normal' },
        { name: '다리 꿈', meaning: '전진과 지지를 상징합니다. 건강하면 순조로움을, 다치면 진행 방해를 뜻합니다.', luck: 'normal' },
        { name: '발 꿈', meaning: '기반과 방향을 상징합니다. 튼튼하면 안정을, 다치면 방향을 재고합니다.', luck: 'normal' },
        { name: '피 꿈', meaning: '생명력과 에너지를 상징합니다. 선홍색은 활력을, 흘리면 에너지 소모를 주의합니다.', luck: 'normal' },
        { name: '뼈 꿈', meaning: '기본과 구조를 상징합니다. 튼튼하면 기반이 좋고, 부러지면 기본이 흔들립니다.', luck: 'normal' },
        { name: '피부 꿈', meaning: '외모와 보호를 상징합니다. 깨끗하면 건강하고, 상처나면 외부 공격을 받습니다.', luck: 'normal' },
        { name: '날개 돋는 꿈', meaning: '자유와 상승을 상징합니다. 몸에 날개가 생기면 대길한 꿈으로, 큰 성취를 이룹니다.', luck: 'good' },
        { name: '목욕하는 꿈', meaning: '정화와 재생을 상징합니다. 직장을 옮기게 되거나 질병이 없어집니다.', luck: 'good' },
        { name: '발가벗는 꿈', meaning: '해방과 순수를 상징합니다. 전통적으로 좋은 일이 생긴다고 합니다.', luck: 'good' },
        { name: '임신하는 꿈', meaning: '창조와 새 시작을 상징합니다. 새 프로젝트나 아이디어가 탄생합니다.', luck: 'good' },
        { name: '출산하는 꿈', meaning: '완성과 결실을 상징합니다. 노력의 결과가 나타납니다.', luck: 'good' },
        { name: '병드는 꿈', meaning: '역설적으로 전통 해몽에서는 높은 벼슬에 오른다고 합니다.', luck: 'good' },
        { name: '죽는 꿈', meaning: '끝과 재탄생을 상징합니다. 자신이 죽으면 새로운 시작을 뜻하는 길몽입니다.', luck: 'good' },
      ],
    },
    {
      emoji: '🍚',
      title: '음식 꿈',
      items: [
        { name: '밥 꿈', meaning: '풍요와 기본을 상징합니다. 밥을 먹으면 만족을, 밥상을 받으면 경사가 있습니다.', luck: 'good' },
        { name: '국/찌개 꿈', meaning: '가정과 화목을 상징합니다. 끓이면 가정이 화목하고, 맛있으면 행복합니다.', luck: 'good' },
        { name: '고기 꿈', meaning: '재물과 활력을 상징합니다. 먹으면 에너지가, 굽으면 성과가 나타납니다.', luck: 'good' },
        { name: '생선 꿈', meaning: '재물과 지혜를 상징합니다. 잡으면 이익이, 먹으면 건강해집니다.', luck: 'good' },
        { name: '떡 꿈', meaning: '축하와 경사를 상징합니다. 떡을 받으면 좋은 일이, 나누면 복이 돌아옵니다.', luck: 'good' },
        { name: '과일 꿈', meaning: '수확과 성과를 상징합니다. 익은 과일은 성공을, 썩은 과일은 기회를 놓침을 뜻합니다.', luck: 'good' },
        { name: '채소 꿈', meaning: '건강과 성장을 상징합니다. 싱싱하면 건강하고, 시들면 주의가 필요합니다.', luck: 'normal' },
        { name: '술 꿈', meaning: '해방과 교류를 상징합니다. 높은 누각에서 마시면 부귀영화가, 손님과 함께 마시면 오래 삽니다.', luck: 'good' },
        { name: '물 꿈', meaning: '생명과 정화를 상징합니다. 맑은 물은 행운을, 흐린 물은 주의를 뜻합니다.', luck: 'normal' },
        { name: '우유 꿈', meaning: '양육과 풍요를 상징합니다. 마시면 건강해지고, 넘치면 풍요를 뜻합니다.', luck: 'good' },
        { name: '빵 꿈', meaning: '기본과 만족을 상징합니다. 먹으면 만족하고, 굽으면 결실을 뜻합니다.', luck: 'good' },
        { name: '국수/면 꿈', meaning: '장수와 인연을 상징합니다. 길면 장수를, 먹으면 좋은 인연을 뜻합니다.', luck: 'good' },
        { name: '케이크 꿈', meaning: '축하와 기쁨을 상징합니다. 먹으면 경사가, 촛불을 끄면 소원이 이루어집니다.', luck: 'good' },
        { name: '사탕/초콜릿 꿈', meaning: '달콤한 관계를 상징합니다. 먹으면 사랑이, 받으면 호감을 뜻합니다.', luck: 'good' },
        { name: '아이스크림 꿈', meaning: '일시적 즐거움을 상징합니다. 먹으면 기쁨이, 녹으면 기회를 잡으세요.', luck: 'normal' },
        { name: '김치 꿈', meaning: '한국의 정서와 건강을 상징합니다. 담그면 준비를, 맛있으면 성공을 뜻합니다.', luck: 'good' },
        { name: '비빔밥 꿈', meaning: '조화와 융합을 상징합니다. 먹으면 다양한 일이 조화를 이룹니다.', luck: 'good' },
        { name: '삼계탕 꿈', meaning: '보양과 회복을 상징합니다. 먹으면 건강해지고 기운을 얻습니다.', luck: 'good' },
        { name: '조상 음식 권유 꿈', meaning: '전통적으로 조상이 음식을 권하면 좋은 일이 있다고 합니다.', luck: 'good' },
      ],
    },
  ];

  return {
    summary: '꿈은 무의식이 보내는 메시지입니다. 전통 해몽서의 지혜로 꿈의 의미를 풀어드립니다.',
    dreamCategories,
    luckyInfo: {
      ...getYongsinBasedLuckyInfo(dayMaster),
      item: '달맞이꽃',
    },
  };
}

// ============================================
// 띠 운세 (12지 동물띠 기반)
// ============================================

const ZODIAC_ANIMALS: Record<number, {
  name: string;
  emoji: string;
  element: string;
  personality: string;
  detailedPersonality: string;
  strengths: string[];
  weaknesses: string[];
  luckyNumbers: number[];
  luckyColors: string[];
  luckyDirection: string;
  compatibleSigns: string[];
  incompatibleSigns: string[];
  careerAptitude: string;
  loveStyle: string;
  healthAdvice: string;
}> = {
  0: {
    name: '원숭이띠',
    emoji: '🐵',
    element: '금(金)',
    personality: '영리하고 재치 있으며 다재다능합니다.',
    detailedPersonality: '원숭이띠는 총명하고 영리하여 어떤 상황에서도 기지를 발휘합니다. 호기심이 강하고 새로운 것을 배우는 데 빠르며, 유머 감각이 뛰어나 주변을 즐겁게 합니다. 다재다능하여 여러 분야에서 능력을 발휘하지만, 가끔 끈기가 부족할 수 있습니다.',
    strengths: ['지능이 높고 학습 능력이 뛰어남', '임기응변에 능함', '유머러스하고 사교적', '창의적이고 혁신적', '문제 해결 능력이 탁월'],
    weaknesses: ['끈기가 부족할 수 있음', '가끔 교활하게 보일 수 있음', '한 가지에 집중하기 어려움', '과신하는 경향'],
    luckyNumbers: [4, 9],
    luckyColors: ['흰색', '금색', '파란색'],
    luckyDirection: '서쪽',
    compatibleSigns: ['쥐띠', '용띠'],
    incompatibleSigns: ['호랑이띠', '돼지띠'],
    careerAptitude: '컨설턴트, 변호사, 영업, 엔터테이너, 프로그래머, 마케터 등 두뇌를 활용하는 직종에 적합합니다.',
    loveStyle: '재미있고 유쾌한 연애를 즐기며, 상대를 웃게 만드는 재주가 있습니다. 다만 진지해지기까지 시간이 걸릴 수 있습니다.',
    healthAdvice: '신경계와 피부 건강에 주의하세요. 스트레스 관리가 중요합니다.',
  },
  1: {
    name: '닭띠',
    emoji: '🐔',
    element: '금(金)',
    personality: '부지런하고 성실하며 자신감이 있습니다.',
    detailedPersonality: '닭띠는 부지런하고 성실하여 맡은 일은 반드시 완수합니다. 시간 관념이 철저하고 계획적이며, 외모와 이미지를 중시합니다. 자신감이 넘치고 솔직하지만, 가끔 비판적으로 보일 수 있습니다.',
    strengths: ['부지런하고 성실함', '시간 약속을 철저히 지킴', '꼼꼼하고 세심함', '자신감과 용기가 있음', '솔직하고 정직함'],
    weaknesses: ['지나치게 비판적일 수 있음', '자기주장이 강함', '완벽주의 성향', '가끔 허영심이 있음'],
    luckyNumbers: [4, 9],
    luckyColors: ['금색', '갈색', '노란색'],
    luckyDirection: '서쪽',
    compatibleSigns: ['소띠', '뱀띠'],
    incompatibleSigns: ['토끼띠', '개띠'],
    careerAptitude: '회계사, 연구원, 작가, 언론인, 디자이너, 공무원 등 세밀함이 필요한 직종에 적합합니다.',
    loveStyle: '낭만적이고 헌신적인 연인이지만, 상대에게도 높은 기준을 요구할 수 있습니다.',
    healthAdvice: '호흡기와 피부 건강에 주의하세요. 충분한 휴식이 필요합니다.',
  },
  2: {
    name: '개띠',
    emoji: '🐕',
    element: '토(土)',
    personality: '충직하고 정의로우며 의리가 있습니다.',
    detailedPersonality: '개띠는 충직하고 의리가 있어 한 번 맺은 인연을 소중히 합니다. 정의감이 강하고 불의를 보면 참지 못하며, 가족과 친구를 위해 헌신합니다. 솔직하고 진실되지만, 가끔 비관적이거나 걱정이 많을 수 있습니다.',
    strengths: ['충성심이 강함', '정의롭고 공정함', '책임감이 강함', '믿음직스러움', '용감하고 보호 본능이 있음'],
    weaknesses: ['걱정이 많음', '가끔 비관적', '고집이 셀 수 있음', '변화를 싫어함'],
    luckyNumbers: [5, 10],
    luckyColors: ['초록색', '빨간색', '보라색'],
    luckyDirection: '동쪽',
    compatibleSigns: ['호랑이띠', '말띠', '토끼띠'],
    incompatibleSigns: ['용띠', '양띠', '닭띠'],
    careerAptitude: '경찰, 군인, 사회복지사, 변호사, 교사, 의료인 등 정의와 봉사가 필요한 직종에 적합합니다.',
    loveStyle: '한 사람에게 충실하고 헌신적인 연인입니다. 신뢰를 중시하며, 배신에는 쉽게 용서하지 않습니다.',
    healthAdvice: '소화기와 비장 건강에 주의하세요. 스트레스로 인한 위장 장애에 조심하세요.',
  },
  3: {
    name: '돼지띠',
    emoji: '🐷',
    element: '수(水)',
    personality: '낙천적이고 순수하며 복이 많습니다.',
    detailedPersonality: '돼지띠는 낙천적이고 순수하여 주변을 밝게 합니다. 성격이 좋고 인정이 많아 사람들에게 사랑받으며, 물질적 복이 많아 풍요로운 삶을 살 가능성이 높습니다. 다만 순진해서 가끔 이용당할 수 있으니 주의가 필요합니다.',
    strengths: ['낙천적이고 긍정적', '순수하고 선량함', '관대하고 너그러움', '인내심이 강함', '물질적 복이 많음'],
    weaknesses: ['순진하여 이용당할 수 있음', '게으름 피울 수 있음', '충동적인 소비 성향', '우유부단할 수 있음'],
    luckyNumbers: [1, 6],
    luckyColors: ['노란색', '회색', '갈색'],
    luckyDirection: '북쪽',
    compatibleSigns: ['양띠', '토끼띠'],
    incompatibleSigns: ['뱀띠', '원숭이띠'],
    careerAptitude: '요리사, 예술가, 음악가, 접객업, 자선사업, 농업 등 사람을 즐겁게 하는 직종에 적합합니다.',
    loveStyle: '다정다감하고 포용력이 넓어 좋은 연인이 됩니다. 상대를 편안하게 해주는 능력이 있습니다.',
    healthAdvice: '신장과 방광 건강에 주의하세요. 과식과 과음을 피하고 규칙적인 운동을 하세요.',
  },
  4: {
    name: '쥐띠',
    emoji: '🐀',
    element: '수(水)',
    personality: '똑똒하고 기민하며 적응력이 뛰어납니다.',
    detailedPersonality: '쥐띠는 영리하고 기민하여 어떤 환경에서도 적응을 잘합니다. 관찰력이 뛰어나고 기회를 빨리 포착하며, 알뜰하고 저축 정신이 강합니다. 사교적이지만 가끔 계산적으로 보일 수 있습니다.',
    strengths: ['영리하고 총명함', '적응력이 뛰어남', '알뜰하고 절약 정신이 강함', '기회 포착 능력이 탁월', '사교성이 좋음'],
    weaknesses: ['가끔 계산적으로 보임', '소심할 수 있음', '비밀이 많음', '집착하는 경향'],
    luckyNumbers: [1, 6],
    luckyColors: ['파란색', '금색', '초록색'],
    luckyDirection: '북쪽',
    compatibleSigns: ['원숭이띠', '용띠', '소띠'],
    incompatibleSigns: ['말띠', '양띠'],
    careerAptitude: '금융업, 상업, 작가, 변호사, 정치인, 연구원 등 두뇌를 활용하는 직종에 적합합니다.',
    loveStyle: '세심하고 다정하지만, 질투심이 있을 수 있습니다. 상대의 작은 변화도 빨리 알아챕니다.',
    healthAdvice: '신장과 방광 건강에 주의하세요. 충분한 수분 섭취가 중요합니다.',
  },
  5: {
    name: '소띠',
    emoji: '🐂',
    element: '토(土)',
    personality: '근면 성실하고 인내심이 강합니다.',
    detailedPersonality: '소띠는 근면 성실하여 묵묵히 자신의 길을 갑니다. 인내심이 강하고 책임감이 투철하며, 가족을 위해 헌신합니다. 신뢰할 수 있는 사람이지만, 가끔 고집이 세고 융통성이 부족할 수 있습니다.',
    strengths: ['근면 성실함', '인내심이 강함', '책임감이 투철', '신뢰할 수 있음', '가족을 소중히 여김'],
    weaknesses: ['고집이 셀 수 있음', '융통성이 부족', '표현력이 부족', '변화에 느린 적응'],
    luckyNumbers: [5, 10],
    luckyColors: ['흰색', '노란색', '초록색'],
    luckyDirection: '남쪽',
    compatibleSigns: ['쥐띠', '뱀띠', '닭띠'],
    incompatibleSigns: ['양띠', '말띠', '개띠'],
    careerAptitude: '농업, 부동산, 은행업, 교육, 의료, 엔지니어 등 꾸준함이 필요한 직종에 적합합니다.',
    loveStyle: '진지하고 헌신적인 연인입니다. 천천히 사랑에 빠지지만 한 번 빠지면 깊이 사랑합니다.',
    healthAdvice: '소화기와 비장 건강에 주의하세요. 규칙적인 식사가 중요합니다.',
  },
  6: {
    name: '호랑이띠',
    emoji: '🐯',
    element: '목(木)',
    personality: '용맹하고 자존심이 강하며 리더십이 있습니다.',
    detailedPersonality: '호랑이띠는 용맹하고 당당하여 타고난 리더입니다. 자존심이 강하고 정의감이 있으며, 도전을 두려워하지 않습니다. 카리스마가 있지만, 가끔 성급하거나 독단적일 수 있습니다.',
    strengths: ['용감하고 당당함', '리더십이 뛰어남', '정의감이 강함', '도전 정신이 있음', '카리스마가 있음'],
    weaknesses: ['성급할 수 있음', '독단적인 경향', '고집이 셈', '감정 기복이 있을 수 있음'],
    luckyNumbers: [3, 8],
    luckyColors: ['파란색', '회색', '오렌지색'],
    luckyDirection: '동쪽',
    compatibleSigns: ['말띠', '개띠'],
    incompatibleSigns: ['원숭이띠', '뱀띠'],
    careerAptitude: '경영인, 군인, 운동선수, 정치인, 모험가, 탐험가 등 리더십이 필요한 직종에 적합합니다.',
    loveStyle: '열정적이고 보호 본능이 강한 연인입니다. 상대를 향한 헌신이 크지만 독점욕도 있습니다.',
    healthAdvice: '간과 담낭 건강에 주의하세요. 분노 조절이 건강에 중요합니다.',
  },
  7: {
    name: '토끼띠',
    emoji: '🐰',
    element: '목(木)',
    personality: '온순하고 상냥하며 예술적 감각이 있습니다.',
    detailedPersonality: '토끼띠는 온순하고 상냥하여 누구에게나 사랑받습니다. 예술적 감각이 뛰어나고 아름다운 것을 좋아하며, 평화를 사랑합니다. 외교적이고 세련되지만, 가끔 우유부단하거나 소심할 수 있습니다.',
    strengths: ['온순하고 상냥함', '예술적 감각이 뛰어남', '외교적이고 세련됨', '평화를 사랑함', '직관력이 좋음'],
    weaknesses: ['우유부단할 수 있음', '갈등을 피하는 성향', '소심할 수 있음', '현실 도피 경향'],
    luckyNumbers: [3, 8],
    luckyColors: ['빨간색', '분홍색', '보라색', '파란색'],
    luckyDirection: '동쪽',
    compatibleSigns: ['양띠', '돼지띠', '개띠'],
    incompatibleSigns: ['닭띠'],
    careerAptitude: '예술가, 디자이너, 음악가, 외교관, 상담사, 작가 등 감성이 필요한 직종에 적합합니다.',
    loveStyle: '로맨틱하고 다정한 연인입니다. 편안하고 아름다운 관계를 추구합니다.',
    healthAdvice: '간과 눈 건강에 주의하세요. 스트레스 관리가 중요합니다.',
  },
  8: {
    name: '용띠',
    emoji: '🐲',
    element: '토(土)',
    personality: '카리스마 있고 야망이 크며 운이 좋습니다.',
    detailedPersonality: '용띠는 카리스마가 넘치고 야망이 커서 큰 꿈을 꿉니다. 동양에서 가장 상서로운 동물로, 타고난 운이 좋습니다. 자신감이 넘치고 에너지가 강하지만, 가끔 오만하거나 완벽주의적일 수 있습니다.',
    strengths: ['카리스마가 있음', '야망이 크고 목표 지향적', '운이 좋음', '자신감이 넘침', '에너지와 열정이 강함'],
    weaknesses: ['오만해 보일 수 있음', '완벽주의 성향', '독선적인 경향', '쉽게 분노할 수 있음'],
    luckyNumbers: [5, 10],
    luckyColors: ['금색', '은색', '회색'],
    luckyDirection: '동쪽',
    compatibleSigns: ['쥐띠', '원숭이띠', '닭띠'],
    incompatibleSigns: ['개띠', '토끼띠'],
    careerAptitude: '기업가, 정치인, 연예인, 운동선수, CEO, 예술가 등 큰 무대가 필요한 직종에 적합합니다.',
    loveStyle: '열정적이고 관대한 연인입니다. 상대에게 최고의 것을 주려 하지만 기대도 큽니다.',
    healthAdvice: '소화기와 비장 건강에 주의하세요. 스트레스로 인한 위장 장애에 조심하세요.',
  },
  9: {
    name: '뱀띠',
    emoji: '🐍',
    element: '화(火)',
    personality: '지혜롭고 신중하며 직관력이 뛰어납니다.',
    detailedPersonality: '뱀띠는 지혜롭고 신중하여 깊은 사고력을 가지고 있습니다. 직관력이 뛰어나고 통찰력이 있으며, 겉으로는 차분하지만 내면은 열정적입니다. 신비로운 매력이 있지만, 가끔 의심이 많거나 질투심이 생길 수 있습니다.',
    strengths: ['지혜롭고 통찰력이 있음', '직관력이 뛰어남', '신중하고 계획적', '차분하고 침착함', '신비로운 매력'],
    weaknesses: ['의심이 많을 수 있음', '질투심이 있음', '비밀스러움', '가끔 냉정해 보임'],
    luckyNumbers: [2, 7],
    luckyColors: ['빨간색', '밝은 노란색', '검은색'],
    luckyDirection: '남쪽',
    compatibleSigns: ['소띠', '닭띠'],
    incompatibleSigns: ['호랑이띠', '돼지띠'],
    careerAptitude: '철학자, 연구원, 심리학자, 탐정, 의사, 점술가 등 깊은 통찰이 필요한 직종에 적합합니다.',
    loveStyle: '깊고 강렬한 사랑을 합니다. 신비로운 매력으로 상대를 끌어당기지만 독점욕이 강합니다.',
    healthAdvice: '심장과 소장 건강에 주의하세요. 명상이나 요가가 도움이 됩니다.',
  },
  10: {
    name: '말띠',
    emoji: '🐴',
    element: '화(火)',
    personality: '활발하고 사교적이며 자유를 사랑합니다.',
    detailedPersonality: '말띠는 활발하고 에너지가 넘쳐 어디서나 분위기 메이커입니다. 사교적이고 외향적이며, 자유를 사랑하고 모험을 즐깁니다. 열정적이지만, 가끔 끈기가 부족하거나 충동적일 수 있습니다.',
    strengths: ['활발하고 에너지가 넘침', '사교적이고 외향적', '자유롭고 독립적', '열정적이고 긍정적', '모험심이 강함'],
    weaknesses: ['끈기가 부족할 수 있음', '충동적인 경향', '인내심이 부족', '과시욕이 있을 수 있음'],
    luckyNumbers: [2, 7],
    luckyColors: ['노란색', '초록색'],
    luckyDirection: '남쪽',
    compatibleSigns: ['호랑이띠', '양띠', '개띠'],
    incompatibleSigns: ['쥐띠', '소띠'],
    careerAptitude: '여행가, 운동선수, 세일즈, 엔터테이너, 기자, 마케터 등 활동적인 직종에 적합합니다.',
    loveStyle: '자유롭고 열정적인 연애를 즐깁니다. 구속받는 것을 싫어하며 상대의 독립성도 존중합니다.',
    healthAdvice: '심장과 소장 건강에 주의하세요. 과로를 피하고 충분한 휴식이 필요합니다.',
  },
  11: {
    name: '양띠',
    emoji: '🐑',
    element: '토(土)',
    personality: '온화하고 예술적이며 동정심이 많습니다.',
    detailedPersonality: '양띠는 온화하고 부드러워 사람들에게 편안함을 줍니다. 예술적 감각이 뛰어나고 창의력이 있으며, 동정심이 많아 남을 잘 돕습니다. 다만 너무 착해서 이용당하거나 우유부단할 수 있습니다.',
    strengths: ['온화하고 부드러움', '예술적 감각이 뛰어남', '창의력이 있음', '동정심과 공감 능력이 높음', '적응력이 좋음'],
    weaknesses: ['우유부단할 수 있음', '의존적인 경향', '걱정이 많음', '비관적일 수 있음'],
    luckyNumbers: [5, 10],
    luckyColors: ['초록색', '빨간색', '보라색'],
    luckyDirection: '남쪽',
    compatibleSigns: ['토끼띠', '말띠', '돼지띠'],
    incompatibleSigns: ['소띠', '개띠'],
    careerAptitude: '예술가, 디자이너, 간호사, 상담사, 교사, 자선사업 등 감성과 봉사가 필요한 직종에 적합합니다.',
    loveStyle: '따뜻하고 헌신적인 연인입니다. 상대에게 편안함과 안정을 주며, 낭만적인 사랑을 합니다.',
    healthAdvice: '소화기와 비장 건강에 주의하세요. 균형 잡힌 식사가 중요합니다.',
  },
};

// 2026년 병오년(말띠 해) 기준 띠별 운세
// 병(丙)은 화(火), 오(午)는 말띠이며 화(火)의 기운
// 오(午)와의 관계: 삼합(인오술-화국), 육합(미), 상충(자), 상해(축), 상형(오-자형)
const ANIMAL_YEARLY_FORTUNE: Record<number, {
  overall: string;
  score: number;
  wealth: { content: string; score: number };
  career: { content: string; score: number };
  love: { content: string; score: number };
  health: { content: string; score: number };
  advice: string;
}> = {
  0: { // 원숭이띠 (申) - 오(午)와 특별한 관계 없음
    overall: '2026년은 원숭이띠에게 안정적인 해입니다. 지혜를 발휘하여 기회를 잡을 수 있습니다.',
    score: 75,
    wealth: { content: '안정적인 재물운입니다. 신중한 투자가 좋은 결과를 가져옵니다.', score: 73 },
    career: { content: '꾸준한 노력이 인정받습니다. 급하게 서두르지 마세요.', score: 75 },
    love: { content: '기존 관계가 더욱 돈독해질 수 있습니다.', score: 72 },
    health: { content: '스트레스 관리에 신경 쓰세요.', score: 70 },
    advice: '차분하게 계획을 세우고 실행하세요.',
  },
  1: { // 닭띠 (酉) - 오(午)와 특별한 관계 없음
    overall: '2026년은 닭띠에게 도전의 해입니다. 새로운 기회에 적극적으로 임하세요.',
    score: 76,
    wealth: { content: '노력한 만큼 결실이 있습니다. 부수입의 기회가 있을 수 있습니다.', score: 74 },
    career: { content: '능력을 보여줄 기회가 많습니다. 자신감을 가지세요.', score: 78 },
    love: { content: '솔직한 대화가 관계 발전의 열쇠입니다.', score: 72 },
    health: { content: '규칙적인 생활이 건강 유지에 도움됩니다.', score: 70 },
    advice: '완벽주의보다 실행력이 중요한 해입니다.',
  },
  2: { // 개띠 (戌) - 오술(午戌) 반합(화국의 일부)
    overall: '2026년은 개띠에게 발전의 해입니다. 오술 반합으로 화(火)의 좋은 기운이 있습니다.',
    score: 82,
    wealth: { content: '재물운이 상승합니다. 투자에 좋은 시기입니다.', score: 80 },
    career: { content: '승진이나 새로운 기회가 찾아옵니다. 적극적으로 도전하세요.', score: 85 },
    love: { content: '열정적인 만남이 기대됩니다. 인연운이 좋습니다.', score: 80 },
    health: { content: '활력이 넘치지만 과로에 주의하세요.', score: 75 },
    advice: '적극적인 자세가 행운을 부릅니다.',
  },
  3: { // 돼지띠 (亥) - 오(午)와 특별한 관계 없음
    overall: '2026년은 돼지띠에게 평온한 해입니다. 안정 속에서 준비하는 시간으로 삼으세요.',
    score: 72,
    wealth: { content: '큰 변동 없이 안정적인 재물운입니다. 저축을 권합니다.', score: 70 },
    career: { content: '현재 위치에서 실력을 다지세요.', score: 72 },
    love: { content: '편안한 관계가 이어집니다.', score: 74 },
    health: { content: '소화기 건강에 신경 쓰세요.', score: 68 },
    advice: '무리하지 말고 내실을 다지는 해로 삼으세요.',
  },
  4: { // 쥐띠 (子) - 오자충(午子冲) 상충!
    overall: '2026년은 쥐띠에게 주의가 필요한 해입니다. 오자충(午子冲)으로 말띠 해와 상충합니다.',
    score: 58,
    wealth: { content: '재물 손실에 주의하세요. 무리한 투자나 보증은 피하세요.', score: 55 },
    career: { content: '직장에서 변동이 있을 수 있습니다. 신중하게 대처하세요.', score: 58 },
    love: { content: '갈등이 생기기 쉽습니다. 대화로 풀어가세요.', score: 55 },
    health: { content: '건강 관리에 특히 신경 쓰세요. 정기 검진을 권합니다.', score: 52 },
    advice: '올해는 큰 결정을 미루고, 겸손하게 처신하세요. 붉은색 소품이 액막이에 도움됩니다.',
  },
  5: { // 소띠 (丑) - 오축상해(午丑相害)
    overall: '2026년은 소띠에게 인내가 필요한 해입니다. 오축상해로 갈등의 기운이 있습니다.',
    score: 62,
    wealth: { content: '재물 관리에 신중하세요. 예상치 못한 지출이 있을 수 있습니다.', score: 60 },
    career: { content: '인간관계에서 오해가 생길 수 있습니다. 신중하게 처신하세요.', score: 62 },
    love: { content: '오해를 풀기 위한 대화가 필요합니다.', score: 58 },
    health: { content: '스트레스 관리에 힘쓰세요.', score: 60 },
    advice: '참을 인(忍)자를 새기세요. 겸손과 인내가 필요한 해입니다.',
  },
  6: { // 호랑이띠 (寅) - 인오술 삼합(화국)!
    overall: '2026년은 호랑이띠에게 대길의 해입니다! 인오술 삼합으로 화(火)의 강한 기운이 돕습니다.',
    score: 88,
    wealth: { content: '재물운이 크게 상승합니다. 투자나 사업 확장에 좋은 시기입니다.', score: 88 },
    career: { content: '승진, 성공의 기회가 많습니다. 리더십을 발휘하세요.', score: 90 },
    love: { content: '열정적인 만남이 기대됩니다. 결혼운도 좋습니다.', score: 85 },
    health: { content: '활력이 넘칩니다. 에너지를 잘 활용하세요.', score: 82 },
    advice: '올해는 적극적으로 도전하세요! 큰 성과를 거둘 수 있습니다.',
  },
  7: { // 토끼띠 (卯) - 오(午)와 특별한 관계 없음
    overall: '2026년은 토끼띠에게 순조로운 해입니다. 차분하게 목표를 향해 나아가세요.',
    score: 74,
    wealth: { content: '안정적인 수입이 이어집니다. 저축에 좋은 해입니다.', score: 72 },
    career: { content: '꾸준한 노력이 결실을 맺습니다.', score: 75 },
    love: { content: '부드러운 관계가 이어집니다. 소통을 중시하세요.', score: 76 },
    health: { content: '전반적으로 양호합니다.', score: 74 },
    advice: '급하지 않게, 자신의 페이스를 유지하세요.',
  },
  8: { // 용띠 (辰) - 오(午)와 특별한 관계 없음
    overall: '2026년은 용띠에게 안정적인 해입니다. 작년의 성과를 다지는 시간으로 삼으세요.',
    score: 76,
    wealth: { content: '안정적인 재물운입니다. 무리한 확장보다 내실을 다지세요.', score: 74 },
    career: { content: '기존 업무에서 좋은 성과가 있습니다.', score: 78 },
    love: { content: '관계가 더욱 깊어질 수 있습니다.', score: 75 },
    health: { content: '규칙적인 생활을 유지하세요.', score: 72 },
    advice: '내실을 다지며 다음 도약을 준비하세요.',
  },
  9: { // 뱀띠 (巳) - 오(午)와 특별한 관계 없음
    overall: '2026년은 뱀띠에게 발전의 해입니다. 지혜를 발휘할 기회가 많습니다.',
    score: 78,
    wealth: { content: '재물운이 좋습니다. 신중한 투자가 수익을 가져옵니다.', score: 77 },
    career: { content: '전문성이 인정받습니다. 자신감을 가지세요.', score: 80 },
    love: { content: '깊은 인연을 만날 수 있습니다.', score: 75 },
    health: { content: '전반적으로 양호하나 과로에 주의하세요.', score: 72 },
    advice: '지혜롭게 기회를 포착하세요.',
  },
  10: { // 말띠 (午) - 본명년!
    overall: '2026년은 말띠에게 본명년입니다. 자기 자신을 돌아보고 새롭게 시작하는 해입니다.',
    score: 68,
    wealth: { content: '본명년에는 재물의 변동이 있을 수 있습니다. 보수적으로 관리하세요.', score: 65 },
    career: { content: '큰 변화보다 내실을 다지는 것이 좋습니다.', score: 68 },
    love: { content: '자신을 먼저 돌보세요. 관계도 더 깊어질 수 있습니다.', score: 70 },
    health: { content: '건강 관리에 특히 신경 쓰세요. 정기 검진을 권합니다.', score: 62 },
    advice: '본명년에는 붉은색 소품을 지니면 액막이가 됩니다. 겸손하게 처신하세요.',
  },
  11: { // 양띠 (未) - 오미육합(午未合)!
    overall: '2026년은 양띠에게 대길의 해입니다! 오미육합으로 말띠 해와 합하여 좋은 기운이 가득합니다.',
    score: 86,
    wealth: { content: '재물운이 크게 상승합니다. 협력을 통한 이익이 큽니다.', score: 85 },
    career: { content: '인정받고 승진하는 기회가 많습니다. 적극적으로 임하세요.', score: 88 },
    love: { content: '좋은 인연이 찾아옵니다. 결혼운도 좋습니다.', score: 85 },
    health: { content: '마음이 편안하여 건강도 좋습니다.', score: 80 },
    advice: '올해의 좋은 기운을 적극 활용하세요! 큰 성과가 기대됩니다.',
  },
};

// 띠별 월별 상세 운세 생성
function generateAnimalMonthlyFortune(animalIndex: number): Array<{month: number; content: string; luck: 'good' | 'normal' | 'bad'}> {
  // 띠별 삼합/육합/충/형/해 관계를 기반으로 월별 운세 결정
  // 인오술(삼합-화), 해묘미(삼합-목), 신자진(삼합-수), 사유축(삼합-금)
  // 자축합, 인해합, 묘술합, 진유합, 사신합, 오미합
  // 자오충, 축미충, 인신충, 묘유충, 진술충, 사해충

  const animalNames = ['원숭이', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
  const animalName = animalNames[animalIndex];

  // 지지: 자축인묘진사오미신유술해
  // 0=신, 1=유, 2=술, 3=해, 4=자, 5=축, 6=인, 7=묘, 8=진, 9=사, 10=오, 11=미
  const branches = ['신', '유', '술', '해', '자', '축', '인', '묘', '진', '사', '오', '미'];
  const myBranch = branches[animalIndex];

  // 월별 지지 (음력 기준)
  // 1월=인, 2월=묘, 3월=진, 4월=사, 5월=오, 6월=미, 7월=신, 8월=유, 9월=술, 10월=해, 11월=자, 12월=축
  const monthBranches = ['인', '묘', '진', '사', '오', '미', '신', '유', '술', '해', '자', '축'];

  // 삼합 관계 (대길)
  const samhap: Record<string, string[]> = {
    '인': ['오', '술'], '오': ['인', '술'], '술': ['인', '오'],  // 인오술 화국
    '해': ['묘', '미'], '묘': ['해', '미'], '미': ['해', '묘'],  // 해묘미 목국
    '신': ['자', '진'], '자': ['신', '진'], '진': ['신', '자'],  // 신자진 수국
    '사': ['유', '축'], '유': ['사', '축'], '축': ['사', '유'],  // 사유축 금국
  };

  // 육합 관계 (길)
  const yukhap: Record<string, string> = {
    '자': '축', '축': '자', '인': '해', '해': '인',
    '묘': '술', '술': '묘', '진': '유', '유': '진',
    '사': '신', '신': '사', '오': '미', '미': '오',
  };

  // 충 관계 (흉)
  const chung: Record<string, string> = {
    '자': '오', '오': '자', '축': '미', '미': '축',
    '인': '신', '신': '인', '묘': '유', '유': '묘',
    '진': '술', '술': '진', '사': '해', '해': '사',
  };

  // 월별 상세 운세 생성
  const monthlyFortunes = monthBranches.map((monthBranch, index) => {
    const month = index + 1;
    let luck: 'good' | 'normal' | 'bad' = 'normal';
    let content = '';

    // 삼합 확인 (대길)
    if (samhap[myBranch]?.includes(monthBranch)) {
      luck = 'good';
      content = generateDetailedMonthContent(animalName, month, 'samhap', monthBranch, myBranch);
    }
    // 육합 확인 (길)
    else if (yukhap[myBranch] === monthBranch) {
      luck = 'good';
      content = generateDetailedMonthContent(animalName, month, 'yukhap', monthBranch, myBranch);
    }
    // 충 확인 (흉)
    else if (chung[myBranch] === monthBranch) {
      luck = 'bad';
      content = generateDetailedMonthContent(animalName, month, 'chung', monthBranch, myBranch);
    }
    // 일반
    else {
      content = generateDetailedMonthContent(animalName, month, 'normal', monthBranch, myBranch);
    }

    return { month, content, luck };
  });

  return monthlyFortunes;
}

// 월별 상세 내용 생성
function generateDetailedMonthContent(
  animalName: string,
  month: number,
  relation: 'samhap' | 'yukhap' | 'chung' | 'normal',
  monthBranch: string,
  myBranch: string
): string {
  const monthNames = ['정월', '이월', '삼월', '사월', '오월', '유월', '칠월', '팔월', '구월', '시월', '십일월', '십이월'];
  const seasonalTerms: Record<number, string[]> = {
    1: ['입춘(立春)', '우수(雨水)'],
    2: ['경칩(驚蟄)', '춘분(春分)'],
    3: ['청명(淸明)', '곡우(穀雨)'],
    4: ['입하(立夏)', '소만(小滿)'],
    5: ['망종(芒種)', '하지(夏至)'],
    6: ['소서(小暑)', '대서(大暑)'],
    7: ['입추(立秋)', '처서(處暑)'],
    8: ['백로(白露)', '추분(秋分)'],
    9: ['한로(寒露)', '상강(霜降)'],
    10: ['입동(立冬)', '소설(小雪)'],
    11: ['대설(大雪)', '동지(冬至)'],
    12: ['소한(小寒)', '대한(大寒)'],
  };

  const branchElements: Record<string, string> = {
    '자': '수(水)', '축': '토(土)', '인': '목(木)', '묘': '목(木)',
    '진': '토(土)', '사': '화(火)', '오': '화(火)', '미': '토(土)',
    '신': '금(金)', '유': '금(金)', '술': '토(土)', '해': '수(水)',
  };

  const monthElement = branchElements[monthBranch];
  const [term1, term2] = seasonalTerms[month];

  if (relation === 'samhap') {
    return `【${month}월 ${monthNames[month - 1]} 운세 - 삼합(三合) 대길】

${animalName}띠에게 ${month}월은 삼합의 기운이 작용하는 대길(大吉)의 달입니다.
이 달의 지지 ${monthBranch}(${monthElement})가 당신의 띠와 삼합을 이루어 강력한 조화의 기운이 발생합니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 삼합의 강력한 기운으로 사업 확장, 계약 체결, 승진에 최적입니다. 파트너십이나 협업에서 큰 성과가 기대됩니다. 새로운 프로젝트 시작에도 좋습니다.

• 재물운: 투자나 재테크에 좋은 시기입니다. 그동안 준비했던 것들이 결실을 맺어 수익으로 이어집니다. 부수입이나 횡재수도 있을 수 있습니다.

• 인간관계: 귀인이 나타나 도움을 줄 수 있습니다. 인맥 확장에 좋으며, 중요한 만남이 있을 수 있습니다. 네트워킹 활동에 적극 참여하세요.

• 건강운: 전반적으로 활력이 넘칩니다. 에너지가 높아 많은 일을 해낼 수 있지만, 과로에는 주의하세요.

• 조언: 삼합의 기운을 십분 활용하세요. 중요한 결정, 새로운 시작, 도전에 과감하게 임하면 좋은 결과가 따릅니다.`;
  }

  if (relation === 'yukhap') {
    return `【${month}월 ${monthNames[month - 1]} 운세 - 육합(六合) 길】

${animalName}띠에게 ${month}월은 육합의 기운이 작용하는 길(吉)한 달입니다.
이 달의 지지 ${monthBranch}(${monthElement})가 당신의 띠와 육합하여 조화롭고 안정된 기운이 흐릅니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 협력과 합작에 좋은 시기입니다. 팀워크가 빛을 발하며, 상사나 동료와의 관계가 좋아집니다. 안정적인 성과를 거둘 수 있습니다.

• 재물운: 꾸준한 수입이 이어지며, 합작 투자나 공동 사업에서 이익이 기대됩니다. 큰 모험보다는 안정적인 재테크가 좋습니다.

• 인간관계: 연인, 가족, 친구와의 관계가 더욱 돈독해집니다. 결혼을 고려하는 분들에게 좋은 시기입니다. 오해가 있던 관계도 회복됩니다.

• 건강운: 마음이 편안해지며 건강도 안정적입니다. 스트레스가 줄어들고 심신이 조화롭습니다.

• 조언: 육합의 기운은 합(合)을 의미합니다. 혼자보다 함께할 때 더 좋은 결과를 얻을 수 있습니다. 화합과 협력을 중시하세요.`;
  }

  if (relation === 'chung') {
    return `【${month}월 ${monthNames[month - 1]} 운세 - 상충(相冲) 주의】

${animalName}띠에게 ${month}월은 상충의 기운이 작용하는 주의(注意)가 필요한 달입니다.
이 달의 지지 ${monthBranch}(${monthElement})가 당신의 띠와 충(冲)하여 변동과 갈등의 기운이 있습니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 예상치 못한 변동이 있을 수 있습니다. 중요한 결정이나 계약은 가능하면 다음 달로 미루세요. 직장 내 갈등에 주의하고, 감정적 대응을 삼가세요.

• 재물운: 재물의 유출에 주의하세요. 무리한 투자, 보증, 도박은 피하세요. 예상치 못한 지출이 생길 수 있으니 비상금을 확보해 두세요.

• 인간관계: 오해나 갈등이 생기기 쉽습니다. 말조심하고, 중요한 대화는 신중하게 하세요. 감정에 휘둘리지 말고 이성적으로 대처하세요.

• 건강운: 사고나 부상에 주의하세요. 특히 교통사고, 낙상 등 외부 충격에 조심하고, 무리한 운동을 피하세요. 충분한 휴식이 필요합니다.

• 조언: 충(冲)의 기운은 변화와 이동을 암시합니다. 이사, 여행, 큰 결정은 피하는 것이 좋습니다. 붉은색 소품을 지니면 액막이에 도움이 됩니다. 겸손하고 신중하게 행동하세요.`;
  }

  // normal
  const normalContents: Record<number, string> = {
    1: `【${month}월 ${monthNames[month - 1]} 운세 - 인월(寅月)】

${animalName}띠에게 ${month}월은 새해의 시작과 함께 새로운 기운이 시작되는 달입니다.
인(寅)의 목(木) 기운이 만물을 소생시키듯, 새로운 계획과 시작에 적합합니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 연초 계획을 세우고 차분히 준비하는 시기입니다. 새로운 프로젝트나 목표 설정에 좋습니다. 급하게 추진하기보다 기반을 다지세요.

• 재물운: 안정적인 재정 관리가 필요합니다. 불필요한 지출을 줄이고 저축 습관을 들이세요. 연초 투자는 신중하게 검토 후 결정하세요.

• 인간관계: 새로운 만남의 기회가 있습니다. 신년 모임이나 행사에 참여하면 좋은 인연을 만날 수 있습니다.

• 건강운: 겨울철 면역력 관리가 중요합니다. 감기와 독감에 주의하고, 충분한 휴식을 취하세요.

• 조언: 일년지계재어춘(一年之計在於春) - 봄의 계획이 일년을 좌우합니다. 체계적인 목표와 계획을 세우세요.`,

    2: `【${month}월 ${monthNames[month - 1]} 운세 - 묘월(卯月)】

${animalName}띠에게 ${month}월은 봄기운이 본격적으로 시작되는 생동감 넘치는 달입니다.
묘(卯)의 목(木) 기운이 활발해지며 성장과 발전의 기운이 흐릅니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 1월에 세운 계획을 본격적으로 실행에 옮기세요. 아이디어가 샘솟고 창의력이 높아집니다. 팀 프로젝트에서 좋은 성과가 기대됩니다.

• 재물운: 수입이 안정적으로 유지됩니다. 새로운 수입원을 찾는 것도 좋지만, 검증되지 않은 투자에는 주의하세요.

• 인간관계: 사교 활동이 활발해집니다. 오래된 친구와의 재회나 새로운 인연이 있을 수 있습니다.

• 건강운: 환절기 건강 관리에 신경 쓰세요. 알레르기나 감기에 주의하고, 규칙적인 운동을 시작하세요.

• 조언: 봄의 새싹처럼 서서히 성장하세요. 조급함을 버리고 꾸준히 노력하면 좋은 결실을 맺습니다.`,

    3: `【${month}월 ${monthNames[month - 1]} 운세 - 진월(辰月)】

${animalName}띠에게 ${month}월은 봄기운이 절정에 달하는 역동적인 달입니다.
진(辰)은 용의 지지로, 변화와 도약의 기운이 강합니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 적극적인 행동이 좋은 결과로 이어집니다. 새로운 기회가 찾아올 수 있으니 준비된 자세를 유지하세요. 이직이나 창업을 고려한다면 구체적인 계획을 세우세요.

• 재물운: 수입이 증가할 가능성이 있습니다. 합작 투자나 협력 사업에서 좋은 소식이 기대됩니다.

• 인간관계: 네트워킹이 활발해집니다. 중요한 모임이나 행사에 참석하면 귀인을 만날 수 있습니다.

• 건강운: 활력이 넘치지만 과로에 주의하세요. 야외 활동을 통해 스트레스를 해소하세요.

• 조언: 용처럼 과감하게 도전하되, 현실적인 판단도 잊지 마세요. 기회를 잡을 준비를 하세요.`,

    4: `【${month}월 ${monthNames[month - 1]} 운세 - 사월(巳月)】

${animalName}띠에게 ${month}월은 봄에서 여름으로 넘어가는 전환기입니다.
사(巳)의 화(火) 기운이 서서히 강해지며 열정과 활력이 넘칩니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 진행 중인 업무에 집중하세요. 새로운 도전보다는 기존 일의 완성도를 높이는 것이 좋습니다. 상반기 마무리를 향해 박차를 가하세요.

• 재물운: 지출과 수입의 균형을 맞추세요. 충동 구매를 자제하고 계획적인 소비를 하세요.

• 인간관계: 가까운 사람들과 갈등이 있을 수 있습니다. 상대의 입장을 이해하고 대화로 풀어가세요.

• 건강운: 더위에 대비하세요. 수분 섭취를 충분히 하고, 컨디션 관리에 신경 쓰세요.

• 조언: 정중동(靜中動) - 고요함 속에서 내실을 다지세요. 외부 활동보다 내면의 충전이 필요한 시기입니다.`,

    5: `【${month}월 ${monthNames[month - 1]} 운세 - 오월(午月)】

${animalName}띠에게 ${month}월은 화(火) 기운이 가장 강한 한 해의 정점입니다.
오(午)는 말의 지지로, 열정과 에너지가 절정에 달합니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 열정을 발휘할 좋은 시기입니다. 중요한 발표, 프레젠테이션, 협상에서 좋은 결과가 기대됩니다. 적극적인 자세가 승진이나 성과로 이어집니다.

• 재물운: 투자 수익이 기대됩니다. 그동안 준비했던 일에서 성과가 나타날 수 있습니다. 다만 과욕은 금물입니다.

• 인간관계: 사회적 인정과 명예가 따릅니다. 자신감 있게 의견을 표현하세요. 리더십을 발휘할 기회가 있습니다.

• 건강운: 화(火) 기운이 강해 심장과 혈압 관리가 필요합니다. 과도한 음주와 자극적인 음식을 피하세요.

• 조언: 철은 뜨거울 때 두드려라 - 기회가 왔을 때 주저하지 마세요. 열정을 현명하게 활용하세요.`,

    6: `【${month}월 ${monthNames[month - 1]} 운세 - 미월(未月)】

${animalName}띠에게 ${month}월은 무더운 여름의 한복판, 휴식과 충전이 필요한 달입니다.
미(未)의 토(土) 기운이 열기를 식히며 안정을 가져옵니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 상반기 성과를 정리하고 하반기를 준비하세요. 무리한 추진보다는 기존 업무의 완성에 집중하세요. 휴가를 통해 재충전하세요.

• 재물운: 큰 지출에 주의하세요. 여름휴가 비용 등 예상치 못한 지출이 있을 수 있으니 미리 계획하세요.

• 인간관계: 가족과의 시간이 중요합니다. 휴가를 활용해 가족 여행이나 모임을 가지세요.

• 건강운: 더위로 인한 체력 저하에 주의하세요. 충분한 수면과 시원한 음식으로 건강을 유지하세요.

• 조언: 더위를 피해 그늘에서 쉬듯, 이 달은 무리하지 말고 충전하세요. 재충전이 하반기 성공의 밑거름이 됩니다.`,

    7: `【${month}월 ${monthNames[month - 1]} 운세 - 신월(申月)】

${animalName}띠에게 ${month}월은 가을의 시작과 함께 새로운 기운이 도래하는 달입니다.
신(申)의 금(金) 기운이 수확과 결실의 기운을 가져옵니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 상반기 노력의 결실이 나타납니다. 새로운 기회가 찾아올 수 있으니 적극적으로 임하세요. 하반기 목표를 재정비하세요.

• 재물운: 예상치 못한 수입이 생길 수 있습니다. 투자 수익이나 보너스가 기대됩니다. 현명한 재테크를 고려하세요.

• 인간관계: 멘토나 귀인을 만날 수 있습니다. 조언을 구하고 겸손한 자세를 유지하세요.

• 건강운: 기력이 회복됩니다. 규칙적인 생활과 적절한 운동으로 체력을 보강하세요.

• 조언: 가을은 수확의 계절입니다. 그동안의 노력에 감사하며 결실을 거두세요. 새로운 도전도 좋습니다.`,

    8: `【${month}월 ${monthNames[month - 1]} 운세 - 유월(酉月)】

${animalName}띠에게 ${month}월은 가을이 깊어지는 풍요로운 달입니다.
유(酉)의 금(金) 기운이 결실과 풍요를 상징합니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 안정적인 성과가 이어집니다. 현재 업무에 충실하면서 연말을 향한 준비를 하세요. 팀원들과의 협력이 중요합니다.

• 재물운: 평균적인 재물운이지만 안정적입니다. 추석 명절 지출을 미리 계획하세요.

• 인간관계: 가족과의 화합이 중요합니다. 추석을 통해 오랫동안 보지 못한 가족과 만나세요.

• 건강운: 환절기 건강 관리에 신경 쓰세요. 호흡기 질환과 피부 트러블에 주의하세요.

• 조언: 가화만사성(家和萬事成) - 가정의 화목이 모든 일의 근본입니다. 가족에게 감사를 표현하세요.`,

    9: `【${month}월 ${monthNames[month - 1]} 운세 - 술월(戌月)】

${animalName}띠에게 ${month}월은 가을이 저물어가는 성찰의 달입니다.
술(戌)의 토(土) 기운이 내면의 성장과 학습을 돕습니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 자기계발에 투자하기 좋은 시기입니다. 새로운 기술이나 자격증 취득을 고려하세요. 연말 평가를 위한 준비를 시작하세요.

• 재물운: 교육이나 자기계발에 대한 투자가 미래의 재물을 가져옵니다. 불필요한 지출은 줄이세요.

• 인간관계: 깊이 있는 대화를 나누세요. 피상적인 관계보다 진정한 우정을 쌓는 것이 좋습니다.

• 건강운: 정신적으로 명료해지는 시기입니다. 독서나 명상으로 마음을 수양하세요.

• 조언: 배움에는 때가 없습니다. 이 달의 학습과 성찰이 내년의 발전으로 이어집니다.`,

    10: `【${month}월 ${monthNames[month - 1]} 운세 - 해월(亥月)】

${animalName}띠에게 ${month}월은 겨울의 시작과 함께 내면을 돌아보는 달입니다.
해(亥)의 수(水) 기운이 지혜와 통찰을 가져옵니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 연말 마무리를 준비하세요. 올해 진행한 프로젝트를 정리하고, 내년 계획을 세우기 시작하세요. 말조심이 필요합니다.

• 재물운: 지출 관리에 신경 쓰세요. 연말 행사나 모임으로 예상치 못한 비용이 생길 수 있습니다.

• 인간관계: 오해가 생기기 쉬운 시기입니다. 의사소통을 명확히 하고, 감정적인 대응을 피하세요.

• 건강운: 추위에 대비하세요. 면역력 관리와 충분한 수면이 중요합니다.

• 조언: 침묵이 금인 시기입니다. 말보다 행동으로 보여주고, 신중하게 처신하세요.`,

    11: `【${month}월 ${monthNames[month - 1]} 운세 - 자월(子月)】

${animalName}띠에게 ${month}월은 한 해를 마무리하고 성과를 정리하는 달입니다.
자(子)의 수(水) 기운이 지혜와 마무리의 힘을 줍니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 연말 평가와 마무리에 집중하세요. 올해의 성과를 정리하고, 내년 목표를 구체화하세요. 좋은 평가가 기대됩니다.

• 재물운: 연말 보너스나 성과급이 기대됩니다. 연말 지출을 계획적으로 관리하세요.

• 인간관계: 송년회나 모임이 많아집니다. 감사의 마음을 전하고, 한 해를 함께한 사람들과 화합하세요.

• 건강운: 한파에 대비하세요. 규칙적인 생활과 적절한 휴식으로 건강을 유지하세요.

• 조언: 유종의 미(有終之美)를 거두세요. 시작이 좋았으면 끝도 좋아야 합니다. 마무리에 최선을 다하세요.`,

    12: `【${month}월 ${monthNames[month - 1]} 운세 - 축월(丑月)】

${animalName}띠에게 ${month}월은 한 해의 마지막 달로, 새해를 준비하는 시기입니다.
축(丑)의 토(土) 기운이 안정과 준비를 돕습니다.

📅 절기: ${term1}, ${term2}

• 사업/직장운: 내년 사업 계획을 세우세요. 올해의 성과와 실패를 분석하고, 개선점을 찾으세요. 차분하게 준비하면 새해 좋은 시작을 할 수 있습니다.

• 재물운: 연말 정산과 재정 점검에 좋습니다. 불필요한 구독이나 지출을 정리하고, 내년 재정 목표를 세우세요.

• 인간관계: 올 한 해 도움 준 사람들에게 감사를 표현하세요. 연말 인사를 통해 관계를 돈독히 하세요.

• 건강운: 혹한에 대비해 면역력을 높이세요. 따뜻한 음식과 충분한 수면으로 건강을 유지하세요.

• 조언: 온고지신(溫故知新) - 옛것을 익히고 새것을 배우세요. 지난 한 해를 돌아보며 내년의 성장을 준비하세요.`,
  };

  return normalContents[month];
}

function getAnimalSign(birthYear: number): number {
  return birthYear % 12;
}

// 천간에 따른 띠 색상 (전통 명칭)
const STEM_ZODIAC_COLORS: Record<string, string> = {
  '갑': '푸른', '을': '푸른',   // 목(木) = 청색/푸른색
  '병': '붉은', '정': '붉은',   // 화(火) = 적색/붉은색
  '무': '노란', '기': '노란',   // 토(土) = 황색/노란색
  '경': '흰', '신': '흰',       // 금(金) = 백색/흰색
  '임': '검은', '계': '검은',   // 수(水) = 흑색/검은색
};

// 띠운세 카테고리별 상세 풀이 생성
function generateDetailedAnimalWealth(animalIndex: number, score: number, yearElement: string): string {
  const animalNames = ['원숭이', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
  const animalName = animalNames[animalIndex];

  // 점수 구간별 상세 풀이
  if (score >= 85) {
    return `【${animalName}띠 재물운 - 대길(大吉)】

2026년 병오(丙午)년은 ${animalName}띠에게 재물운이 크게 상승하는 해입니다. ${yearElement}의 기운이 강하게 작용하여 금전적 행운이 따릅니다.

▶ 정재운(正財運): 직장이나 사업에서 안정적인 수입이 늘어납니다. 특히 상반기에 급여 인상이나 보너스를 기대할 수 있습니다. 꾸준히 쌓아온 실력이 금전적 보상으로 이어지는 시기입니다.

▶ 편재운(偏財運): 투자나 부업에서 예상치 못한 수익을 얻을 가능성이 높습니다. 부동산, 주식, 코인 등 재테크에서 좋은 결과를 기대할 수 있으나, 지나친 욕심은 경계해야 합니다.

▶ 지출 관리: 수입이 늘어나는 만큼 지출도 커질 수 있습니다. 계획적인 소비와 저축을 병행하면 연말에 큰 재산 증식을 이룰 수 있습니다.

▶ 투자 시기: 3월, 6월, 9월이 특히 재물운이 강한 달입니다. 이 시기에 중요한 금전 결정을 내리면 좋은 결과를 얻을 수 있습니다.

※ 조언: "물이 깊어야 큰 물고기가 산다"는 말처럼, 단기 이익보다 장기적인 재산 형성에 집중하세요.`;
  } else if (score >= 75) {
    return `【${animalName}띠 재물운 - 길(吉)】

2026년 병오(丙午)년 ${animalName}띠의 재물운은 안정적으로 상승하는 흐름입니다. ${yearElement}의 기운이 조화롭게 작용합니다.

▶ 정재운(正財運): 본업에서의 수입은 꾸준히 유지됩니다. 큰 변동 없이 안정적인 금전 흐름이 예상되며, 성실한 노력이 급여나 매출 증가로 이어질 수 있습니다.

▶ 편재운(偏財運): 횡재보다는 노력에 비례한 수익이 기대됩니다. 무리한 투자보다 안정적인 저축이나 적금을 권합니다. 소액 투자는 긍정적인 결과를 가져올 수 있습니다.

▶ 지출 주의: 예상치 못한 지출이 발생할 수 있으니 비상금을 마련해 두세요. 특히 가전제품 고장이나 경조사비 등에 대비하면 좋겠습니다.

▶ 길한 달: 2월, 5월, 8월에 재물운이 더욱 좋아집니다. 이 시기에 중요한 계약이나 거래를 진행하면 유리합니다.

※ 조언: "티끌 모아 태산"이라는 속담처럼, 작은 절약이 모여 큰 재산이 됩니다. 불필요한 소비를 줄이세요.`;
  } else if (score >= 65) {
    return `【${animalName}띠 재물운 - 평(平)】

2026년 병오(丙午)년 ${animalName}띠의 재물운은 평온한 흐름을 보입니다. ${yearElement}의 영향으로 큰 변동 없이 현상 유지가 예상됩니다.

▶ 정재운(正財運): 수입은 현재 수준을 유지합니다. 급격한 상승은 없지만 감소도 없으니 안정적인 생활이 가능합니다. 본업에 충실하며 실력을 쌓는 시기로 삼으세요.

▶ 편재운(偏財運): 투기성 투자는 삼가고 원금 보장 상품 위주로 운용하세요. 새로운 사업 시작보다 기존 일에 집중하는 것이 현명합니다.

▶ 지출 관리: 불필요한 충동구매를 자제하고, 월별 예산을 세워 계획적으로 소비하세요. 특히 4월과 10월에 큰 지출이 예상됩니다.

▶ 주의 사항: 금전 거래에서 서류를 꼼꼼히 확인하세요. 보증이나 빚 보증은 피하는 것이 좋습니다.

※ 조언: "급할수록 돌아가라"는 말을 기억하세요. 무리한 재테크보다 안전한 방법을 선택하세요.`;
  } else {
    return `【${animalName}띠 재물운 - 주의(注意)】

2026년 병오(丙午)년 ${animalName}띠는 재물운에 주의가 필요한 해입니다. ${yearElement}의 기운이 충돌하여 금전 손실 위험이 있습니다.

▶ 정재운(正財運): 수입 감소나 예상치 못한 지출이 발생할 수 있습니다. 지금까지의 수입원을 잘 지키고, 새로운 수입원 확보에 노력하세요.

▶ 편재운(偏財運): 올해는 투자에 신중해야 합니다. 주식, 코인, 부동산 등 고위험 투자는 피하고, 원금 손실 위험이 없는 안전자산 위주로 운용하세요.

▶ 손재(損財) 주의: 사기, 도난, 분실에 각별히 조심하세요. 큰 금액의 현금 소지는 피하고, 중요한 계약은 전문가와 상담 후 진행하세요.

▶ 대비 방법:
- 비상금을 충분히 확보하세요 (3~6개월 생활비)
- 보증, 투자 권유는 정중히 거절하세요
- 붉은색 지갑이나 소품이 재물운 보호에 도움됩니다

※ 조언: "돌다리도 두드려 보고 건너라"는 말을 명심하세요. 모든 금전 거래에 신중을 기하세요.`;
  }
}

function generateDetailedAnimalCareer(animalIndex: number, score: number, yearElement: string): string {
  const animalNames = ['원숭이', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
  const animalName = animalNames[animalIndex];

  if (score >= 85) {
    return `【${animalName}띠 직장/사업운 - 대길(大吉)】

2026년 병오(丙午)년은 ${animalName}띠에게 직장과 사업 모두에서 큰 성과를 기대할 수 있는 해입니다. ${yearElement}의 기운이 성공을 이끕니다.

▶ 직장인 운세:
승진과 발탁의 기회가 많습니다. 상반기에 중요한 프로젝트를 맡게 되며, 이를 성공적으로 마무리하면 하반기에 인정받게 됩니다. 연봉 협상이나 이직에도 좋은 시기입니다.

▶ 사업자 운세:
새로운 거래처 확보와 매출 증가가 기대됩니다. 사업 확장이나 신규 사업 진출에 적합한 해입니다. 특히 6월~9월 사이에 좋은 사업 기회가 찾아옵니다.

▶ 구직자 운세:
취업운이 강합니다. 원하는 분야에 취업할 가능성이 높으며, 3월과 8월에 좋은 소식을 들을 수 있습니다.

▶ 대인관계:
상사, 동료와의 관계가 원만합니다. 팀워크를 통해 큰 성과를 이룰 수 있으니 협력을 중시하세요.

▶ 길한 달: 3월(진월), 6월(오월), 9월(유월)
※ 조언: 리더십을 발휘하되 겸손함을 잃지 마세요. "높은 나무에 바람이 거세다"는 것을 기억하세요.`;
  } else if (score >= 75) {
    return `【${animalName}띠 직장/사업운 - 길(吉)】

2026년 병오(丙午)년 ${animalName}띠의 직장/사업운은 순조로운 상승세입니다. ${yearElement}의 기운이 조화롭게 작용합니다.

▶ 직장인 운세:
꾸준한 노력이 인정받는 해입니다. 급격한 승진보다는 안정적인 성장을 기대할 수 있습니다. 자기계발에 투자하면 미래에 큰 도움이 됩니다.

▶ 사업자 운세:
기존 사업의 안정적인 운영이 가능합니다. 무리한 확장보다 내실을 다지는 데 집중하세요. 기존 거래처와의 관계 강화가 중요합니다.

▶ 구직자 운세:
인내심을 가지고 꾸준히 준비하면 좋은 결과가 있습니다. 5월과 10월에 면접 기회가 많습니다.

▶ 대인관계:
동료들과의 협력이 중요합니다. 팀 프로젝트에서 좋은 성과를 낼 수 있습니다.

※ 조언: "천 리 길도 한 걸음부터"라는 말처럼, 작은 성과들이 모여 큰 성공이 됩니다.`;
  } else if (score >= 65) {
    return `【${animalName}띠 직장/사업운 - 평(平)】

2026년 병오(丙午)년 ${animalName}띠의 직장/사업운은 현상 유지의 흐름입니다. ${yearElement}의 영향으로 안정을 추구하는 것이 현명합니다.

▶ 직장인 운세:
현재 직장에서의 안정을 유지하세요. 이직이나 전직은 신중하게 고려하고, 현재 업무에 충실한 것이 좋습니다.

▶ 사업자 운세:
공격적인 투자나 확장보다 수성(守成)에 집중하세요. 기존 고객 관리와 품질 향상에 주력하면 좋겠습니다.

▶ 구직자 운세:
즉시 취업보다 자격증 취득이나 스킬 향상에 시간을 투자하면 내년에 더 좋은 기회가 옵니다.

▶ 주의 사항:
직장 내 불필요한 갈등을 피하세요. 정치적인 상황에 휘말리지 않도록 중립을 지키는 것이 현명합니다.

※ 조언: "참을 인(忍)자 세 번이면 살인도 면한다"는 말을 기억하세요. 인내가 필요한 해입니다.`;
  } else {
    return `【${animalName}띠 직장/사업운 - 주의(注意)】

2026년 병오(丙午)년 ${animalName}띠는 직장과 사업에서 변동이 예상되는 해입니다. ${yearElement}의 기운이 충돌하여 신중함이 필요합니다.

▶ 직장인 운세:
직장 내 변화가 있을 수 있습니다. 구조조정, 부서 이동, 업무 변경 등에 대비하세요. 이직을 고려한다면 하반기가 상반기보다 낫습니다.

▶ 사업자 운세:
매출 감소나 거래처 이탈에 주의하세요. 새로운 사업 시작보다 기존 사업 유지에 집중하고, 비용 절감에 힘쓰세요.

▶ 구직자 운세:
취업까지 시간이 걸릴 수 있습니다. 눈높이를 조절하고 다양한 기회에 도전하세요.

▶ 대처 방법:
- 인맥 관리에 신경 쓰세요 (귀인의 도움이 중요)
- 기술 습득과 자격증 취득으로 경쟁력을 높이세요
- 갈등 상황에서는 한 발 물러서는 지혜가 필요합니다

※ 조언: "어려울 때 친구가 진짜 친구"입니다. 주변의 조언에 귀 기울이세요.`;
  }
}

function generateDetailedAnimalLove(animalIndex: number, score: number, yearElement: string): string {
  const animalNames = ['원숭이', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
  const animalName = animalNames[animalIndex];

  if (score >= 80) {
    return `【${animalName}띠 애정운 - 대길(大吉)】

2026년 병오(丙午)년은 ${animalName}띠에게 사랑이 꽃피는 해입니다. ${yearElement}의 열정적인 기운이 인연을 이끕니다.

▶ 미혼자 운세:
좋은 인연을 만날 확률이 높습니다. 특히 봄(3~5월)과 가을(9~10월)에 운명적인 만남이 기대됩니다. 소개팅, 미팅, 모임에 적극 참여하세요.

▶ 연인 있는 분:
관계가 한 단계 발전합니다. 프로포즈나 약혼, 결혼을 계획하기에 좋은 해입니다. 6월과 11월이 특히 좋은 시기입니다.

▶ 기혼자 운세:
부부 사이가 더욱 돈독해집니다. 함께하는 여행이나 이벤트가 관계를 더욱 깊게 만들어 줍니다. 새로운 가족 구성원(임신, 출산)의 기쁜 소식도 기대됩니다.

▶ 도화(桃花)살 운세:
이성에게 매력이 느껴지는 시기입니다. 다만 지나친 인기로 인한 삼각관계는 주의하세요.

※ 조언: "사랑은 주는 것"이라는 말을 기억하세요. 받는 것보다 주는 것에 집중하면 더 큰 사랑이 돌아옵니다.`;
  } else if (score >= 70) {
    return `【${animalName}띠 애정운 - 길(吉)】

2026년 병오(丙午)년 ${animalName}띠의 애정운은 순조로운 흐름입니다. ${yearElement}의 기운이 조화로운 인연을 가져옵니다.

▶ 미혼자 운세:
새로운 만남이 있습니다. 첫눈에 반하는 인연보다 서서히 정이 드는 인연이 오래갑니다. 친구의 소개로 좋은 사람을 만날 수 있습니다.

▶ 연인 있는 분:
안정적인 교제가 이어집니다. 서로에 대한 이해가 깊어지며 결혼을 진지하게 고민하게 됩니다.

▶ 기혼자 운세:
일상적인 행복을 느끼는 해입니다. 대화를 통해 서로의 마음을 확인하고, 작은 이벤트로 사랑을 표현하세요.

▶ 주의 사항:
오해가 생길 수 있으니 솔직한 대화를 나누세요. 특히 7월에 다툼이 있을 수 있으니 주의하세요.

※ 조언: "말 한마디로 천 냥 빚을 갚는다"고 합니다. 따뜻한 말 한마디가 관계를 더욱 깊게 합니다.`;
  } else if (score >= 60) {
    return `【${animalName}띠 애정운 - 평(平)】

2026년 병오(丙午)년 ${animalName}띠의 애정운은 평온한 흐름입니다. ${yearElement}의 영향으로 급격한 변화보다 현상 유지가 예상됩니다.

▶ 미혼자 운세:
새로운 인연을 만나기보다 자기 자신에게 집중하는 시기입니다. 외모나 내면을 가꾸면 내년에 더 좋은 인연이 찾아옵니다.

▶ 연인 있는 분:
권태기가 올 수 있습니다. 새로운 데이트 코스나 취미 활동을 함께하며 관계에 활력을 불어넣으세요.

▶ 기혼자 운세:
일상의 무료함을 느낄 수 있습니다. 부부 여행이나 함께하는 취미가 관계 개선에 도움됩니다.

▶ 주의 사항:
상대방에 대한 기대치를 조절하세요. 완벽한 상대는 없다는 것을 인정하고 서로의 단점을 포용하세요.

※ 조언: "가까운 곳에 인연이 있다"고 합니다. 먼 곳보다 가까운 사람에게 관심을 기울여 보세요.`;
  } else {
    return `【${animalName}띠 애정운 - 주의(注意)】

2026년 병오(丙午)년 ${animalName}띠는 애정운에 주의가 필요한 해입니다. ${yearElement}의 기운이 충돌하여 갈등이 예상됩니다.

▶ 미혼자 운세:
급하게 인연을 찾기보다 자기 발전에 집중하세요. 올해 만나는 인연은 오래가기 어려울 수 있으니 신중하게 판단하세요.

▶ 연인 있는 분:
다툼과 오해가 잦을 수 있습니다. 사소한 일로 크게 싸우지 않도록 참을성을 기르세요. 이별을 결심했다면 하반기까지 기다려 보세요.

▶ 기혼자 운세:
부부 갈등이 예상됩니다. 서로의 입장을 이해하려 노력하고, 제3자의 개입은 피하세요. 부모님이나 친척과의 갈등이 부부관계에 영향을 줄 수 있습니다.

▶ 대처 방법:
- 감정적인 대화는 피하고 냉정할 때 대화하세요
- 붉은색 액세서리가 도화살을 막아줍니다
- 커플 상담이나 대화 기회를 만들어 보세요

※ 조언: "부부싸움은 칼로 물 베기"라고 합니다. 화가 나도 상처 주는 말은 삼가세요.`;
  }
}

function generateDetailedAnimalHealth(animalIndex: number, score: number, yearElement: string): string {
  const animalNames = ['원숭이', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
  const animalName = animalNames[animalIndex];

  // 띠별 오행과 취약 장기 매핑
  const animalHealthFocus: Record<number, { organ: string; advice: string }> = {
    0: { organ: '폐/대장', advice: '호흡기 질환과 피부 트러블에 주의' }, // 원숭이 - 금
    1: { organ: '폐/대장', advice: '목감기와 기관지에 주의' }, // 닭 - 금
    2: { organ: '비위/소화기', advice: '위장 건강과 소화 기능에 주의' }, // 개 - 토
    3: { organ: '신장/방광', advice: '수분 섭취와 비뇨기 건강에 주의' }, // 돼지 - 수
    4: { organ: '신장/방광', advice: '허리 건강과 비뇨기에 주의' }, // 쥐 - 수
    5: { organ: '비위/소화기', advice: '소화불량과 과식에 주의' }, // 소 - 토
    6: { organ: '간/담', advice: '간 건강과 눈 피로에 주의' }, // 호랑이 - 목
    7: { organ: '간/담', advice: '스트레스와 간 피로에 주의' }, // 토끼 - 목
    8: { organ: '비위/소화기', advice: '습기와 관절 건강에 주의' }, // 용 - 토
    9: { organ: '심장/소장', advice: '혈압과 심장 건강에 주의' }, // 뱀 - 화
    10: { organ: '심장/소장', advice: '스트레스와 심혈관에 주의' }, // 말 - 화
    11: { organ: '비위/소화기', advice: '소화기와 피부 건강에 주의' }, // 양 - 토
  };

  const healthFocus = animalHealthFocus[animalIndex];

  if (score >= 80) {
    return `【${animalName}띠 건강운 - 길(吉)】

2026년 병오(丙午)년은 ${animalName}띠에게 건강운이 좋은 해입니다. ${yearElement}의 기운이 활력을 더해줍니다.

▶ 전반적 건강:
신체적, 정신적 에너지가 충만합니다. 활동량을 늘려도 무리가 없으며, 새로운 운동이나 건강 습관을 시작하기에 좋은 시기입니다.

▶ 주의 장기 (${healthFocus.organ}):
${healthFocus.advice}. 올해는 이 부분이 상대적으로 약할 수 있으니 정기 검진을 권합니다.

▶ 계절별 건강 관리:
• 봄(3~5월): 알레르기와 환절기 질환에 주의
• 여름(6~8월): 냉방병과 식중독 예방
• 가을(9~11월): 건조한 피부와 호흡기 관리
• 겨울(12~2월): 면역력 강화와 보온에 신경

▶ 추천 건강 습관:
- 주 3회 이상 30분 유산소 운동
- 제철 과일과 채소 섭취
- 충분한 수면 (7~8시간)
- 스트레스 관리 (명상, 취미 활동)

※ 조언: "건강이 재산이다"는 말을 기억하세요. 좋은 건강운을 유지하기 위해 꾸준히 관리하세요.`;
  } else if (score >= 65) {
    return `【${animalName}띠 건강운 - 평(平)】

2026년 병오(丙午)년 ${animalName}띠의 건강운은 평온한 흐름입니다. ${yearElement}의 영향으로 큰 탈 없이 지나가지만 방심은 금물입니다.

▶ 전반적 건강:
큰 질병 없이 평탄하게 지나갈 수 있습니다. 다만 과로나 불규칙한 생활이 누적되면 면역력이 떨어질 수 있으니 주의하세요.

▶ 주의 장기 (${healthFocus.organ}):
${healthFocus.advice}. 특히 환절기에 이 부분을 집중 관리하세요.

▶ 주의할 달:
• 4월: 환절기 질환 주의
• 7월: 여름철 체력 저하 주의
• 10월: 가을 환절기 주의
• 1월: 겨울철 면역력 저하 주의

▶ 권장 사항:
- 정기 건강검진 (상반기 1회 권장)
- 규칙적인 식사와 수면
- 과음, 흡연 자제
- 스트레칭으로 근육 이완

※ 조언: "병은 키워서 고친다"는 말이 있습니다. 작은 증상도 무시하지 말고 조기에 관리하세요.`;
  } else {
    return `【${animalName}띠 건강운 - 주의(注意)】

2026년 병오(丙午)년 ${animalName}띠는 건강 관리에 특별한 주의가 필요한 해입니다. ${yearElement}의 기운이 충돌하여 체력 저하가 예상됩니다.

▶ 전반적 건강:
면역력 약화로 잔병치레가 있을 수 있습니다. 무리한 일정과 과로를 피하고, 충분한 휴식을 취하세요.

▶ 주의 장기 (${healthFocus.organ}):
${healthFocus.advice}. 올해는 이 부분에 특히 신경 쓰고, 정밀 검진을 권합니다.

▶ 특별 주의 사항:
• 교통사고, 낙상 등 외부 사고에 주의
• 수술이나 시술은 가능하면 연기
• 무리한 운동이나 격렬한 스포츠 자제
• 음주, 흡연을 줄이고 규칙적인 생활

▶ 건강 수호 방법:
- 연초에 종합 건강검진 필수
- 붉은색 속옷이나 소품으로 액막이
- 보약이나 건강식품으로 체력 보강
- 충분한 수면과 스트레스 관리

▶ 주의할 달: 1월, 4월, 7월, 10월 (환절기)

※ 조언: "호미로 막을 것을 가래로 막는다"고 합니다. 작은 증상도 조기에 치료하세요.`;
  }
}

export function generateAnimalFortune(birthDate: string, dayMaster: string = '갑') {
  const year = parseInt(birthDate.split('-')[0], 10);
  const animalIndex = getAnimalSign(year);
  const animal = ZODIAC_ANIMALS[animalIndex];
  const fortune = ANIMAL_YEARLY_FORTUNE[animalIndex];

  // 년간(천간)으로부터 띠 색상 및 오행 결정
  const yearGanji = getYearGanji(year);
  const yearElement = STEM_ELEMENTS[yearGanji.stem] || '목';
  const zodiacColor = STEM_ZODIAC_COLORS[yearGanji.stem] || '';
  const fullZodiacName = `${zodiacColor}${animal.name.replace('띠', '')}띠`;  // 예: 푸른쥐띠
  const yearHanja = `${yearGanji.stemHanja}${yearGanji.branchHanja}`;  // 예: 甲子

  return {
    summary: `${animal.emoji} ${fullZodiacName} (${yearHanja})\n${animal.personality}\n\n${fortune.overall}`,
    score: fortune.score,
    animalInfo: {
      name: fullZodiacName,  // 푸른쥐띠 형식으로 변경
      emoji: animal.emoji,
      element: `${STEM_ELEMENTS[yearGanji.stem]}(${yearGanji.stemHanja})`,  // 년간 오행 표시
      personality: animal.personality,
      yearHanja: yearHanja,  // 甲子 등 한자 정보 추가
      originalName: animal.name,  // 원래 띠 이름 보존
    },
    categories: [
      {
        emoji: '💰',
        title: '재물운',
        content: generateDetailedAnimalWealth(animalIndex, fortune.wealth.score, yearElement),
        score: fortune.wealth.score,
      },
      {
        emoji: '💼',
        title: '직장/사업운',
        content: generateDetailedAnimalCareer(animalIndex, fortune.career.score, yearElement),
        score: fortune.career.score,
      },
      {
        emoji: '❤️',
        title: '애정운',
        content: generateDetailedAnimalLove(animalIndex, fortune.love.score, yearElement),
        score: fortune.love.score,
      },
      {
        emoji: '🏥',
        title: '건강운',
        content: generateDetailedAnimalHealth(animalIndex, fortune.health.score, yearElement),
        score: fortune.health.score,
      },
    ],
    luckyInfo: getYongsinBasedLuckyInfo(dayMaster),
    monthly: generateAnimalMonthlyFortune(animalIndex),
    caution: fortune.advice,
  };
}

// ============================================
// 오늘의 길운 (Lucky Info - 명리학 용신론 기반)
// ============================================

// 일간(日干)별 용신 색상 - 명리학 용신론 기반
const YONGSHIN_COLORS: Record<string, { color: string; element: string; reason: string }> = {
  '갑': { color: '초록색', element: '목(木)', reason: '갑목 일간에게 목(木) 기운이 자신을 돕는 색입니다.' },
  '을': { color: '연두색', element: '목(木)', reason: '을목 일간에게 부드러운 목(木) 기운이 어울립니다.' },
  '병': { color: '빨간색', element: '화(火)', reason: '병화 일간에게 화(火) 기운이 활력을 더합니다.' },
  '정': { color: '분홍색', element: '화(火)', reason: '정화 일간에게 부드러운 화(火) 기운이 어울립니다.' },
  '무': { color: '노란색', element: '토(土)', reason: '무토 일간에게 토(土) 기운이 안정을 줍니다.' },
  '기': { color: '갈색', element: '토(土)', reason: '기토 일간에게 부드러운 토(土) 기운이 어울립니다.' },
  '경': { color: '흰색', element: '금(金)', reason: '경금 일간에게 금(金) 기운이 결단력을 더합니다.' },
  '신': { color: '은색', element: '금(金)', reason: '신금 일간에게 부드러운 금(金) 기운이 어울립니다.' },
  '임': { color: '검은색', element: '수(水)', reason: '임수 일간에게 수(水) 기운이 지혜를 더합니다.' },
  '계': { color: '파란색', element: '수(水)', reason: '계수 일간에게 부드러운 수(水) 기운이 어울립니다.' },
};

// 일간별 행운의 방향 - 오행 방위론 기반
const YONGSHIN_DIRECTIONS: Record<string, { direction: string; reason: string }> = {
  '갑': { direction: '동쪽', reason: '목(木) 기운은 동쪽에서 옵니다.' },
  '을': { direction: '동쪽', reason: '목(木) 기운은 동쪽에서 옵니다.' },
  '병': { direction: '남쪽', reason: '화(火) 기운은 남쪽에서 옵니다.' },
  '정': { direction: '남쪽', reason: '화(火) 기운은 남쪽에서 옵니다.' },
  '무': { direction: '중앙', reason: '토(土) 기운은 중앙에서 옵니다.' },
  '기': { direction: '중앙', reason: '토(土) 기운은 중앙에서 옵니다.' },
  '경': { direction: '서쪽', reason: '금(金) 기운은 서쪽에서 옵니다.' },
  '신': { direction: '서쪽', reason: '금(金) 기운은 서쪽에서 옵니다.' },
  '임': { direction: '북쪽', reason: '수(水) 기운은 북쪽에서 옵니다.' },
  '계': { direction: '북쪽', reason: '수(水) 기운은 북쪽에서 옵니다.' },
};

// 일간별 행운의 물건 - 오행 상생 기반
const YONGSHIN_ITEMS: Record<string, { item: string; reason: string }> = {
  '갑': { item: '관엽식물, 나무 소품', reason: '목(木) 기운을 북돋아 주는 물건입니다.' },
  '을': { item: '꽃다발, 허브화분', reason: '부드러운 목(木) 기운을 더해주는 물건입니다.' },
  '병': { item: '조명, 양초', reason: '화(火) 기운을 활성화하는 물건입니다.' },
  '정': { item: '향초, 따뜻한 음료', reason: '부드러운 화(火) 기운을 더해주는 물건입니다.' },
  '무': { item: '도자기, 흙 화분', reason: '토(土) 기운을 안정시키는 물건입니다.' },
  '기': { item: '크리스탈, 천연석', reason: '부드러운 토(土) 기운을 더해주는 물건입니다.' },
  '경': { item: '금속 장신구, 시계', reason: '금(金) 기운을 강화하는 물건입니다.' },
  '신': { item: '은 액세서리, 동전', reason: '부드러운 금(金) 기운을 더해주는 물건입니다.' },
  '임': { item: '수정, 어항', reason: '수(水) 기운을 활성화하는 물건입니다.' },
  '계': { item: '분수, 수반', reason: '부드러운 수(水) 기운을 더해주는 물건입니다.' },
};

// 일간별 피해야 할 것들 - 오행 상극 기반 (기신)
const GISHIN_WARNINGS: Record<string, { color: string; direction: string; reason: string }> = {
  '갑': { color: '흰색/은색', direction: '서쪽', reason: '금(金)이 목(木)을 극합니다.' },
  '을': { color: '흰색/은색', direction: '서쪽', reason: '금(金)이 목(木)을 극합니다.' },
  '병': { color: '검은색/파란색', direction: '북쪽', reason: '수(水)가 화(火)를 극합니다.' },
  '정': { color: '검은색/파란색', direction: '북쪽', reason: '수(水)가 화(火)를 극합니다.' },
  '무': { color: '초록색', direction: '동쪽', reason: '목(木)이 토(土)를 극합니다.' },
  '기': { color: '초록색', direction: '동쪽', reason: '목(木)이 토(土)를 극합니다.' },
  '경': { color: '빨간색', direction: '남쪽', reason: '화(火)가 금(金)을 극합니다.' },
  '신': { color: '빨간색', direction: '남쪽', reason: '화(火)가 금(金)을 극합니다.' },
  '임': { color: '노란색/갈색', direction: '중앙', reason: '토(土)가 수(水)를 극합니다.' },
  '계': { color: '노란색/갈색', direction: '중앙', reason: '토(土)가 수(水)를 극합니다.' },
};

// ============================================
// 5신 체계 (용신/희신/기신/구신/한신) - 명리학 핵심 이론
// 출처: 적천수(滴天髓), 자평진전(子平眞詮)
// ============================================

/**
 * 5신 체계 설명
 * - 용신(用神): 사주에서 가장 필요한 오행, 사주의 균형을 맞추는 핵심
 * - 희신(喜神): 용신을 돕는 오행, 용신을 생하거나 도움
 * - 기신(忌神): 용신을 극하거나 방해하는 오행
 * - 구신(仇神): 기신을 돕는 오행, 기신을 생함
 * - 한신(閑神): 사주에 영향이 미미한 중립적 오행
 */

// 오행 상극 관계
const FIVE_ELEMENTS_CONTROLS: Record<string, string> = {
  '목': '토', // 목극토
  '토': '수', // 토극수
  '수': '화', // 수극화
  '화': '금', // 화극금
  '금': '목', // 금극목
};

// 오행별 한자
const ELEMENT_HANJA: Record<string, string> = {
  '목': '木', '화': '火', '토': '土', '금': '金', '수': '水',
};

// 5신 분류 결과 타입
interface FiveSpiritAnalysis {
  yongsin: { element: string; hanja: string; description: string };
  heesin: { element: string; hanja: string; description: string };
  gisin: { element: string; hanja: string; description: string };
  gusin: { element: string; hanja: string; description: string };
  hansin: { element: string; hanja: string; description: string };
  summary: string;
  advice: string;
}

/**
 * 5신 분석 함수
 * 일간 오행과 사주 오행 분포를 기반으로 용신/희신/기신/구신/한신 분석
 * @param dayMasterElement 일간 오행 (목/화/토/금/수)
 * @param elements 사주 오행 분포 { 목: n, 화: n, 토: n, 금: n, 수: n }
 */
export function analyzeFiveSpirits(
  dayMasterElement: string,
  elements: Record<string, number>
): FiveSpiritAnalysis {
  // 일간이 강한지 약한지 판단 (비겁+인성 vs 식상+재성+관성)
  const myElement = dayMasterElement;
  const generatesMe = Object.keys(FIVE_ELEMENTS_GENERATES).find(
    k => FIVE_ELEMENTS_GENERATES[k] === myElement
  ) || '수';
  const iGenerate = FIVE_ELEMENTS_GENERATES[myElement];
  const iControl = FIVE_ELEMENTS_CONTROLS[myElement];
  const controlsMe = Object.keys(FIVE_ELEMENTS_CONTROLS).find(
    k => FIVE_ELEMENTS_CONTROLS[k] === myElement
  ) || '금';

  // 나를 돕는 세력 (비겁: 같은 오행, 인성: 나를 생하는 오행)
  const helpForce = (elements[myElement] || 0) + (elements[generatesMe] || 0);
  // 나를 약화시키는 세력 (식상, 재성, 관성)
  const weakenForce = (elements[iGenerate] || 0) + (elements[iControl] || 0) + (elements[controlsMe] || 0);

  const isStrong = helpForce > weakenForce;

  // 용신 결정 (억부용신 기준 - 적천수 이론)
  // 강하면 설기(식상/재성) 필요, 약하면 생조(인성/비겁) 필요
  let yongsinElement: string;
  let heesinElement: string;
  let gisinElement: string;
  let gusinElement: string;
  let hansinElement: string;

  if (isStrong) {
    // 일간이 강하면: 용신 = 식상(내가 생하는 것) 또는 재성(내가 극하는 것)
    yongsinElement = iGenerate; // 식상 (설기)
    heesinElement = iControl; // 재성 (용신 도움)
    gisinElement = generatesMe; // 인성 (용신 방해)
    gusinElement = myElement; // 비겁 (기신 도움)
    hansinElement = controlsMe; // 관성 (중립)
  } else {
    // 일간이 약하면: 용신 = 인성(나를 생하는 것) 또는 비겁(같은 오행)
    yongsinElement = generatesMe; // 인성 (생조)
    heesinElement = myElement; // 비겁 (용신 도움)
    gisinElement = controlsMe; // 관성 (용신 방해)
    gusinElement = iControl; // 재성 (기신 도움)
    hansinElement = iGenerate; // 식상 (중립)
  }

  return {
    yongsin: {
      element: yongsinElement,
      hanja: ELEMENT_HANJA[yongsinElement],
      description: `${yongsinElement}(${ELEMENT_HANJA[yongsinElement]}) - 사주에서 가장 필요한 오행입니다. 이 기운이 강해지면 운이 좋아집니다.`,
    },
    heesin: {
      element: heesinElement,
      hanja: ELEMENT_HANJA[heesinElement],
      description: `${heesinElement}(${ELEMENT_HANJA[heesinElement]}) - 용신을 돕는 오행입니다. 용신과 함께 길운을 만듭니다.`,
    },
    gisin: {
      element: gisinElement,
      hanja: ELEMENT_HANJA[gisinElement],
      description: `${gisinElement}(${ELEMENT_HANJA[gisinElement]}) - 용신을 방해하는 오행입니다. 이 기운이 강해지면 주의가 필요합니다.`,
    },
    gusin: {
      element: gusinElement,
      hanja: ELEMENT_HANJA[gusinElement],
      description: `${gusinElement}(${ELEMENT_HANJA[gusinElement]}) - 기신을 돕는 오행입니다. 기신과 함께 흉운을 만들 수 있습니다.`,
    },
    hansin: {
      element: hansinElement,
      hanja: ELEMENT_HANJA[hansinElement],
      description: `${hansinElement}(${ELEMENT_HANJA[hansinElement]}) - 영향이 미미한 중립적 오행입니다.`,
    },
    summary: isStrong
      ? `일간이 강하여 설기(泄氣)가 필요합니다. ${yongsinElement}(${ELEMENT_HANJA[yongsinElement]}) 기운이 용신입니다.`
      : `일간이 약하여 생조(生助)가 필요합니다. ${yongsinElement}(${ELEMENT_HANJA[yongsinElement]}) 기운이 용신입니다.`,
    advice: isStrong
      ? `${yongsinElement} 색상(${getElementColor(yongsinElement)})의 물건이나 ${getElementDirection(yongsinElement)} 방향이 길합니다.`
      : `${yongsinElement} 색상(${getElementColor(yongsinElement)})의 물건이나 ${getElementDirection(yongsinElement)} 방향이 길합니다.`,
  };
}

// 오행별 색상
function getElementColor(element: string): string {
  const colors: Record<string, string> = {
    '목': '초록색', '화': '빨간색', '토': '노란색', '금': '흰색', '수': '검은색',
  };
  return colors[element] || '노란색';
}

// 오행별 방향
function getElementDirection(element: string): string {
  const directions: Record<string, string> = {
    '목': '동쪽', '화': '남쪽', '토': '중앙', '금': '서쪽', '수': '북쪽',
  };
  return directions[element] || '중앙';
}

// ============================================
// 토정비결 144괘 계산법 (개선된 버전)
// 출처: 토정 이지함 선생 저술
// ============================================

/**
 * 토정비결 괘 계산
 * 상괘(연괘): (태세 + 나이) ÷ 8의 나머지 (1~8)
 * 중괘(월괘): (월건 수 + 나이) ÷ 6의 나머지 (1~6)
 * 하괘(일괘): (일진 수 + 나이) ÷ 3의 나머지 (1~3)
 * 총 144괘 조합
 */

// 월건 수 (음력 월 기준)
const MONTH_NUMBERS: Record<number, number> = {
  1: 10, 2: 9, 3: 8, 4: 7, 5: 6, 6: 5,
  7: 4, 8: 3, 9: 2, 10: 1, 11: 12, 12: 11,
};

// 144괘 중 대표적인 괘 해석 (상괘×중괘×하괘)
// 상괘(1-8): 건(乾), 태(兌), 이(離), 진(震), 손(巽), 감(坎), 간(艮), 곤(坤)
// 중괘(1-6): 건(乾), 태(兌), 이(離), 진(震), 손(巽), 간(艮)
// 하괘(1-3): 건(乾), 곤(坤), 감(坎)
const TOJEONG_144_FORTUNES: Record<string, {
  name: string;
  meaning: string;
  fortune: string;
  advice: string;
  score: number;
  seasonal: {
    spring: string;
    summer: string;
    autumn: string;
    winter: string;
  };
  monthly: string[];
  category: {
    wealth: { score: number; text: string };
    career: { score: number; text: string };
    love: { score: number; text: string };
    health: { score: number; text: string };
  };
}> = {
  // ========== 상괘 1 (건/乾) - 하늘 ==========
  '1-1-1': {
    name: '건건건(乾乾乾)',
    meaning: '하늘 위에 하늘이 있으니 가장 높은 경지에 오르는 상',
    fortune: '최상의 대길한 해입니다. 하늘이 세 번 겹친 상으로, 만사형통하고 하는 일마다 순조롭습니다. 큰 뜻을 품고 적극적으로 나아가면 성공을 이룰 수 있습니다. 용이 하늘로 오르는 형상으로, 평소에 품었던 큰 꿈을 실현할 수 있는 때입니다.',
    advice: '겸손을 잃지 않으면 복이 배가됩니다. 높은 곳에 있을수록 낮은 곳을 살피세요.',
    score: 95,
    seasonal: {
      spring: '봄에는 새로운 시작이 특히 길합니다. 씨앗을 뿌리면 반드시 결실을 맺습니다.',
      summer: '여름에는 활동력이 최고조에 달합니다. 적극적으로 움직이세요.',
      autumn: '가을에는 그동안의 노력이 결실을 맺습니다. 수확의 기쁨을 누리세요.',
      winter: '겨울에는 내년을 위한 계획을 세우기 좋습니다. 충분한 휴식도 취하세요.',
    },
    monthly: ['길', '길', '대길', '길', '대길', '길', '길', '대길', '길', '길', '대길', '길'],
    category: {
      wealth: { score: 95, text: '재물이 풍족하게 들어오는 상입니다. 투자에도 좋은 시기이며, 횡재수도 기대할 수 있습니다.' },
      career: { score: 96, text: '승진, 합격, 성공의 운이 있습니다. 리더십을 발휘할 기회가 많으며, 큰 프로젝트도 성공적으로 마무리됩니다.' },
      love: { score: 90, text: '좋은 인연을 만나거나 기존 관계가 더욱 깊어집니다. 혼인운도 좋습니다.' },
      health: { score: 88, text: '건강이 양호합니다. 다만 너무 바쁘게 움직여 과로하지 않도록 주의하세요.' },
    },
  },
  '1-1-2': {
    name: '건건곤(乾乾坤)',
    meaning: '하늘과 땅이 조화를 이루어 음양이 균형을 이루는 상',
    fortune: '음양이 조화로운 대길한 해입니다. 하늘과 땅이 만나 만물이 생성되듯, 새로운 것을 시작하기에 좋은 때입니다. 안정 속에서 발전이 있으며, 균형 잡힌 삶을 살 수 있습니다.',
    advice: '균형을 유지하며 나아가세요. 한쪽으로 치우치지 않는 것이 중요합니다.',
    score: 88,
    seasonal: {
      spring: '봄에는 새로운 시작이 길합니다. 계획했던 일을 시작하세요.',
      summer: '여름에는 활발한 활동이 좋습니다. 에너지가 넘칩니다.',
      autumn: '가을에는 균형 있는 생활이 중요합니다. 무리하지 마세요.',
      winter: '겨울에는 내실을 다지는 시기입니다. 조용히 준비하세요.',
    },
    monthly: ['길', '길', '길', '대길', '길', '길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 85, text: '재물운이 안정적입니다. 큰 횡재보다는 꾸준한 수입이 있습니다.' },
      career: { score: 88, text: '직장에서 인정받고 안정적인 성과를 거둡니다.' },
      love: { score: 90, text: '연인 관계가 조화롭고, 결혼 운도 좋습니다.' },
      health: { score: 85, text: '건강이 균형 잡혀 있습니다. 규칙적인 생활을 유지하세요.' },
    },
  },
  '1-1-3': {
    name: '건건감(乾乾坎)',
    meaning: '하늘 아래 물이 있으니 지혜가 필요한 상',
    fortune: '지혜로운 판단이 필요한 해입니다. 하늘 아래 깊은 물이 있듯, 표면 아래를 잘 살펴야 합니다. 신중하게 행동하면 좋은 결과가 있습니다.',
    advice: '성급한 결정은 피하세요. 깊이 생각하고 행동하세요.',
    score: 75,
    seasonal: {
      spring: '봄에는 조심스럽게 시작하세요. 서두르지 마세요.',
      summer: '여름에는 더위로 인한 판단력 저하에 주의하세요.',
      autumn: '가을에는 운이 상승합니다. 좋은 기회가 옵니다.',
      winter: '겨울에는 내면을 성찰하기 좋습니다.',
    },
    monthly: ['보통', '보통', '길', '길', '보통', '보통', '길', '길', '보통', '길', '보통', '보통'],
    category: {
      wealth: { score: 70, text: '재물운에 기복이 있습니다. 투자보다 저축이 좋습니다.' },
      career: { score: 75, text: '신중하게 일을 처리하면 인정받습니다.' },
      love: { score: 72, text: '감정에 휘둘리지 말고 이성적으로 판단하세요.' },
      health: { score: 68, text: '신장과 방광 건강에 주의하세요.' },
    },
  },
  '1-2-1': {
    name: '건태건(乾兌乾)',
    meaning: '하늘과 연못이 어우러져 기쁨이 넘치는 상',
    fortune: '즐거운 일이 많은 해입니다. 연못의 물이 반짝이듯 기쁜 소식이 찾아옵니다. 인간관계가 활발해지고 좋은 인연을 만날 수 있습니다.',
    advice: '좋은 인연을 소중히 하세요. 베풀면 더 많이 돌아옵니다.',
    score: 85,
    seasonal: {
      spring: '봄에는 새로운 인연이 들어옵니다.',
      summer: '여름에는 모임과 행사가 많습니다.',
      autumn: '가을에는 인간관계에서 기쁜 일이 생깁니다.',
      winter: '겨울에는 가족과의 화목이 길합니다.',
    },
    monthly: ['길', '대길', '길', '길', '대길', '길', '길', '길', '대길', '길', '길', '대길'],
    category: {
      wealth: { score: 82, text: '인맥을 통한 재물 운이 좋습니다.' },
      career: { score: 83, text: '팀워크가 좋아 성과를 거둡니다.' },
      love: { score: 90, text: '연애운이 매우 좋습니다. 좋은 만남이 있습니다.' },
      health: { score: 80, text: '스트레스가 적어 건강합니다.' },
    },
  },
  '1-2-2': {
    name: '건태곤(乾兌坤)',
    meaning: '하늘과 땅 사이에 기쁨이 있으니 화합의 상',
    fortune: '화합이 잘 이루어지는 해입니다. 위아래가 소통하고 가정과 직장 모두 평화롭습니다.',
    advice: '협력을 통해 더 큰 성과를 얻습니다.',
    score: 82,
    seasonal: {
      spring: '봄에는 협력 관계가 좋습니다.',
      summer: '여름에는 가족 행사가 길합니다.',
      autumn: '가을에는 결실을 함께 나누세요.',
      winter: '겨울에는 따뜻한 관계가 중요합니다.',
    },
    monthly: ['길', '길', '길', '길', '대길', '길', '길', '길', '길', '대길', '길', '길'],
    category: {
      wealth: { score: 80, text: '동업이나 투자에서 좋은 결과가 있습니다.' },
      career: { score: 82, text: '상사와의 관계가 좋아 승진 기회가 있습니다.' },
      love: { score: 85, text: '연인과의 관계가 깊어집니다.' },
      health: { score: 80, text: '정신 건강이 좋습니다.' },
    },
  },
  '1-2-3': {
    name: '건태감(乾兌坎)',
    meaning: '기쁨 속에 어려움이 숨어있으니 조심해야 하는 상',
    fortune: '좋은 일 중에도 작은 어려움이 있을 수 있습니다. 기쁜 마음에 방심하지 말고 항상 조심하세요.',
    advice: '기쁨에 취해 방심하지 마세요. 신중함을 유지하세요.',
    score: 70,
    seasonal: {
      spring: '봄에는 조심스럽게 행동하세요.',
      summer: '여름에는 물놀이나 수해에 주의하세요.',
      autumn: '가을에는 운이 상승합니다.',
      winter: '겨울에는 건강에 유의하세요.',
    },
    monthly: ['보통', '길', '보통', '길', '보통', '보통', '길', '보통', '길', '보통', '길', '보통'],
    category: {
      wealth: { score: 68, text: '예상치 못한 지출에 주의하세요.' },
      career: { score: 70, text: '성과가 있지만 방심하면 실수할 수 있습니다.' },
      love: { score: 72, text: '관계는 좋지만 오해가 생길 수 있습니다.' },
      health: { score: 65, text: '감기나 수인성 질병에 주의하세요.' },
    },
  },
  '1-3-1': {
    name: '건이건(乾離乾)',
    meaning: '하늘 위에 태양이 떠오르니 밝은 미래의 상',
    fortune: '밝고 희망찬 해입니다. 태양처럼 빛나는 성과를 거둘 수 있으며, 명예와 인정을 받습니다.',
    advice: '자신감을 갖고 전진하세요. 빛나는 미래가 기다립니다.',
    score: 88,
    seasonal: {
      spring: '봄에는 새로운 도전이 성공합니다.',
      summer: '여름에는 최고의 성과를 거둡니다.',
      autumn: '가을에는 명예를 얻습니다.',
      winter: '겨울에는 내년을 준비하며 빛날 수 있습니다.',
    },
    monthly: ['길', '대길', '대길', '길', '길', '대길', '길', '대길', '길', '길', '길', '길'],
    category: {
      wealth: { score: 85, text: '재물운이 밝습니다. 투자도 좋은 시기입니다.' },
      career: { score: 90, text: '승진과 인정의 기회가 많습니다.' },
      love: { score: 82, text: '밝은 에너지로 좋은 인연을 끌어당깁니다.' },
      health: { score: 80, text: '활력이 넘칩니다. 눈 건강에만 주의하세요.' },
    },
  },
  '1-3-2': {
    name: '건이곤(乾離坤)',
    meaning: '하늘과 태양과 땅이 조화를 이루는 상',
    fortune: '조화로운 발전의 해입니다. 밝은 에너지와 안정적인 기반이 함께합니다.',
    advice: '균형을 유지하며 발전하세요.',
    score: 83,
    seasonal: {
      spring: '봄에는 계획이 순조롭게 진행됩니다.',
      summer: '여름에는 열정적으로 활동하세요.',
      autumn: '가을에는 수확의 기쁨이 있습니다.',
      winter: '겨울에는 안정을 찾습니다.',
    },
    monthly: ['길', '길', '대길', '길', '길', '길', '대길', '길', '길', '길', '길', '대길'],
    category: {
      wealth: { score: 82, text: '꾸준한 수입과 저축으로 재산이 늘어납니다.' },
      career: { score: 85, text: '안정적인 성장이 있습니다.' },
      love: { score: 80, text: '따뜻한 관계가 지속됩니다.' },
      health: { score: 82, text: '체력이 좋습니다.' },
    },
  },
  '1-3-3': {
    name: '건이감(乾離坎)',
    meaning: '하늘과 불과 물이 만나니 기복이 있는 상',
    fortune: '변화가 많은 해입니다. 좋은 때와 어려운 때가 번갈아 옵니다. 유연하게 대처하세요.',
    advice: '상황에 맞게 유연하게 대처하세요.',
    score: 68,
    seasonal: {
      spring: '봄에는 변화에 적응하세요.',
      summer: '여름에는 화재와 수해에 주의하세요.',
      autumn: '가을에는 안정을 찾습니다.',
      winter: '겨울에는 내실을 다지세요.',
    },
    monthly: ['보통', '길', '보통', '보통', '길', '보통', '보통', '길', '보통', '보통', '길', '보통'],
    category: {
      wealth: { score: 65, text: '재물에 기복이 있습니다. 저축을 우선하세요.' },
      career: { score: 70, text: '변화가 있지만 잘 적응하면 괜찮습니다.' },
      love: { score: 68, text: '감정 기복에 주의하세요.' },
      health: { score: 65, text: '심장과 신장 건강을 살피세요.' },
    },
  },
  // ========== 상괘 2 (태/兌) - 연못 ==========
  '2-1-1': {
    name: '태건건(兌乾乾)',
    meaning: '연못 위에 하늘이 높으니 기쁨이 배가되는 상',
    fortune: '기쁨이 배가되는 대길한 해입니다. 연못에 하늘이 비치듯 좋은 일이 연이어 찾아옵니다.',
    advice: '베풀면 더 큰 기쁨이 돌아옵니다.',
    score: 87,
    seasonal: {
      spring: '봄에는 새로운 기쁨이 찾아옵니다.',
      summer: '여름에는 활발한 사회 활동이 좋습니다.',
      autumn: '가을에는 풍성한 결실이 있습니다.',
      winter: '겨울에는 따뜻한 모임이 길합니다.',
    },
    monthly: ['대길', '길', '길', '대길', '길', '길', '대길', '길', '길', '대길', '길', '길'],
    category: {
      wealth: { score: 85, text: '예상치 못한 횡재가 있을 수 있습니다.' },
      career: { score: 86, text: '인맥을 통한 기회가 많습니다.' },
      love: { score: 90, text: '연애와 결혼에 좋은 운입니다.' },
      health: { score: 82, text: '정신적으로 건강합니다.' },
    },
  },
  '2-2-1': {
    name: '태태건(兌兌乾)',
    meaning: '기쁨이 겹치니 경사가 많은 상',
    fortune: '경사가 겹치는 해입니다. 결혼, 출산, 취직 등 좋은 일이 연달아 일어날 수 있습니다.',
    advice: '기쁨을 나누면 배가 됩니다.',
    score: 90,
    seasonal: {
      spring: '봄에는 경사가 있습니다.',
      summer: '여름에는 사회활동이 왕성합니다.',
      autumn: '가을에는 풍성한 수확이 있습니다.',
      winter: '겨울에는 가족 모임이 좋습니다.',
    },
    monthly: ['대길', '대길', '길', '길', '대길', '대길', '길', '길', '대길', '길', '길', '대길'],
    category: {
      wealth: { score: 88, text: '재물운이 매우 좋습니다.' },
      career: { score: 85, text: '동료들과 협력하여 성과를 거둡니다.' },
      love: { score: 92, text: '결혼운이 특히 좋습니다.' },
      health: { score: 85, text: '즐거운 마음이 건강을 지킵니다.' },
    },
  },
  '2-3-1': {
    name: '태이건(兌離乾)',
    meaning: '기쁨과 밝음이 함께하니 환희의 상',
    fortune: '환희로운 해입니다. 밝은 에너지와 기쁨이 함께하여 모든 일이 순조롭습니다.',
    advice: '밝은 마음을 유지하세요.',
    score: 86,
    seasonal: {
      spring: '봄에는 희망이 가득합니다.',
      summer: '여름에는 활력이 넘칩니다.',
      autumn: '가을에는 성취의 기쁨이 있습니다.',
      winter: '겨울에도 따뜻한 기운이 유지됩니다.',
    },
    monthly: ['길', '대길', '길', '대길', '길', '길', '대길', '길', '길', '대길', '길', '길'],
    category: {
      wealth: { score: 84, text: '재물이 들어오고 나가는 순환이 좋습니다.' },
      career: { score: 86, text: '창의적인 아이디어가 인정받습니다.' },
      love: { score: 88, text: '밝은 성격이 좋은 인연을 끌어당깁니다.' },
      health: { score: 82, text: '활력이 넘치지만 눈 건강에 주의하세요.' },
    },
  },
  // ========== 상괘 3 (이/離) - 불 ==========
  '3-1-1': {
    name: '이건건(離乾乾)',
    meaning: '불이 하늘 위에 있으니 밝게 빛나는 상',
    fortune: '빛나는 성공의 해입니다. 당신의 능력과 재능이 인정받아 명예와 지위가 올라갑니다.',
    advice: '겸손함을 잃지 마세요. 빛은 겸손할 때 더 아름답습니다.',
    score: 88,
    seasonal: {
      spring: '봄에는 새로운 도전이 성공합니다.',
      summer: '여름에는 최고조의 성과를 거둡니다.',
      autumn: '가을에는 명예를 얻습니다.',
      winter: '겨울에는 다음을 준비하세요.',
    },
    monthly: ['길', '대길', '대길', '길', '대길', '길', '길', '대길', '길', '길', '길', '길'],
    category: {
      wealth: { score: 82, text: '명예와 함께 재물도 따릅니다.' },
      career: { score: 92, text: '승진과 인정의 기회가 많습니다.' },
      love: { score: 78, text: '일에 집중하느라 연애에 소홀할 수 있습니다.' },
      health: { score: 75, text: '과로에 주의하고 눈 건강을 챙기세요.' },
    },
  },
  '3-2-2': {
    name: '이태곤(離兌坤)',
    meaning: '불과 연못과 땅이 조화를 이루는 상',
    fortune: '조화로운 발전의 해입니다. 열정과 즐거움이 안정 위에서 꽃을 피웁니다.',
    advice: '균형 잡힌 삶을 추구하세요.',
    score: 80,
    seasonal: {
      spring: '봄에는 열정적으로 시작하세요.',
      summer: '여름에는 즐거운 활동이 많습니다.',
      autumn: '가을에는 안정적인 결실이 있습니다.',
      winter: '겨울에는 휴식을 취하세요.',
    },
    monthly: ['길', '길', '길', '대길', '길', '길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 78, text: '안정적인 수입이 있습니다.' },
      career: { score: 80, text: '꾸준한 성과가 있습니다.' },
      love: { score: 82, text: '연인과의 관계가 안정적입니다.' },
      health: { score: 80, text: '건강이 양호합니다.' },
    },
  },
  '3-4-2': {
    name: '이진곤(離震坤)',
    meaning: '불과 우레와 땅이 만나니 변화 속의 발전',
    fortune: '변화가 많지만 발전하는 해입니다. 격동 속에서도 성장합니다.',
    advice: '변화를 두려워하지 마세요. 변화는 성장의 기회입니다.',
    score: 75,
    seasonal: {
      spring: '봄에는 활발한 움직임이 있습니다.',
      summer: '여름에는 빠른 변화에 적응하세요.',
      autumn: '가을에는 안정을 찾습니다.',
      winter: '겨울에는 내실을 다지세요.',
    },
    monthly: ['길', '보통', '길', '길', '보통', '길', '길', '보통', '길', '길', '길', '보통'],
    category: {
      wealth: { score: 72, text: '변동이 있지만 전체적으로 상승합니다.' },
      career: { score: 78, text: '변화에 잘 적응하면 승진 기회가 있습니다.' },
      love: { score: 70, text: '관계에 변화가 있을 수 있습니다.' },
      health: { score: 72, text: '스트레스 관리에 주의하세요.' },
    },
  },
  // ========== 상괘 4 (진/震) - 우레 ==========
  '4-1-1': {
    name: '진건건(震乾乾)',
    meaning: '우레가 하늘을 울리니 크게 움직이는 상',
    fortune: '큰 변화와 도약의 해입니다. 우레처럼 강렬한 에너지로 새로운 시작을 할 수 있습니다.',
    advice: '용기를 갖고 도전하세요. 때가 왔습니다.',
    score: 85,
    seasonal: {
      spring: '봄에는 새로운 시작이 대길합니다.',
      summer: '여름에는 활발한 활동이 좋습니다.',
      autumn: '가을에는 성과를 거둡니다.',
      winter: '겨울에는 다음 도약을 준비하세요.',
    },
    monthly: ['대길', '길', '길', '길', '대길', '길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 82, text: '적극적인 활동으로 재물을 얻습니다.' },
      career: { score: 88, text: '도전적인 일에서 성과를 거둡니다.' },
      love: { score: 78, text: '적극적인 구애가 좋습니다.' },
      health: { score: 80, text: '활력이 넘칩니다.' },
    },
  },
  '4-5-3': {
    name: '진손감(震巽坎)',
    meaning: '우레와 바람과 물이 만나니 격동의 상',
    fortune: '격동의 해입니다. 변화가 많고 예측이 어렵지만, 잘 대처하면 성장합니다.',
    advice: '에너지를 분산하지 마세요. 한 가지에 집중하세요.',
    score: 68,
    seasonal: {
      spring: '봄에는 변화에 주의하세요.',
      summer: '여름에는 수해에 주의하세요.',
      autumn: '가을에는 안정을 찾습니다.',
      winter: '겨울에는 내실을 다지세요.',
    },
    monthly: ['보통', '보통', '길', '보통', '보통', '길', '보통', '보통', '길', '보통', '보통', '길'],
    category: {
      wealth: { score: 65, text: '지출에 주의하세요.' },
      career: { score: 70, text: '변화에 잘 적응해야 합니다.' },
      love: { score: 65, text: '관계의 변동에 주의하세요.' },
      health: { score: 68, text: '사고에 주의하세요.' },
    },
  },
  // ========== 상괘 5 (손/巽) - 바람 ==========
  '5-1-1': {
    name: '손건건(巽乾乾)',
    meaning: '바람이 하늘을 가르니 순풍에 돛을 단 상',
    fortune: '순풍에 돛을 단 것처럼 모든 일이 순조롭습니다. 막힘없이 앞으로 나아갈 수 있습니다.',
    advice: '순풍일 때 더 멀리 나아가세요.',
    score: 86,
    seasonal: {
      spring: '봄에는 순풍이 붑니다.',
      summer: '여름에는 더 멀리 나아가세요.',
      autumn: '가을에는 풍성한 결실이 있습니다.',
      winter: '겨울에는 안정을 취하세요.',
    },
    monthly: ['길', '길', '대길', '길', '길', '대길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 84, text: '재물이 순조롭게 들어옵니다.' },
      career: { score: 88, text: '일이 순조롭게 풀립니다.' },
      love: { score: 82, text: '인연이 자연스럽게 이어집니다.' },
      health: { score: 85, text: '호흡기 건강이 좋습니다.' },
    },
  },
  '5-6-1': {
    name: '손간건(巽艮乾)',
    meaning: '바람과 산이 조화를 이루니 안정 속의 발전',
    fortune: '안정과 발전이 함께하는 해입니다. 굳건한 기반 위에서 성장합니다.',
    advice: '기본에 충실하세요. 기본이 튼튼하면 모든 것이 가능합니다.',
    score: 83,
    seasonal: {
      spring: '봄에는 새로운 시작이 안정적입니다.',
      summer: '여름에는 꾸준히 발전합니다.',
      autumn: '가을에는 결실을 거둡니다.',
      winter: '겨울에는 내실을 다집니다.',
    },
    monthly: ['길', '길', '길', '대길', '길', '길', '길', '대길', '길', '길', '길', '대길'],
    category: {
      wealth: { score: 82, text: '안정적인 수입과 저축이 가능합니다.' },
      career: { score: 85, text: '안정적인 승진 기회가 있습니다.' },
      love: { score: 80, text: '안정적인 관계가 지속됩니다.' },
      health: { score: 85, text: '건강이 좋습니다.' },
    },
  },
  // ========== 상괘 6 (감/坎) - 물 ==========
  '6-1-1': {
    name: '감건건(坎乾乾)',
    meaning: '물이 하늘을 향해 흐르니 극복과 성취의 상',
    fortune: '어려움을 극복하고 성취하는 해입니다. 역경을 이겨내면 큰 성공이 기다립니다.',
    advice: '포기하지 마세요. 어둠이 지나면 빛이 옵니다.',
    score: 78,
    seasonal: {
      spring: '봄에는 희망이 솟아납니다.',
      summer: '여름에는 노력의 결실이 보입니다.',
      autumn: '가을에는 성취의 기쁨이 있습니다.',
      winter: '겨울에는 다음을 준비하세요.',
    },
    monthly: ['보통', '길', '길', '길', '대길', '길', '길', '대길', '길', '길', '길', '길'],
    category: {
      wealth: { score: 75, text: '노력 끝에 재물을 얻습니다.' },
      career: { score: 80, text: '어려운 일을 해결하여 인정받습니다.' },
      love: { score: 72, text: '인내가 필요한 관계입니다.' },
      health: { score: 70, text: '신장 건강에 주의하세요.' },
    },
  },
  '6-1-2': {
    name: '감건곤(坎乾坤)',
    meaning: '물이 하늘과 땅 사이를 흐르니 유연함의 상',
    fortune: '유연하게 적응하는 해입니다. 상황에 맞게 유연하게 대처하면 좋은 결과가 있습니다.',
    advice: '한 걸음씩 차근차근 나아가세요.',
    score: 75,
    seasonal: {
      spring: '봄에는 흐름에 맞추세요.',
      summer: '여름에는 물을 다루는 일이 좋습니다.',
      autumn: '가을에는 안정을 찾습니다.',
      winter: '겨울에는 준비하세요.',
    },
    monthly: ['보통', '길', '보통', '길', '길', '보통', '길', '보통', '길', '길', '보통', '길'],
    category: {
      wealth: { score: 72, text: '유연한 재정 관리가 필요합니다.' },
      career: { score: 75, text: '적응력이 중요합니다.' },
      love: { score: 70, text: '유연한 자세로 관계를 유지하세요.' },
      health: { score: 68, text: '수분 섭취에 신경 쓰세요.' },
    },
  },
  // ========== 상괘 7 (간/艮) - 산 ==========
  '7-1-1': {
    name: '간건건(艮乾乾)',
    meaning: '산 위에 하늘이 높으니 높은 이상을 향하는 상',
    fortune: '높은 목표를 향해 나아가는 해입니다. 꾸준히 노력하면 정상에 오를 수 있습니다.',
    advice: '조급해하지 말고 한 걸음씩 나아가세요.',
    score: 82,
    seasonal: {
      spring: '봄에는 새로운 목표를 세우세요.',
      summer: '여름에는 꾸준히 올라가세요.',
      autumn: '가을에는 정상이 보입니다.',
      winter: '겨울에는 정상에서 쉬세요.',
    },
    monthly: ['길', '길', '길', '길', '대길', '길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 78, text: '꾸준한 노력으로 재물을 모읍니다.' },
      career: { score: 85, text: '높은 목표를 달성합니다.' },
      love: { score: 75, text: '진지한 관계가 좋습니다.' },
      health: { score: 80, text: '등산 등 야외 활동이 좋습니다.' },
    },
  },
  '7-2-3': {
    name: '간태감(艮兌坎)',
    meaning: '산과 연못과 물이 만나니 감정의 기복',
    fortune: '감정의 기복이 있을 수 있는 해입니다. 평정심을 유지하는 것이 중요합니다.',
    advice: '감정 조절이 중요합니다. 마음의 평화를 유지하세요.',
    score: 65,
    seasonal: {
      spring: '봄에는 감정 기복에 주의하세요.',
      summer: '여름에는 더위로 예민해질 수 있습니다.',
      autumn: '가을에는 안정을 찾습니다.',
      winter: '겨울에는 우울함에 주의하세요.',
    },
    monthly: ['보통', '보통', '길', '보통', '보통', '길', '보통', '보통', '길', '보통', '보통', '보통'],
    category: {
      wealth: { score: 62, text: '감정에 휘둘려 지출하지 마세요.' },
      career: { score: 68, text: '인간관계에서 감정 조절이 필요합니다.' },
      love: { score: 60, text: '감정 기복이 관계에 영향을 줄 수 있습니다.' },
      health: { score: 65, text: '정신 건강에 주의하세요.' },
    },
  },
  // ========== 상괘 8 (곤/坤) - 땅 ==========
  '8-1-1': {
    name: '곤건건(坤乾乾)',
    meaning: '땅 위에 하늘이 높으니 크게 열리는 상',
    fortune: '새로운 시작이 크게 열리는 해입니다. 낮은 곳에서 시작하여 높은 곳으로 올라갑니다.',
    advice: '겸손하게 시작하면 크게 성공합니다.',
    score: 84,
    seasonal: {
      spring: '봄에는 새로운 시작이 좋습니다.',
      summer: '여름에는 발전합니다.',
      autumn: '가을에는 결실을 거둡니다.',
      winter: '겨울에는 내실을 다집니다.',
    },
    monthly: ['길', '대길', '길', '길', '길', '대길', '길', '길', '대길', '길', '길', '길'],
    category: {
      wealth: { score: 82, text: '기초부터 시작하여 재산을 모읍니다.' },
      career: { score: 85, text: '밑바닥부터 시작해도 크게 성공합니다.' },
      love: { score: 80, text: '겸손한 자세가 좋은 인연을 만납니다.' },
      health: { score: 82, text: '건강합니다.' },
    },
  },
  '8-3-1': {
    name: '곤이건(坤離乾)',
    meaning: '땅과 불과 하늘이 조화를 이루니 발전의 상',
    fortune: '내실을 다지며 발전하는 해입니다. 기초를 튼튼히 하면 높이 올라갈 수 있습니다.',
    advice: '기초를 튼튼히 하세요.',
    score: 80,
    seasonal: {
      spring: '봄에는 기초를 다지세요.',
      summer: '여름에는 열정적으로 발전하세요.',
      autumn: '가을에는 결실이 있습니다.',
      winter: '겨울에는 내년을 준비하세요.',
    },
    monthly: ['길', '길', '대길', '길', '길', '길', '대길', '길', '길', '길', '대길', '길'],
    category: {
      wealth: { score: 78, text: '기초가 튼튼한 투자가 좋습니다.' },
      career: { score: 82, text: '실력을 쌓아 인정받습니다.' },
      love: { score: 78, text: '진실한 관계가 좋습니다.' },
      health: { score: 80, text: '건강이 양호합니다.' },
    },
  },
  '8-6-3': {
    name: '곤간감(坤艮坎)',
    meaning: '땅과 산과 물이 만나니 막힘의 상',
    fortune: '주의가 필요한 해입니다. 일이 막힐 수 있으니 무리하지 말고 현상 유지에 집중하세요.',
    advice: '현상 유지에 집중하세요. 무리한 일은 피하세요.',
    score: 50,
    seasonal: {
      spring: '봄에는 조심스럽게 시작하세요.',
      summer: '여름에는 더 조심하세요.',
      autumn: '가을에는 조금 나아집니다.',
      winter: '겨울에는 내년을 기약하세요.',
    },
    monthly: ['주의', '주의', '보통', '주의', '보통', '주의', '보통', '주의', '보통', '보통', '주의', '주의'],
    category: {
      wealth: { score: 45, text: '재물 손실에 주의하세요. 투자는 피하세요.' },
      career: { score: 52, text: '현 위치에서 버티세요.' },
      love: { score: 48, text: '관계가 막힐 수 있습니다.' },
      health: { score: 50, text: '건강에 특히 주의하세요.' },
    },
  },
  '7-5-3': {
    name: '간손감(艮巽坎)',
    meaning: '산과 바람과 물이 만나니 변동의 상',
    fortune: '변동이 많을 수 있습니다. 신중하게 행동하고 큰 결정은 미루세요.',
    advice: '큰 결정은 미루세요. 신중하게 행동하세요.',
    score: 55,
    seasonal: {
      spring: '봄에는 변화에 주의하세요.',
      summer: '여름에는 수해에 주의하세요.',
      autumn: '가을에는 조금 안정됩니다.',
      winter: '겨울에는 다음을 기약하세요.',
    },
    monthly: ['주의', '보통', '주의', '보통', '보통', '주의', '보통', '보통', '길', '보통', '보통', '주의'],
    category: {
      wealth: { score: 52, text: '예상치 못한 지출에 주의하세요.' },
      career: { score: 58, text: '변화에 대비하세요.' },
      love: { score: 55, text: '관계의 변동이 있을 수 있습니다.' },
      health: { score: 55, text: '사고에 주의하세요.' },
    },
  },
};

// 기본 괘 해석 (144괘 중 정의되지 않은 것들을 위한 기본값)
function getDefaultTojeongFortune(upperGua: number, middleGua: number, lowerGua: number): {
  name: string; meaning: string; fortune: string; advice: string; score: number;
} {
  const guaNames = ['건', '태', '이', '진', '손', '감', '간', '곤'];
  const baseScore = 60 + (upperGua * 2) + (middleGua * 3) - (lowerGua * 2);
  const score = Math.max(45, Math.min(90, baseScore));

  return {
    name: `${guaNames[upperGua - 1] || '건'}${guaNames[middleGua - 1] || '건'}${guaNames[lowerGua - 1] || '건'}괘`,
    meaning: '괘상 해석',
    fortune: score >= 80 ? '길운이 함께하는 해입니다. 적극적으로 활동하세요.' :
             score >= 65 ? '보통의 운입니다. 꾸준히 노력하면 좋은 결과가 있습니다.' :
             '주의가 필요한 해입니다. 무리하지 말고 내실을 다지세요.',
    advice: score >= 80 ? '좋은 기회를 놓치지 마세요.' :
            score >= 65 ? '인내심을 갖고 노력하세요.' :
            '조심스럽게 행동하고 건강에 유의하세요.',
    score,
  };
}

/**
 * 개선된 토정비결 운세 생성 함수
 */
export function generateImprovedTojeongFortune(birthDate: string, lunarBirthMonth?: number, dayMaster: string = '갑', targetDate: Date = new Date()) {
  const [yearStr, monthStr, dayStr] = birthDate.split('-');
  const birthYear = parseInt(yearStr, 10);
  const birthMonth = lunarBirthMonth || parseInt(monthStr, 10);
  const birthDay = parseInt(dayStr, 10);

  const currentYear = targetDate.getFullYear();
  const age = currentYear - birthYear + 1; // 한국 나이

  // 태세 (연도의 지지 수) - 간략화: 연도 % 12
  const taeSe = ((birthYear - 4) % 12) + 1;

  // 상괘 계산: (태세 + 나이) % 8, 0이면 8
  let upperGua = (taeSe + age) % 8;
  if (upperGua === 0) upperGua = 8;

  // 월건 수
  const monthNumber = MONTH_NUMBERS[birthMonth] || 1;

  // 중괘 계산: (월건 수 + 나이) % 6, 0이면 6
  let middleGua = (monthNumber + age) % 6;
  if (middleGua === 0) middleGua = 6;

  // 하괘 계산: (일진 수 + 나이) % 3, 0이면 3
  let lowerGua = (birthDay + age) % 3;
  if (lowerGua === 0) lowerGua = 3;

  // 괘 키 생성
  const guaKey = `${upperGua}-${middleGua}-${lowerGua}`;

  // 해당 괘 해석 찾기
  const fortune = TOJEONG_144_FORTUNES[guaKey] || getDefaultTojeongFortune(upperGua, middleGua, lowerGua);

  return {
    summary: fortune.fortune,
    score: fortune.score,
    guaInfo: {
      upper: upperGua,
      middle: middleGua,
      lower: lowerGua,
      name: fortune.name,
      meaning: fortune.meaning,
    },
    categories: [
      {
        emoji: '📜',
        title: '괘상 해석',
        content: `${currentYear}년 당신의 괘는 "${fortune.name}"입니다.\n\n${fortune.meaning}\n\n${fortune.fortune}`,
        advice: fortune.advice,
        score: fortune.score,
      },
      {
        emoji: '💰',
        title: '재물운',
        content: fortune.score >= 80 ? '재물이 모이는 상입니다. 투자나 저축에 좋은 해입니다.' :
                 fortune.score >= 65 ? '안정적인 재물운입니다. 무리하지 않으면 좋은 결과가 있습니다.' :
                 fortune.score >= 50 ? '보통의 재물운입니다. 절약하고 검소하게 생활하세요.' :
                 '재물 손실에 주의하세요. 투자보다 저축이 좋습니다.',
        score: Math.max(40, fortune.score - 5),
      },
      {
        emoji: '👔',
        title: '직업운',
        content: fortune.score >= 80 ? '승진이나 성공의 기회가 많습니다. 적극적으로 도전하세요.' :
                 fortune.score >= 65 ? '안정적인 직업운입니다. 꾸준히 노력하면 인정받습니다.' :
                 fortune.score >= 50 ? '무난한 직업운입니다. 현재 위치에서 최선을 다하세요.' :
                 '직장 생활에 어려움이 있을 수 있습니다. 인내가 필요합니다.',
        score: Math.max(40, fortune.score - 3),
      },
      {
        emoji: '❤️',
        title: '가정/인연운',
        content: fortune.score >= 80 ? '가정에 경사가 있을 수 있습니다. 좋은 인연도 기대됩니다.' :
                 fortune.score >= 65 ? '가족 간 화목한 해입니다. 인연운도 좋습니다.' :
                 fortune.score >= 50 ? '평화로운 가정운입니다. 감사하는 마음을 갖으세요.' :
                 '가족 간 갈등에 주의하세요. 대화로 풀어가세요.',
        score: Math.max(40, fortune.score - 8),
      },
      {
        emoji: '🏥',
        title: '건강운',
        content: fortune.score >= 80 ? '건강운이 좋습니다. 활력이 넘치는 한 해입니다.' :
                 fortune.score >= 65 ? '보통의 건강운입니다. 규칙적인 생활이 중요합니다.' :
                 fortune.score >= 50 ? '건강에 조금 더 신경 쓰세요. 무리하지 마세요.' :
                 '건강 관리에 특히 주의하세요. 정기 검진을 권합니다.',
        score: Math.max(40, fortune.score - 10),
      },
    ],
    luckyInfo: getYongsinBasedLuckyInfo(dayMaster),
    tip: fortune.score >= 70
      ? '좋은 운에 겸손과 감사가 더해지면 복이 배가 됩니다.'
      : '올해는 내실을 다지는 해입니다. 차근차근 준비하면 다음 해에 더 큰 성과를 얻을 수 있습니다.',
    calculationMethod: `상괘(${upperGua}) × 중괘(${middleGua}) × 하괘(${lowerGua}) = ${guaKey}`,
  };
}

// 일간별 궁합 띠 - 삼합/육합 기반
const COMPATIBLE_ANIMALS: Record<string, { good: string[]; reason: string }> = {
  '갑': { good: ['호랑이띠', '토끼띠', '용띠'], reason: '목(木) 기운과 삼합/육합하는 띠입니다.' },
  '을': { good: ['호랑이띠', '토끼띠', '양띠'], reason: '목(木) 기운과 조화로운 띠입니다.' },
  '병': { good: ['뱀띠', '말띠', '양띠'], reason: '화(火) 기운과 삼합하는 띠입니다.' },
  '정': { good: ['뱀띠', '말띠', '개띠'], reason: '화(火) 기운과 조화로운 띠입니다.' },
  '무': { good: ['소띠', '용띠', '원숭이띠'], reason: '토(土) 기운과 삼합하는 띠입니다.' },
  '기': { good: ['소띠', '닭띠', '돼지띠'], reason: '토(土) 기운과 조화로운 띠입니다.' },
  '경': { good: ['원숭이띠', '닭띠', '뱀띠'], reason: '금(金) 기운과 삼합하는 띠입니다.' },
  '신': { good: ['원숭이띠', '닭띠', '용띠'], reason: '금(金) 기운과 조화로운 띠입니다.' },
  '임': { good: ['쥐띠', '돼지띠', '용띠'], reason: '수(水) 기운과 삼합하는 띠입니다.' },
  '계': { good: ['쥐띠', '돼지띠', '소띠'], reason: '수(水) 기운과 조화로운 띠입니다.' },
};

// 십이시진(十二時辰) - 하루의 길운 시간대
const LUCKY_TIME_SLOTS = [
  { name: '자시(子時)', time: '밤 11시~새벽 1시', element: '수(水)', suitable: ['임', '계', '갑', '을'] },
  { name: '축시(丑時)', time: '새벽 1시~3시', element: '토(土)', suitable: ['무', '기', '경', '신'] },
  { name: '인시(寅時)', time: '새벽 3시~5시', element: '목(木)', suitable: ['갑', '을', '병', '정'] },
  { name: '묘시(卯時)', time: '새벽 5시~7시', element: '목(木)', suitable: ['갑', '을', '병', '정'] },
  { name: '진시(辰時)', time: '오전 7시~9시', element: '토(土)', suitable: ['무', '기', '경', '신'] },
  { name: '사시(巳時)', time: '오전 9시~11시', element: '화(火)', suitable: ['병', '정', '무', '기'] },
  { name: '오시(午時)', time: '오전 11시~오후 1시', element: '화(火)', suitable: ['병', '정', '무', '기'] },
  { name: '미시(未時)', time: '오후 1시~3시', element: '토(土)', suitable: ['무', '기', '경', '신'] },
  { name: '신시(申時)', time: '오후 3시~5시', element: '금(金)', suitable: ['경', '신', '임', '계'] },
  { name: '유시(酉時)', time: '오후 5시~7시', element: '금(金)', suitable: ['경', '신', '임', '계'] },
  { name: '술시(戌時)', time: '저녁 7시~9시', element: '토(土)', suitable: ['무', '기', '경', '신'] },
  { name: '해시(亥時)', time: '밤 9시~11시', element: '수(水)', suitable: ['임', '계', '갑', '을'] },
];

export function generateLuckyInfo(birthDate: string, dayMaster?: string, targetDate: Date = new Date()) {
  const dateHash = birthDate.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const todayHash = targetDate.getDate() + targetDate.getMonth() * 31 + targetDate.getFullYear();
  const combinedHash = dateHash + todayHash;

  const dm = dayMaster || '갑';

  // 용신 색상
  const colorInfo = YONGSHIN_COLORS[dm] || YONGSHIN_COLORS['갑'];

  // 용신 방향
  const directionInfo = YONGSHIN_DIRECTIONS[dm] || YONGSHIN_DIRECTIONS['갑'];

  // 행운의 물건
  const itemInfo = YONGSHIN_ITEMS[dm] || YONGSHIN_ITEMS['갑'];

  // 기신 (피해야 할 것)
  const gishinInfo = GISHIN_WARNINGS[dm] || GISHIN_WARNINGS['갑'];

  // 궁합 띠
  const compatibleInfo = COMPATIBLE_ANIMALS[dm] || COMPATIBLE_ANIMALS['갑'];

  // 행운의 숫자 (하도낙서 기반 오행 숫자)
  const elementNumbers: Record<string, string> = {
    '목(木)': '3, 8',
    '화(火)': '2, 7',
    '토(土)': '5, 10',
    '금(金)': '4, 9',
    '수(水)': '1, 6',
  };
  const luckyNumbers = elementNumbers[colorInfo.element] || '5, 10';

  // 길운 시간대 (일간에 맞는 시간대 찾기)
  const suitableTimes = LUCKY_TIME_SLOTS.filter(slot =>
    slot.suitable.includes(dm)
  );
  // 오늘 날짜에 따라 시간대 선택
  const selectedTime = suitableTimes[combinedHash % suitableTimes.length] || LUCKY_TIME_SLOTS[5];

  // 오행 상생 조언
  const elementAdvice: Record<string, string> = {
    '목(木)': '나무의 기운처럼 성장과 발전에 좋은 날입니다. 새로운 시작이나 계획에 적합합니다.',
    '화(火)': '불의 기운처럼 활력과 열정이 넘치는 날입니다. 적극적인 활동에 좋습니다.',
    '토(土)': '흙의 기운처럼 안정과 신뢰가 중요한 날입니다. 중재나 조정에 적합합니다.',
    '금(金)': '쇠의 기운처럼 결단과 실행이 중요한 날입니다. 마무리나 정리에 좋습니다.',
    '수(水)': '물의 기운처럼 지혜와 유연함이 중요한 날입니다. 학습이나 연구에 적합합니다.',
  };

  return {
    summary: `오늘의 길운 정보입니다.\n\n${dm} 일간에게 ${colorInfo.element} 기운이 도움이 됩니다.`,
    score: 75 + (combinedHash % 15),
    categories: [
      {
        emoji: '🎨',
        title: '행운의 색상',
        content: `${colorInfo.color}\n\n${colorInfo.reason}`,
        score: 80 + (combinedHash % 10),
      },
      {
        emoji: '🔢',
        title: '행운의 숫자',
        content: `${luckyNumbers}\n\n${colorInfo.element}의 오행에 해당하는 하도낙서(河圖洛書) 기반 숫자입니다.`,
        score: 75 + (combinedHash % 15),
      },
      {
        emoji: '🧭',
        title: '행운의 방향',
        content: `${directionInfo.direction}\n\n${directionInfo.reason}`,
        score: 78 + (combinedHash % 12),
      },
      {
        emoji: '⏰',
        title: '길운 시간대',
        content: `${selectedTime.name} (${selectedTime.time})\n\n${selectedTime.element}의 기운이 흐르는 시간으로, ${dm} 일간에게 좋은 시간대입니다.`,
        score: 77 + (combinedHash % 13),
      },
      {
        emoji: '🎁',
        title: '행운의 물건',
        content: `${itemInfo.item}\n\n${itemInfo.reason}`,
        score: 76 + (combinedHash % 14),
      },
      {
        emoji: '🤝',
        title: '오늘 함께하면 좋은 띠',
        content: `${compatibleInfo.good.join(', ')}\n\n${compatibleInfo.reason}`,
        score: 74 + (combinedHash % 16),
      },
      {
        emoji: '⚠️',
        title: '주의할 점',
        content: `피하면 좋은 색상: ${gishinInfo.color}\n피하면 좋은 방향: ${gishinInfo.direction}\n\n${gishinInfo.reason}`,
        score: 70,
      },
    ],
    luckyInfo: {
      color: colorInfo.color,
      number: luckyNumbers,
      direction: directionInfo.direction,
      item: itemInfo.item,
    },
    advice: elementAdvice[colorInfo.element] || elementAdvice['토(土)'],
  };
}

// ============================================
// 종합운세 (모든 운세를 하나로 통합)
// ============================================

export interface ComprehensiveFortune {
  // 기본 정보
  userName: string;
  birthDate: string;
  dayMaster: string;
  generatedAt: string;

  // 종합 점수 및 요약
  overallScore: number;
  overallSummary: string;
  todayKeywords: string[];

  // 오늘의 일간 운세 (기본 운세)
  dailyFortune: {
    summary: string;
    scores: {
      overall: number;
      love: number;
      money: number;
      work: number;
      health: number;
    };
    elementAnalysis: string;
    branchAnalysis: string;
    doList: string[];
    dontList: string[];
  };

  // 신년운세 (십신 기반)
  yearlyFortune: {
    summary: string;
    tenGod: string;
    yearInfo: string;
    score: number;
    highlights: string[];
  };

  // 띠운세
  animalFortune: {
    animal: string;
    emoji: string;
    summary: string;
    score: number;
    personality: string;
  };

  // 별자리운세
  zodiacFortune: {
    sign: string;
    emoji: string;
    element: string;
    summary: string;
    score: number;
  };

  // 토정비결
  tojeongFortune: {
    gwae: string;
    summary: string;
    score: number;
    luckyLevel: string;
  };

  // 오령 분석 (오행 균형)
  fiveSpiritsAnalysis: {
    balance: string;
    dominant: string;
    lacking: string;
    advice: string;
  };

  // 길운 정보
  luckyInfo: {
    color: string;
    number: string;
    direction: string;
    item: string;
    time: string;
  };

  // 종합 조언
  comprehensiveAdvice: {
    morning: string;
    afternoon: string;
    evening: string;
    overall: string;
  };
}

export function generateComprehensiveFortune(
  birthDate: string,
  dayMaster: string,
  userName: string = '사용자',
  targetDate?: Date  // 운세를 볼 날짜 (기본값: 오늘)
): ComprehensiveFortune {
  const fortuneDate = targetDate || new Date();
  const dateStr = fortuneDate.toISOString().split('T')[0];
  const dateHash = birthDate.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const fortuneDateHash = fortuneDate.getDate() + fortuneDate.getMonth() * 31 + fortuneDate.getFullYear();
  const combinedHash = dateHash + fortuneDateHash;

  // 1. 신년운세 생성 (선택 날짜 기준)
  const yearly = generateYearlyFortune(birthDate, dayMaster, fortuneDate);

  // 2. 띠운세 생성
  const animal = generateAnimalFortune(birthDate, dayMaster);

  // 3. 별자리운세 생성 (선택 날짜 기준)
  const zodiac = generateZodiacFortune(birthDate, dayMaster, fortuneDate);

  // 4. 토정비결 생성 (선택 날짜 기준)
  const tojeong = generateImprovedTojeongFortune(birthDate, undefined, dayMaster, fortuneDate);

  // 5. 오행 균형 분석 (간단한 분석)
  const elementMap: Record<string, string> = {
    '갑': '목', '을': '목', '병': '화', '정': '화', '무': '토',
    '기': '토', '경': '금', '신': '금', '임': '수', '계': '수',
  };
  const dayMasterElement = elementMap[dayMaster] || '목';

  // 생년월일에서 간단히 오행 분포 추정
  const elementHash = birthDate.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const fakeElements: Record<string, number> = {
    '목': 1 + (elementHash % 3),
    '화': 1 + ((elementHash + 1) % 3),
    '토': 1 + ((elementHash + 2) % 3),
    '금': 1 + ((elementHash + 3) % 3),
    '수': 1 + ((elementHash + 4) % 3),
  };
  const fiveSpirits = analyzeFiveSpirits(dayMasterElement, fakeElements);

  // 6. 길운 정보 생성 (선택 날짜 기준)
  const lucky = generateLuckyInfo(birthDate, dayMaster, fortuneDate);

  // 7. 일진(日辰) 기반 일별 운세 변동 계산
  // 60갑자 일주기를 기반으로 날짜마다 다른 점수 변동
  const dayOfYear = Math.floor((fortuneDate.getTime() - new Date(fortuneDate.getFullYear(), 0, 0).getTime()) / (1000 * 60 * 60 * 24));
  const dailyIndex = (dayOfYear + dateHash) % 60; // 60갑자 주기

  // 일별 점수 변동 (-10 ~ +10)
  const dailyVariation = Math.sin(dailyIndex * Math.PI / 30) * 10;

  // 요일별 추가 변동 (-3 ~ +3)
  const dayOfWeek = fortuneDate.getDay();
  const weekdayVariation = [2, -1, 0, 1, 3, 2, -2][dayOfWeek]; // 일월화수목금토

  // 종합 점수 계산 (각 운세 점수의 가중 평균 + 일별 변동)
  const baseScore = Math.round(
    (yearly.score * 0.25) +
    (animal.score * 0.2) +
    ((zodiac.score || 75) * 0.15) +
    (tojeong.score * 0.2) +
    ((lucky.score || 75) * 0.2)
  );

  // 최종 점수 (50~95 범위로 제한)
  const overallScore = Math.max(50, Math.min(95, Math.round(baseScore + dailyVariation + weekdayVariation)));

  // 십신 한글명
  const tenGodNames: Record<string, string> = {
    '비견': '비견(比肩) - 형제자매, 동료의 해',
    '겁재': '겁재(劫財) - 경쟁과 도전의 해',
    '식신': '식신(食神) - 창의와 표현의 해',
    '상관': '상관(傷官) - 변화와 혁신의 해',
    '정재': '정재(正財) - 안정적 재물의 해',
    '편재': '편재(偏財) - 투자와 기회의 해',
    '정관': '정관(正官) - 승진과 명예의 해',
    '편관': '편관(偏官) - 도전과 극복의 해',
    '정인': '정인(正印) - 학습과 성장의 해',
    '편인': '편인(偏印) - 지혜와 깨달음의 해',
  };

  // 오행 분석 텍스트 생성
  const elementAnalysisText = `용신: ${fiveSpirits.yongsin.element}(${fiveSpirits.yongsin.hanja}), 희신: ${fiveSpirits.heesin.element}(${fiveSpirits.heesin.hanja})`;

  // 오늘의 키워드 생성 (날짜별로 다르게)
  const keywordPool = [
    '성장', '발전', '기회', '행운', '만남', '성공', '건강', '화합',
    '창의', '도전', '안정', '소통', '집중', '균형', '신뢰', '변화',
    '시작', '완성', '협력', '지혜', '인내', '기쁨', '풍요', '평화'
  ];
  // dailyIndex와 combinedHash를 조합하여 날짜마다 다른 키워드 선택
  const keywordSeed = dailyIndex * 7 + combinedHash;
  const selectedKeywords = [
    keywordPool[keywordSeed % keywordPool.length],
    keywordPool[(keywordSeed + 5) % keywordPool.length],
    keywordPool[(keywordSeed + 11) % keywordPool.length],
  ];

  // 시간대별 조언 생성 (날짜에 따라 다르게)
  const morningAdvices = [
    `아침에는 ${dayMaster} 일간의 기운을 살려 차분하게 하루를 시작하세요. 명상이나 가벼운 운동으로 에너지를 충전하면 좋습니다.`,
    `오늘 아침은 ${selectedKeywords[0]}의 기운이 강합니다. 일찍 일어나 중요한 일을 처리하세요.`,
    `${fortuneDate.getMonth() + 1}월의 기운과 함께 상쾌하게 시작하세요. 아침 식사를 꼭 챙기면 운기가 상승합니다.`,
    `오전 시간대가 가장 좋은 기운을 받습니다. 중요한 연락이나 결정은 아침에 하세요.`,
    `${dayMasterElement}의 기운으로 하루를 열어보세요. 짧은 산책이나 스트레칭이 도움됩니다.`,
  ];
  const afternoonAdvices = [
    `오후에는 적극적인 활동이 좋습니다. ${yearly.yearInfo.tenGod}의 기운이 강해지는 시간이니 중요한 미팅이나 결정은 이 시간대에 하세요.`,
    `점심 후에는 ${selectedKeywords[1]}에 집중하면 좋은 결과가 있습니다.`,
    `오후 2시~4시 사이가 집중력이 높아지는 시간입니다. 복잡한 업무는 이때 처리하세요.`,
    `사람들과의 교류가 좋은 시간대입니다. 협력 관계를 강화하세요.`,
    `창의적인 아이디어가 떠오르는 시간입니다. 메모해두면 나중에 도움이 됩니다.`,
  ];
  const eveningAdvices = [
    `저녁에는 휴식과 재충전의 시간으로 활용하세요. 가족이나 친한 사람들과 시간을 보내면 운기가 상승합니다.`,
    `하루를 정리하며 내일을 준비하세요. ${selectedKeywords[2]}을 되새기면 좋습니다.`,
    `저녁 식사 후 가벼운 산책이 건강과 운기에 도움됩니다.`,
    `오늘 감사한 일 세 가지를 적어보세요. 긍정적인 에너지가 쌓입니다.`,
    `충분한 수면을 취하세요. 내일의 좋은 운기는 오늘 밤의 휴식에서 시작됩니다.`,
  ];

  const timeAdvice = {
    morning: morningAdvices[dailyIndex % morningAdvices.length],
    afternoon: afternoonAdvices[(dailyIndex + 2) % afternoonAdvices.length],
    evening: eveningAdvices[(dailyIndex + 4) % eveningAdvices.length],
    overall: `오늘의 핵심은 '${selectedKeywords[0]}'입니다. ${animal.animalInfo?.name || ''}의 지혜를 발휘하여 ${zodiac.categories?.[0]?.advice || '현명하게 대처'}하세요.`,
  };

  // 할일/피할일 생성 (날짜별로 다르게)
  const doListPool = [
    `${lucky.luckyInfo?.color || '행운의 색상'} 계열의 옷이나 소품 착용하기`,
    `${lucky.luckyInfo?.direction || '동쪽'} 방향으로 이동하거나 앉기`,
    yearly.yearInfo.tenGod === '정재' || yearly.yearInfo.tenGod === '편재'
      ? '재테크나 저축 관련 활동하기'
      : '자기계발이나 학습에 시간 투자하기',
    `${animal.animalInfo?.name || '띠'}와 궁합이 좋은 사람과 교류하기`,
    '감사한 마음으로 하루를 시작하기',
    '물을 충분히 마시며 건강 관리하기',
    '새로운 사람과의 만남에 열린 마음 갖기',
    `${selectedKeywords[0]}을 실천하면 좋은 결과가 있습니다`,
    '오전 중에 중요한 일 처리하기',
    '가벼운 운동으로 활력 충전하기',
  ];
  const doList = [
    doListPool[dailyIndex % doListPool.length],
    doListPool[(dailyIndex + 2) % doListPool.length],
    doListPool[(dailyIndex + 4) % doListPool.length],
    doListPool[(dailyIndex + 6) % doListPool.length],
    doListPool[(dailyIndex + 8) % doListPool.length],
  ].filter((item, index, self) => self.indexOf(item) === index).slice(0, 5);

  const dontListPool = [
    '무리한 투자나 충동적인 결정 피하기',
    '불필요한 다툼이나 갈등 회피하기',
    '과로와 스트레스 주의하기',
    '음주와 과식 절제하기',
    '중요한 결정은 충분히 생각 후에 하기',
    '급한 마음으로 서두르지 않기',
    '험한 말이나 부정적인 표현 삼가기',
    '늦은 밤까지 일하지 않기',
    '무리한 약속이나 계획 자제하기',
    '타인의 말에 쉽게 휘둘리지 않기',
  ];
  const dontList = [
    dontListPool[(dailyIndex + 1) % dontListPool.length],
    dontListPool[(dailyIndex + 3) % dontListPool.length],
    dontListPool[(dailyIndex + 5) % dontListPool.length],
    dontListPool[(dailyIndex + 7) % dontListPool.length],
    dontListPool[(dailyIndex + 9) % dontListPool.length],
  ].filter((item, index, self) => self.indexOf(item) === index).slice(0, 5);

  // 종합 요약 생성
  const overallSummary = `${userName}님, ${dateStr} 오늘의 종합운세입니다. ` +
    `${yearly.yearInfo.year}년 ${yearly.yearInfo.tenGod}(${tenGodNames[yearly.yearInfo.tenGod]?.split(' - ')[1] || '운세'})의 기운 아래, ` +
    `${animal.animalInfo?.name || '띠'}의 특성과 ${zodiac.categories?.[0]?.title || '별자리'}의 에너지가 조화를 이룹니다. ` +
    `오늘 종합점수는 ${overallScore}점으로, ${overallScore >= 80 ? '매우 좋은' : overallScore >= 70 ? '좋은' : overallScore >= 60 ? '무난한' : '조심해야 할'} 하루가 예상됩니다.`;

  return {
    userName,
    birthDate,
    dayMaster,
    generatedAt: fortuneDate.toISOString(),

    overallScore,
    overallSummary,
    todayKeywords: selectedKeywords,

    dailyFortune: {
      summary: `${dayMaster} 일간의 오늘 운세입니다. ${fiveSpirits.advice || '균형잡힌 하루를 보내세요.'}`,
      scores: {
        overall: overallScore,
        love: 70 + (combinedHash % 20),
        money: 68 + ((combinedHash + 5) % 22),
        work: 72 + ((combinedHash + 10) % 18),
        health: 75 + ((combinedHash + 15) % 15),
      },
      elementAnalysis: elementAnalysisText,
      branchAnalysis: '음양 균형 상태',
      doList,
      dontList,
    },

    yearlyFortune: {
      summary: yearly.summary,
      tenGod: yearly.yearInfo.tenGod,
      yearInfo: `${yearly.yearInfo.year}년 ${yearly.yearInfo.name} (${yearly.yearInfo.animal})`,
      score: yearly.score,
      highlights: yearly.categories.slice(0, 3).map(c => `${c.emoji} ${c.title}: ${c.content.substring(0, 50)}...`),
    },

    animalFortune: {
      animal: animal.animalInfo?.name || '띠',
      emoji: animal.animalInfo?.emoji || '🐾',
      summary: animal.summary,
      score: animal.score,
      personality: animal.animalInfo?.personality || '',
    },

    zodiacFortune: {
      sign: zodiac.summary.split('\n')[0] || '별자리',
      emoji: zodiac.summary.includes('♈') ? '♈' : zodiac.summary.split(' ')[0] || '⭐',
      element: zodiac.categories?.[0]?.title || '원소',
      summary: zodiac.categories?.[0]?.content || '',
      score: zodiac.score || 75,
    },

    tojeongFortune: {
      gwae: tojeong.guaInfo?.name || '괘',
      summary: tojeong.summary,
      score: tojeong.score,
      luckyLevel: tojeong.score >= 85 ? '대길(大吉)' : tojeong.score >= 70 ? '길(吉)' : tojeong.score >= 55 ? '평(平)' : '흉(凶)',
    },

    fiveSpiritsAnalysis: {
      balance: fiveSpirits.summary || '오행 균형 분석',
      dominant: fiveSpirits.yongsin?.element || '균형',
      lacking: fiveSpirits.gisin?.element || '없음',
      advice: fiveSpirits.advice || '균형잡힌 생활을 유지하세요.',
    },

    luckyInfo: {
      color: lucky.luckyInfo?.color || '초록색',
      number: lucky.luckyInfo?.number || '3, 8',
      direction: lucky.luckyInfo?.direction || '동쪽',
      item: lucky.luckyInfo?.item || '식물',
      time: lucky.categories?.find(c => c.title === '길운 시간대')?.content?.split('\n')[0] || '오전',
    },

    comprehensiveAdvice: timeAdvice,
  };
}
